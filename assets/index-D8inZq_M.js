var pS=i=>{throw TypeError(i)};var eg=(i,e,t)=>e.has(i)||pS("Cannot "+t);var Et=(i,e,t)=>(eg(i,e,"read from private field"),t?t.call(i):e.get(i)),qi=(i,e,t)=>e.has(i)?pS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),jn=(i,e,t,n)=>(eg(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),Yi=(i,e,t)=>(eg(i,e,"access private method"),t);var gS=(i,e,t,n)=>({set _(s){jn(i,e,s,t)},get _(){return Et(i,e,n)}});function gT(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(i,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function ch(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var tg={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function mT(){if(mS)return Pl;mS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:i,type:n,key:l,ref:s!==void 0?s:null,props:o}}return Pl.Fragment=e,Pl.jsx=t,Pl.jsxs=t,Pl}var yS;function yT(){return yS||(yS=1,tg.exports=mT()),tg.exports}var T=yT(),ng={exports:{}},jl={},ig={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function bT(){return bS||(bS=1,function(i){function e(k,H){var le=k.length;k.push(H);e:for(;0<le;){var pe=le-1>>>1,j=k[pe];if(0<s(j,H))k[pe]=H,k[le]=j,le=pe;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var H=k[0],le=k.pop();if(le!==H){k[0]=le;e:for(var pe=0,j=k.length,X=j>>>1;pe<X;){var ee=2*(pe+1)-1,te=k[ee],de=ee+1,Se=k[de];if(0>s(te,le))de<j&&0>s(Se,te)?(k[pe]=Se,k[de]=le,pe=de):(k[pe]=te,k[ee]=le,pe=ee);else if(de<j&&0>s(Se,le))k[pe]=Se,k[de]=le,pe=de;else break e}}return H}function s(k,H){var le=k.sortIndex-H.sortIndex;return le!==0?le:k.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();i.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,y=3,S=!1,v=!1,w=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function O(k){for(var H=t(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=k)n(f),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(f)}}function M(k){if(w=!1,O(k),!v)if(t(d)!==null)v=!0,R||(R=!0,ae());else{var H=t(f);H!==null&&ue(M,H.startTime-k)}}var R=!1,P=-1,B=5,U=-1;function C(){return A?!0:!(i.unstable_now()-U<B)}function V(){if(A=!1,R){var k=i.unstable_now();U=k;var H=!0;try{e:{v=!1,w&&(w=!1,L(P),P=-1),S=!0;var le=y;try{t:{for(O(k),g=t(d);g!==null&&!(g.expirationTime>k&&C());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,y=g.priorityLevel;var j=pe(g.expirationTime<=k);if(k=i.unstable_now(),typeof j=="function"){g.callback=j,O(k),H=!0;break t}g===t(d)&&n(d),O(k)}else n(d);g=t(d)}if(g!==null)H=!0;else{var X=t(f);X!==null&&ue(M,X.startTime-k),H=!1}}break e}finally{g=null,y=le,S=!1}H=void 0}}finally{H?ae():R=!1}}}var ae;if(typeof _=="function")ae=function(){_(V)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Z=ie.port2;ie.port1.onmessage=V,ae=function(){Z.postMessage(null)}}else ae=function(){x(V,0)};function ue(k,H){P=x(function(){k(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(k){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var le=y;y=H;try{return k()}finally{y=le}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=y;y=k;try{return H()}finally{y=le}},i.unstable_scheduleCallback=function(k,H,le){var pe=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,k){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=le+j,k={id:p++,callback:H,priorityLevel:k,startTime:le,expirationTime:j,sortIndex:-1},le>pe?(k.sortIndex=le,e(f,k),t(d)===null&&k===t(f)&&(w?(L(P),P=-1):w=!0,ue(M,le-pe))):(k.sortIndex=j,e(d,k),v||S||(v=!0,R||(R=!0,ae()))),k},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(k){var H=y;return function(){var le=y;y=H;try{return k.apply(this,arguments)}finally{y=le}}}}(rg)),rg}var vS;function vT(){return vS||(vS=1,ig.exports=bT()),ig.exports}var sg={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function ST(){if(SS)return Ue;SS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function A(j,X,ee){this.props=j,this.context=X,this.refs=w,this.updater=ee||S}A.prototype.isReactComponent={},A.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function x(){}x.prototype=A.prototype;function L(j,X,ee){this.props=j,this.context=X,this.refs=w,this.updater=ee||S}var _=L.prototype=new x;_.constructor=L,v(_,A.prototype),_.isPureReactComponent=!0;var O=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function P(j,X,ee,te,de,Se){return ee=Se.ref,{$$typeof:i,type:j,key:X,ref:ee!==void 0?ee:null,props:Se}}function B(j,X){return P(j.type,X,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function C(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ee){return X[ee]})}var V=/\/+/g;function ae(j,X){return typeof j=="object"&&j!==null&&j.key!=null?C(""+j.key):X.toString(36)}function ie(){}function Z(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ie,ie):(j.status="pending",j.then(function(X){j.status==="pending"&&(j.status="fulfilled",j.value=X)},function(X){j.status==="pending"&&(j.status="rejected",j.reason=X)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ue(j,X,ee,te,de){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var fe=!1;if(j===null)fe=!0;else switch(Se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(j.$$typeof){case i:case e:fe=!0;break;case p:return fe=j._init,ue(fe(j._payload),X,ee,te,de)}}if(fe)return de=de(j),fe=te===""?"."+ae(j,0):te,O(de)?(ee="",fe!=null&&(ee=fe.replace(V,"$&/")+"/"),ue(de,X,ee,"",function(bt){return bt})):de!=null&&(U(de)&&(de=B(de,ee+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+fe)),X.push(de)),1;fe=0;var Oe=te===""?".":te+":";if(O(j))for(var ze=0;ze<j.length;ze++)te=j[ze],Se=Oe+ae(te,ze),fe+=ue(te,X,ee,Se,de);else if(ze=y(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(te=j.next()).done;)te=te.value,Se=Oe+ae(te,ze++),fe+=ue(te,X,ee,Se,de);else if(Se==="object"){if(typeof j.then=="function")return ue(Z(j),X,ee,te,de);throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return fe}function k(j,X,ee){if(j==null)return j;var te=[],de=0;return ue(j,te,"","",function(Se){return X.call(ee,Se,de++)}),te}function H(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=ee)},function(ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=ee)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function pe(){}return Ue.Children={map:k,forEach:function(j,X,ee){k(j,function(){X.apply(this,arguments)},ee)},count:function(j){var X=0;return k(j,function(){X++}),X},toArray:function(j){return k(j,function(X){return X})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ue.Component=A,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=L,Ue.StrictMode=n,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(j){return M.H.useMemoCache(j)}},Ue.cache=function(j){return function(){return j.apply(null,arguments)}},Ue.cloneElement=function(j,X,ee){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=v({},j.props),de=j.key,Se=void 0;if(X!=null)for(fe in X.ref!==void 0&&(Se=void 0),X.key!==void 0&&(de=""+X.key),X)!R.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(te[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)te.children=ee;else if(1<fe){for(var Oe=Array(fe),ze=0;ze<fe;ze++)Oe[ze]=arguments[ze+2];te.children=Oe}return P(j.type,de,void 0,void 0,Se,te)},Ue.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ue.createElement=function(j,X,ee){var te,de={},Se=null;if(X!=null)for(te in X.key!==void 0&&(Se=""+X.key),X)R.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=X[te]);var fe=arguments.length-2;if(fe===1)de.children=ee;else if(1<fe){for(var Oe=Array(fe),ze=0;ze<fe;ze++)Oe[ze]=arguments[ze+2];de.children=Oe}if(j&&j.defaultProps)for(te in fe=j.defaultProps,fe)de[te]===void 0&&(de[te]=fe[te]);return P(j,Se,void 0,void 0,null,de)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(j){return{$$typeof:u,render:j}},Ue.isValidElement=U,Ue.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:H}},Ue.memo=function(j,X){return{$$typeof:f,type:j,compare:X===void 0?null:X}},Ue.startTransition=function(j){var X=M.T,ee={};M.T=ee;try{var te=j(),de=M.S;de!==null&&de(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(pe,le)}catch(Se){le(Se)}finally{M.T=X}},Ue.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ue.use=function(j){return M.H.use(j)},Ue.useActionState=function(j,X,ee){return M.H.useActionState(j,X,ee)},Ue.useCallback=function(j,X){return M.H.useCallback(j,X)},Ue.useContext=function(j){return M.H.useContext(j)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(j,X){return M.H.useDeferredValue(j,X)},Ue.useEffect=function(j,X,ee){var te=M.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(j,X)},Ue.useId=function(){return M.H.useId()},Ue.useImperativeHandle=function(j,X,ee){return M.H.useImperativeHandle(j,X,ee)},Ue.useInsertionEffect=function(j,X){return M.H.useInsertionEffect(j,X)},Ue.useLayoutEffect=function(j,X){return M.H.useLayoutEffect(j,X)},Ue.useMemo=function(j,X){return M.H.useMemo(j,X)},Ue.useOptimistic=function(j,X){return M.H.useOptimistic(j,X)},Ue.useReducer=function(j,X,ee){return M.H.useReducer(j,X,ee)},Ue.useRef=function(j){return M.H.useRef(j)},Ue.useState=function(j){return M.H.useState(j)},Ue.useSyncExternalStore=function(j,X,ee){return M.H.useSyncExternalStore(j,X,ee)},Ue.useTransition=function(){return M.H.useTransition()},Ue.version="19.1.0",Ue}var wS;function Mc(){return wS||(wS=1,sg.exports=ST()),sg.exports}var ag={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function wT(){if(xS)return vn;xS=1;var i=Mc();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},vn.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},vn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},vn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},vn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:S}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},vn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},vn.requestFormReset=function(d){n.d.r(d)},vn.unstable_batchedUpdates=function(d,f){return d(f)},vn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},vn.useFormStatus=function(){return l.H.useHostTransitionStatus()},vn.version="19.1.0",vn}var AS;function l1(){if(AS)return ag.exports;AS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ag.exports=wT(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function xT(){if(ES)return jl;ES=1;var i=vT(),e=Mc(),t=l1();function n(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(n(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(n(188));return a!==r?null:r}for(var c=r,h=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return u(m),r;if(b===h)return u(m),a;b=b.sibling}throw Error(n(188))}if(c.return!==h.return)c=m,h=b;else{for(var E=!1,D=m.child;D;){if(D===c){E=!0,c=m,h=b;break}if(D===h){E=!0,h=m,c=b;break}D=D.sibling}if(!E){for(D=b.child;D;){if(D===c){E=!0,c=b,h=m;break}if(D===h){E=!0,h=b,c=m;break}D=D.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:a}function f(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=f(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function Z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case v:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case R:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case _:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case O:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:Z(r.type)||"Memo";case B:a=r._payload,r=r._init;try{return Z(r(a))}catch{}}return null}var ue=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],j=-1;function X(r){return{current:r}}function ee(r){0>j||(r.current=pe[j],pe[j]=null,j--)}function te(r,a){j++,pe[j]=r.current,r.current=a}var de=X(null),Se=X(null),fe=X(null),Oe=X(null);function ze(r,a){switch(te(fe,a),te(Se,r),te(de,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Hv(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Hv(a),r=$v(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(de),te(de,r)}function bt(){ee(de),ee(Se),ee(fe)}function _e(r){r.memoizedState!==null&&te(Oe,r);var a=de.current,c=$v(a,r.type);a!==c&&(te(Se,r),te(de,c))}function ft(r){Se.current===r&&(ee(de),ee(Se)),Oe.current===r&&(ee(Oe),Ol._currentValue=le)}var tn=Object.prototype.hasOwnProperty,Fe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Tt=i.unstable_shouldYield,Dt=i.unstable_requestPaint,Gt=i.unstable_now,cr=i.unstable_getCurrentPriorityLevel,Br=i.unstable_ImmediatePriority,Sa=i.unstable_UserBlockingPriority,_i=i.unstable_NormalPriority,Ci=i.unstable_LowPriority,Fi=i.unstable_IdlePriority,wa=i.log,xs=i.unstable_setDisableYieldValue,mn=null,et=null;function nn(r){if(typeof wa=="function"&&xs(r),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(mn,r)}catch{}}var vt=Math.clz32?Math.clz32:eu,As=Math.log,Bi=Math.LN2;function eu(r){return r>>>=0,r===0?32:31-(As(r)/Bi|0)|0}var Es=256,_s=4194304;function ur(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Cs(r,a,c){var h=r.pendingLanes;if(h===0)return 0;var m=0,b=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var D=h&134217727;return D!==0?(h=D&~b,h!==0?m=ur(h):(E&=D,E!==0?m=ur(E):c||(c=D&~r,c!==0&&(m=ur(c))))):(D=h&~b,D!==0?m=ur(D):E!==0?m=ur(E):c||(c=h&~r,c!==0&&(m=ur(c)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:m}function zi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function tu(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var r=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),r}function nu(){var r=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),r}function Aa(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Ts(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function iu(r,a,c,h,m,b){var E=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,I=r.expirationTimes,Y=r.hiddenUpdates;for(c=E&~c;0<c;){var re=31-vt(c),oe=1<<re;D[re]=0,I[re]=-1;var K=Y[re];if(K!==null)for(Y[re]=null,re=0;re<K.length;re++){var W=K[re];W!==null&&(W.lane&=-536870913)}c&=~oe}h!==0&&Rs(r,h,0),b!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=b&~(E&~a))}function Rs(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-vt(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Ms(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-vt(c),m=1<<h;m&a|r[h]&a&&(r[h]|=a),c&=~m}}function Bo(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function zo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function F(){var r=H.p;return r!==0?r:(r=window.event,r===void 0?32:lS(r.type))}function G(r,a){var c=H.p;try{return H.p=r,a()}finally{H.p=c}}var Q=Math.random().toString(36).slice(2),ce="__reactFiber$"+Q,he="__reactProps$"+Q,be="__reactContainer$"+Q,Ce="__reactEvents$"+Q,me="__reactListeners$"+Q,Ae="__reactHandles$"+Q,ve="__reactResources$"+Q,De="__reactMarker$"+Q;function Le(r){delete r[ce],delete r[he],delete r[Ce],delete r[me],delete r[Ae]}function Pe(r){var a=r[ce];if(a)return a;for(var c=r.parentNode;c;){if(a=c[be]||c[ce]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Yv(r);r!==null;){if(c=r[ce])return c;r=Yv(r)}return a}r=c,c=r.parentNode}return null}function Je(r){if(r=r[ce]||r[be]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function wt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(n(33))}function Rt(r){var a=r[ve];return a||(a=r[ve]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function tt(r){r[De]=!0}var Qe=new Set,zr={};function _n(r,a){oi(r,a),oi(r+"Capture",a)}function oi(r,a){for(zr[r]=a,r=0;r<a.length;r++)Qe.add(a[r])}var On=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ur={},Hr={};function Uo(r){return tn.call(Hr,r)?!0:tn.call(Ur,r)?!1:On.test(r)?Hr[r]=!0:(Ur[r]=!0,!1)}function li(r,a,c){if(Uo(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function dr(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function $e(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}var yn,Ti;function Ri(r){if(yn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);yn=a&&a[1]||"",Ti=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+r+Ti}var Os=!1;function xt(r,a){if(!r||Os)return"";Os=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var K=W}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(W){K=W}r.call(oe.prototype)}}else{try{throw Error()}catch(W){K=W}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),E=b[0],D=b[1];if(E&&D){var I=E.split(`
`),Y=D.split(`
`);for(m=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(h===I.length||m===Y.length)for(h=I.length-1,m=Y.length-1;1<=h&&0<=m&&I[h]!==Y[m];)m--;for(;1<=h&&0<=m;h--,m--)if(I[h]!==Y[m]){if(h!==1||m!==1)do if(h--,m--,0>m||I[h]!==Y[m]){var re=`
`+I[h].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=h&&0<=m);break}}}finally{Os=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ri(c):""}function $r(r){switch(r.tag){case 26:case 27:case 5:return Ri(r.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return xt(r.type,!1);case 11:return xt(r.type.render,!1);case 1:return xt(r.type,!0);case 31:return Ri("Activity");default:return""}}function Ho(r){try{var a="";do a+=$r(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Iy(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function u_(r){var a=Iy(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,b.call(this,E)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ru(r){r._valueTracker||(r._valueTracker=u_(r))}function Fy(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=Iy(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function su(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var d_=/[\n"\\]/g;function ci(r){return r.replace(d_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wh(r,a,c,h,m,b,E,D){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Dn(a)):r.value!==""+Dn(a)&&(r.value=""+Dn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Qh(r,E,Dn(a)):c!=null?Qh(r,E,Dn(c)):h!=null&&r.removeAttribute("value"),m==null&&b!=null&&(r.defaultChecked=!!b),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Dn(D):r.removeAttribute("name")}function By(r,a,c,h,m,b,E,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;c=c!=null?""+Dn(c):"",a=a!=null?""+Dn(a):c,D||a===r.value||(r.value=a),r.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=D?r.checked:!!h,r.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Qh(r,a,c){a==="number"&&su(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Ea(r,a,c,h){if(r=r.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<r.length;c++)m=a.hasOwnProperty("$"+r[c].value),r[c].selected!==m&&(r[c].selected=m),m&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Dn(c),a=null,m=0;m<r.length;m++){if(r[m].value===c){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function zy(r,a,c){if(a!=null&&(a=""+Dn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Dn(c):""}function Uy(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(ue(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Dn(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function _a(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var h_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hy(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||h_.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function $y(r,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&Hy(r,m,h)}else for(var b in a)a.hasOwnProperty(b)&&Hy(r,b,a[b])}function Zh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(r){return p_.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Jh=null;function ef(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ca=null,Ta=null;function Vy(r){var a=Je(r);if(a&&(r=a.stateNode)){var c=r[he]||null;e:switch(r=a.stateNode,a.type){case"input":if(Wh(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ci(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var m=h[he]||null;if(!m)throw Error(n(90));Wh(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&Fy(h)}break e;case"textarea":zy(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Ea(r,!!c.multiple,a,!1)}}}var tf=!1;function Gy(r,a,c){if(tf)return r(a,c);tf=!0;try{var h=r(a);return h}finally{if(tf=!1,(Ca!==null||Ta!==null)&&(Gu(),Ca&&(a=Ca,r=Ta,Ta=Ca=null,Vy(a),r)))for(a=0;a<r.length;a++)Vy(r[a])}}function $o(r,a){var c=r.stateNode;if(c===null)return null;var h=c[he]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(hr)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){nf=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{nf=!1}var Vr=null,rf=null,ou=null;function qy(){if(ou)return ou;var r,a=rf,c=a.length,h,m="value"in Vr?Vr.value:Vr.textContent,b=m.length;for(r=0;r<c&&a[r]===m[r];r++);var E=c-r;for(h=1;h<=E&&a[c-h]===m[b-h];h++);return ou=m.slice(r,1<h?1-h:void 0)}function lu(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function cu(){return!0}function Yy(){return!1}function Ln(r){function a(c,h,m,b,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?cu:Yy,this.isPropagationStopped=Yy,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),a}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Ln(Ds),Go=p({},Ds,{view:0,detail:0}),g_=Ln(Go),sf,af,qo,du=p({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qo&&(qo&&r.type==="mousemove"?(sf=r.screenX-qo.screenX,af=r.screenY-qo.screenY):af=sf=0,qo=r),sf)},movementY:function(r){return"movementY"in r?r.movementY:af}}),Xy=Ln(du),m_=p({},du,{dataTransfer:0}),y_=Ln(m_),b_=p({},Go,{relatedTarget:0}),of=Ln(b_),v_=p({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=Ln(v_),w_=p({},Ds,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),x_=Ln(w_),A_=p({},Ds,{data:0}),Ky=Ln(A_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},__={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T_(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=C_[r])?!!a[r]:!1}function lf(){return T_}var R_=p({},Go,{key:function(r){if(r.key){var a=E_[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=lu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?__[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(r){return r.type==="keypress"?lu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),M_=Ln(R_),O_=p({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=Ln(O_),D_=p({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),L_=Ln(D_),N_=p({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=Ln(N_),P_=p({},du,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),j_=Ln(P_),I_=p({},Ds,{newState:0,oldState:0}),F_=Ln(I_),B_=[9,13,27,32],cf=hr&&"CompositionEvent"in window,Yo=null;hr&&"documentMode"in document&&(Yo=document.documentMode);var z_=hr&&"TextEvent"in window&&!Yo,Qy=hr&&(!cf||Yo&&8<Yo&&11>=Yo),Zy=" ",Jy=!1;function eb(r,a){switch(r){case"keyup":return B_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ra=!1;function U_(r,a){switch(r){case"compositionend":return tb(a);case"keypress":return a.which!==32?null:(Jy=!0,Zy);case"textInput":return r=a.data,r===Zy&&Jy?null:r;default:return null}}function H_(r,a){if(Ra)return r==="compositionend"||!cf&&eb(r,a)?(r=qy(),ou=rf=Vr=null,Ra=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qy&&a.locale!=="ko"?null:a.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!$_[r.type]:a==="textarea"}function ib(r,a,c,h){Ca?Ta?Ta.push(h):Ta=[h]:Ca=h,a=Qu(a,"onChange"),0<a.length&&(c=new uu("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var Xo=null,Ko=null;function V_(r){Iv(r,0)}function hu(r){var a=wt(r);if(Fy(a))return r}function rb(r,a){if(r==="change")return a}var sb=!1;if(hr){var uf;if(hr){var df="oninput"in document;if(!df){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),df=typeof ab.oninput=="function"}uf=df}else uf=!1;sb=uf&&(!document.documentMode||9<document.documentMode)}function ob(){Xo&&(Xo.detachEvent("onpropertychange",lb),Ko=Xo=null)}function lb(r){if(r.propertyName==="value"&&hu(Ko)){var a=[];ib(a,Ko,r,ef(r)),Gy(V_,a)}}function G_(r,a,c){r==="focusin"?(ob(),Xo=a,Ko=c,Xo.attachEvent("onpropertychange",lb)):r==="focusout"&&ob()}function q_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hu(Ko)}function Y_(r,a){if(r==="click")return hu(a)}function X_(r,a){if(r==="input"||r==="change")return hu(a)}function K_(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var $n=typeof Object.is=="function"?Object.is:K_;function Wo(r,a){if($n(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!tn.call(a,m)||!$n(r[m],a[m]))return!1}return!0}function cb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ub(r,a){var c=cb(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cb(c)}}function db(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?db(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function hb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=su(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=su(r.document)}return a}function hf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var W_=hr&&"documentMode"in document&&11>=document.documentMode,Ma=null,ff=null,Qo=null,pf=!1;function fb(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;pf||Ma==null||Ma!==su(h)||(h=Ma,"selectionStart"in h&&hf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qo&&Wo(Qo,h)||(Qo=h,h=Qu(ff,"onSelect"),0<h.length&&(a=new uu("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=Ma)))}function Ls(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Oa={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},gf={},pb={};hr&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ns(r){if(gf[r])return gf[r];if(!Oa[r])return r;var a=Oa[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in pb)return gf[r]=a[c];return r}var gb=Ns("animationend"),mb=Ns("animationiteration"),yb=Ns("animationstart"),Q_=Ns("transitionrun"),Z_=Ns("transitionstart"),J_=Ns("transitioncancel"),bb=Ns("transitionend"),vb=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Mi(r,a){vb.set(r,a),_n(a,[r])}var Sb=new WeakMap;function ui(r,a){if(typeof r=="object"&&r!==null){var c=Sb.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Ho(a)},Sb.set(r,a),a)}return{value:r,source:a,stack:Ho(a)}}var di=[],Da=0,yf=0;function fu(){for(var r=Da,a=yf=Da=0;a<r;){var c=di[a];di[a++]=null;var h=di[a];di[a++]=null;var m=di[a];di[a++]=null;var b=di[a];if(di[a++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}b!==0&&wb(c,m,b)}}function pu(r,a,c,h){di[Da++]=r,di[Da++]=a,di[Da++]=c,di[Da++]=h,yf|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function bf(r,a,c,h){return pu(r,a,c,h),gu(r)}function La(r,a){return pu(r,null,null,a),gu(r)}function wb(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var m=!1,b=r.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(m=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,m&&a!==null&&(m=31-vt(c),r=b.hiddenUpdates,h=r[m],h===null?r[m]=[a]:h.push(a),a.lane=c|536870912),b):null}function gu(r){if(50<xl)throw xl=0,Ep=null,Error(n(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Na={};function eC(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,a,c,h){return new eC(r,a,c,h)}function vf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fr(r,a){var c=r.alternate;return c===null?(c=Vn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function xb(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function mu(r,a,c,h,m,b){var E=0;if(h=r,typeof r=="function")vf(r)&&(E=1);else if(typeof r=="string")E=nT(r,c,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Vn(31,c,a,m),r.elementType=U,r.lanes=b,r;case v:return ks(c.children,m,b,a);case w:E=8,m|=24;break;case A:return r=Vn(12,c,a,m|2),r.elementType=A,r.lanes=b,r;case M:return r=Vn(13,c,a,m),r.elementType=M,r.lanes=b,r;case R:return r=Vn(19,c,a,m),r.elementType=R,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case _:E=10;break e;case L:E=9;break e;case O:E=11;break e;case P:E=14;break e;case B:E=16,h=null;break e}E=29,c=Error(n(130,r===null?"null":typeof r,"")),h=null}return a=Vn(E,c,a,m),a.elementType=r,a.type=h,a.lanes=b,a}function ks(r,a,c,h){return r=Vn(7,r,h,a),r.lanes=c,r}function Sf(r,a,c){return r=Vn(6,r,null,a),r.lanes=c,r}function wf(r,a,c){return a=Vn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ka=[],Pa=0,yu=null,bu=0,hi=[],fi=0,Ps=null,pr=1,gr="";function js(r,a){ka[Pa++]=bu,ka[Pa++]=yu,yu=r,bu=a}function Ab(r,a,c){hi[fi++]=pr,hi[fi++]=gr,hi[fi++]=Ps,Ps=r;var h=pr;r=gr;var m=32-vt(h)-1;h&=~(1<<m),c+=1;var b=32-vt(a)+m;if(30<b){var E=m-m%5;b=(h&(1<<E)-1).toString(32),h>>=E,m-=E,pr=1<<32-vt(a)+m|c<<m|h,gr=b+r}else pr=1<<b|c<<m|h,gr=r}function xf(r){r.return!==null&&(js(r,1),Ab(r,1,0))}function Af(r){for(;r===yu;)yu=ka[--Pa],ka[Pa]=null,bu=ka[--Pa],ka[Pa]=null;for(;r===Ps;)Ps=hi[--fi],hi[fi]=null,gr=hi[--fi],hi[fi]=null,pr=hi[--fi],hi[fi]=null}var Cn=null,Lt=null,it=!1,Is=null,Ui=!1,Ef=Error(n(519));function Fs(r){var a=Error(n(418,""));throw el(ui(a,r)),Ef}function Eb(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[ce]=r,a[he]=h,c){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(c=0;c<El.length;c++)Ye(El[c],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),By(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ru(a);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),Uy(a,h.value,h.defaultValue,h.children),ru(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Uv(a.textContent,c)?(h.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),h.onScroll!=null&&Ye("scroll",a),h.onScrollEnd!=null&&Ye("scrollend",a),h.onClick!=null&&(a.onclick=Zu),a=!0):a=!1,a||Fs(r)}function _b(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:Cn=Cn.return}}function Zo(r){if(r!==Cn)return!1;if(!it)return _b(r),it=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||zp(r.type,r.memoizedProps)),c=!c),c&&Lt&&Fs(r),_b(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Lt=Di(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Lt=null}}else a===27?(a=Lt,as(r.type)?(r=Vp,Vp=null,Lt=r):Lt=a):Lt=Cn?Di(r.stateNode.nextSibling):null;return!0}function Jo(){Lt=Cn=null,it=!1}function Cb(){var r=Is;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),Is=null),r}function el(r){Is===null?Is=[r]:Is.push(r)}var _f=X(null),Bs=null,mr=null;function Gr(r,a,c){te(_f,a._currentValue),a._currentValue=c}function yr(r){r._currentValue=_f.current,ee(_f)}function Cf(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function Tf(r,a,c,h){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){var E=m.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=m;for(var I=0;I<a.length;I++)if(D.context===a[I]){b.lanes|=c,D=b.alternate,D!==null&&(D.lanes|=c),Cf(b.return,c,r),h||(E=null);break e}b=D.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(n(341));E.lanes|=c,b=E.alternate,b!==null&&(b.lanes|=c),Cf(E,c,r),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===r){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function tl(r,a,c,h){r=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var D=m.type;$n(m.pendingProps.value,E.value)||(r!==null?r.push(D):r=[D])}}else if(m===Oe.current){if(E=m.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Ol):r=[Ol])}m=m.return}r!==null&&Tf(a,r,c,h),a.flags|=262144}function vu(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zs(r){Bs=r,mr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bn(r){return Tb(Bs,r)}function Su(r,a){return Bs===null&&zs(r),Tb(r,a)}function Tb(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},mr===null){if(r===null)throw Error(n(308));mr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else mr=mr.next=a;return c}var tC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},nC=i.unstable_scheduleCallback,iC=i.unstable_NormalPriority,Qt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new tC,data:new Map,refCount:0}}function nl(r){r.refCount--,r.refCount===0&&nC(iC,function(){r.controller.abort()})}var il=null,Mf=0,ja=0,Ia=null;function rC(r,a){if(il===null){var c=il=[];Mf=0,ja=Dp(),Ia={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Mf++,a.then(Rb,Rb),a}function Rb(){if(--Mf===0&&il!==null){Ia!==null&&(Ia.status="fulfilled");var r=il;il=null,ja=0,Ia=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function sC(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Mb=k.S;k.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&rC(r,a),Mb!==null&&Mb(r,a)};var Us=X(null);function Of(){var r=Us.current;return r!==null?r:St.pooledCache}function wu(r,a){a===null?te(Us,Us.current):te(Us,a.pool)}function Ob(){var r=Of();return r===null?null:{parent:Qt._currentValue,pool:r}}var rl=Error(n(460)),Db=Error(n(474)),xu=Error(n(542)),Df={then:function(){}};function Lb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Au(){}function Nb(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Au,Au),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Pb(r),r;default:if(typeof a.status=="string")a.then(Au,Au);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Pb(r),r}throw sl=a,rl}}var sl=null;function kb(){if(sl===null)throw Error(n(459));var r=sl;return sl=null,r}function Pb(r){if(r===rl||r===xu)throw Error(n(483))}var qr=!1;function Lf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Yr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xr(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=gu(r),wb(r,null,c),a}return pu(r,h,a,c),gu(r)}function al(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ms(r,c)}}function kf(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Pf=!1;function ol(){if(Pf){var r=Ia;if(r!==null)throw r}}function ll(r,a,c,h){Pf=!1;var m=r.updateQueue;qr=!1;var b=m.firstBaseUpdate,E=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var I=D,Y=I.next;I.next=null,E===null?b=Y:E.next=Y,E=I;var re=r.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==E&&(D===null?re.firstBaseUpdate=Y:D.next=Y,re.lastBaseUpdate=I))}if(b!==null){var oe=m.baseState;E=0,re=Y=I=null,D=b;do{var K=D.lane&-536870913,W=K!==D.lane;if(W?(Ze&K)===K:(h&K)===K){K!==0&&K===ja&&(Pf=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ne=r,Te=D;K=a;var ut=c;switch(Te.tag){case 1:if(Ne=Te.payload,typeof Ne=="function"){oe=Ne.call(ut,oe,K);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Te.payload,K=typeof Ne=="function"?Ne.call(ut,oe,K):Ne,K==null)break e;oe=p({},oe,K);break e;case 2:qr=!0}}K=D.callback,K!==null&&(r.flags|=64,W&&(r.flags|=8192),W=m.callbacks,W===null?m.callbacks=[K]:W.push(K))}else W={lane:K,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(Y=re=W,I=oe):re=re.next=W,E|=K;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;W=D,D=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);re===null&&(I=oe),m.baseState=I,m.firstBaseUpdate=Y,m.lastBaseUpdate=re,b===null&&(m.shared.lanes=0),ns|=E,r.lanes=E,r.memoizedState=oe}}function jb(r,a){if(typeof r!="function")throw Error(n(191,r));r.call(a)}function Ib(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)jb(c[r],a)}var Fa=X(null),Eu=X(0);function Fb(r,a){r=Er,te(Eu,r),te(Fa,a),Er=r|a.baseLanes}function jf(){te(Eu,Er),te(Fa,Fa.current)}function If(){Er=Eu.current,ee(Fa),ee(Eu)}var Kr=0,He=null,lt=null,qt=null,_u=!1,Ba=!1,Hs=!1,Cu=0,cl=0,za=null,aC=0;function Ft(){throw Error(n(321))}function Ff(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!$n(r[c],a[c]))return!1;return!0}function Bf(r,a,c,h,m,b){return Kr=b,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=r===null||r.memoizedState===null?w0:x0,Hs=!1,b=c(h,m),Hs=!1,Ba&&(b=zb(a,c,h,m)),Bb(r),b}function Bb(r){k.H=Lu;var a=lt!==null&&lt.next!==null;if(Kr=0,qt=lt=He=null,_u=!1,cl=0,za=null,a)throw Error(n(300));r===null||rn||(r=r.dependencies,r!==null&&vu(r)&&(rn=!0))}function zb(r,a,c,h){He=r;var m=0;do{if(Ba&&(za=null),cl=0,Ba=!1,25<=m)throw Error(n(301));if(m+=1,qt=lt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}k.H=fC,b=a(c,h)}while(Ba);return b}function oC(){var r=k.H,a=r.useState()[0];return a=typeof a.then=="function"?ul(a):a,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(He.flags|=1024),a}function zf(){var r=Cu!==0;return Cu=0,r}function Uf(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Hf(r){if(_u){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_u=!1}Kr=0,qt=lt=He=null,Ba=!1,cl=Cu=0,za=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?He.memoizedState=qt=r:qt=qt.next=r,qt}function Yt(){if(lt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var a=qt===null?He.memoizedState:qt.next;if(a!==null)qt=a,lt=r;else{if(r===null)throw He.alternate===null?Error(n(467)):Error(n(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},qt===null?He.memoizedState=qt=r:qt=qt.next=r}return qt}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(r){var a=cl;return cl+=1,za===null&&(za=[]),r=Nb(za,r,a),a=He,(qt===null?a.memoizedState:qt.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?w0:x0),r}function Tu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ul(r);if(r.$$typeof===_)return bn(r)}throw Error(n(438,String(r)))}function Vf(r){var a=null,c=He.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=He.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=$f(),He.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=C;return a.index++,c}function br(r,a){return typeof a=="function"?a(r):a}function Ru(r){var a=Yt();return Gf(a,lt,r)}function Gf(r,a,c){var h=r.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var m=r.baseQueue,b=h.pending;if(b!==null){if(m!==null){var E=m.next;m.next=b.next,b.next=E}a.baseQueue=m=b,h.pending=null}if(b=r.baseState,m===null)r.memoizedState=b;else{a=m.next;var D=E=null,I=null,Y=a,re=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Ze&oe)===oe:(Kr&oe)===oe){var K=Y.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===ja&&(re=!0);else if((Kr&K)===K){Y=Y.next,K===ja&&(re=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(D=I=oe,E=b):I=I.next=oe,He.lanes|=K,ns|=K;oe=Y.action,Hs&&c(b,oe),b=Y.hasEagerState?Y.eagerState:c(b,oe)}else K={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(D=I=K,E=b):I=I.next=K,He.lanes|=oe,ns|=oe;Y=Y.next}while(Y!==null&&Y!==a);if(I===null?E=b:I.next=D,!$n(b,r.memoizedState)&&(rn=!0,re&&(c=Ia,c!==null)))throw c;r.memoizedState=b,r.baseState=E,r.baseQueue=I,h.lastRenderedState=b}return m===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function qf(r){var a=Yt(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var h=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do b=r(b,E.action),E=E.next;while(E!==m);$n(b,a.memoizedState)||(rn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,h]}function Ub(r,a,c){var h=He,m=Yt(),b=it;if(b){if(c===void 0)throw Error(n(407));c=c()}else c=a();var E=!$n((lt||m).memoizedState,c);E&&(m.memoizedState=c,rn=!0),m=m.queue;var D=Vb.bind(null,h,m,r);if(dl(2048,8,D,[r]),m.getSnapshot!==a||E||qt!==null&&qt.memoizedState.tag&1){if(h.flags|=2048,Ua(9,Mu(),$b.bind(null,h,m,c,a),null),St===null)throw Error(n(349));b||(Kr&124)!==0||Hb(h,a,c)}return c}function Hb(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=He.updateQueue,a===null?(a=$f(),He.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function $b(r,a,c,h){a.value=c,a.getSnapshot=h,Gb(a)&&qb(r)}function Vb(r,a,c){return c(function(){Gb(a)&&qb(r)})}function Gb(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!$n(r,c)}catch{return!0}}function qb(r){var a=La(r,2);a!==null&&Kn(a,r,2)}function Yf(r){var a=Nn();if(typeof r=="function"){var c=r;if(r=c(),Hs){nn(!0);try{c()}finally{nn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:r},a}function Yb(r,a,c,h){return r.baseState=c,Gf(r,lt,typeof h=="function"?h:br)}function lC(r,a,c,h,m){if(Du(r))throw Error(n(485));if(r=a.action,r!==null){var b={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};k.T!==null?c(!0):b.isTransition=!1,h(b),c=a.pending,c===null?(b.next=a.pending=b,Xb(a,b)):(b.next=c.next,a.pending=c.next=b)}}function Xb(r,a){var c=a.action,h=a.payload,m=r.state;if(a.isTransition){var b=k.T,E={};k.T=E;try{var D=c(m,h),I=k.S;I!==null&&I(E,D),Kb(r,a,D)}catch(Y){Xf(r,a,Y)}finally{k.T=b}}else try{b=c(m,h),Kb(r,a,b)}catch(Y){Xf(r,a,Y)}}function Kb(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Wb(r,a,h)},function(h){return Xf(r,a,h)}):Wb(r,a,c)}function Wb(r,a,c){a.status="fulfilled",a.value=c,Qb(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,Xb(r,c)))}function Xf(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Qb(a),a=a.next;while(a!==h)}r.action=null}function Qb(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Zb(r,a){return a}function Jb(r,a){if(it){var c=St.formState;if(c!==null){e:{var h=He;if(it){if(Lt){t:{for(var m=Lt,b=Ui;m.nodeType!==8;){if(!b){m=null;break t}if(m=Di(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Lt=Di(m.nextSibling),h=m.data==="F!";break e}}Fs(h)}h=!1}h&&(a=c[0])}}return c=Nn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zb,lastRenderedState:a},c.queue=h,c=b0.bind(null,He,h),h.dispatch=c,h=Yf(!1),b=Jf.bind(null,He,!1,h.queue),h=Nn(),m={state:a,dispatch:null,action:r,pending:null},h.queue=m,c=lC.bind(null,He,m,b,c),m.dispatch=c,h.memoizedState=r,[a,c,!1]}function e0(r){var a=Yt();return t0(a,lt,r)}function t0(r,a,c){if(a=Gf(r,a,Zb)[0],r=Ru(br)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ul(a)}catch(E){throw E===rl?xu:E}else h=a;a=Yt();var m=a.queue,b=m.dispatch;return c!==a.memoizedState&&(He.flags|=2048,Ua(9,Mu(),cC.bind(null,m,c),null)),[h,b,r]}function cC(r,a){r.action=a}function n0(r){var a=Yt(),c=lt;if(c!==null)return t0(a,c,r);Yt(),a=a.memoizedState,c=Yt();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function Ua(r,a,c,h){return r={tag:r,create:c,deps:h,inst:a,next:null},a=He.updateQueue,a===null&&(a=$f(),He.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function Mu(){return{destroy:void 0,resource:void 0}}function i0(){return Yt().memoizedState}function Ou(r,a,c,h){var m=Nn();h=h===void 0?null:h,He.flags|=r,m.memoizedState=Ua(1|a,Mu(),c,h)}function dl(r,a,c,h){var m=Yt();h=h===void 0?null:h;var b=m.memoizedState.inst;lt!==null&&h!==null&&Ff(h,lt.memoizedState.deps)?m.memoizedState=Ua(a,b,c,h):(He.flags|=r,m.memoizedState=Ua(1|a,b,c,h))}function r0(r,a){Ou(8390656,8,r,a)}function s0(r,a){dl(2048,8,r,a)}function a0(r,a){return dl(4,2,r,a)}function o0(r,a){return dl(4,4,r,a)}function l0(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function c0(r,a,c){c=c!=null?c.concat([r]):null,dl(4,4,l0.bind(null,a,r),c)}function Kf(){}function u0(r,a){var c=Yt();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Ff(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function d0(r,a){var c=Yt();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Ff(a,h[1]))return h[0];if(h=r(),Hs){nn(!0);try{r()}finally{nn(!1)}}return c.memoizedState=[h,a],h}function Wf(r,a,c){return c===void 0||(Kr&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=pv(),He.lanes|=r,ns|=r,c)}function h0(r,a,c,h){return $n(c,a)?c:Fa.current!==null?(r=Wf(r,c,h),$n(r,a)||(rn=!0),r):(Kr&42)===0?(rn=!0,r.memoizedState=c):(r=pv(),He.lanes|=r,ns|=r,a)}function f0(r,a,c,h,m){var b=H.p;H.p=b!==0&&8>b?b:8;var E=k.T,D={};k.T=D,Jf(r,!1,a,c);try{var I=m(),Y=k.S;if(Y!==null&&Y(D,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=sC(I,h);hl(r,a,re,Xn(r))}else hl(r,a,h,Xn(r))}catch(oe){hl(r,a,{then:function(){},status:"rejected",reason:oe},Xn())}finally{H.p=b,k.T=E}}function uC(){}function Qf(r,a,c,h){if(r.tag!==5)throw Error(n(476));var m=p0(r).queue;f0(r,m,a,le,c===null?uC:function(){return g0(r),c(h)})}function p0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:le},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function g0(r){var a=p0(r).next.queue;hl(r,a,{},Xn())}function Zf(){return bn(Ol)}function m0(){return Yt().memoizedState}function y0(){return Yt().memoizedState}function dC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=Xn();r=Yr(c);var h=Xr(a,r,c);h!==null&&(Kn(h,a,c),al(h,a,c)),a={cache:Rf()},r.payload=a;return}a=a.return}}function hC(r,a,c){var h=Xn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Du(r)?v0(a,c):(c=bf(r,a,c,h),c!==null&&(Kn(c,r,h),S0(c,a,h)))}function b0(r,a,c){var h=Xn();hl(r,a,c,h)}function hl(r,a,c,h){var m={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Du(r))v0(a,m);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,D=b(E,c);if(m.hasEagerState=!0,m.eagerState=D,$n(D,E))return pu(r,a,m,0),St===null&&fu(),!1}catch{}finally{}if(c=bf(r,a,m,h),c!==null)return Kn(c,r,h),S0(c,a,h),!0}return!1}function Jf(r,a,c,h){if(h={lane:2,revertLane:Dp(),action:h,hasEagerState:!1,eagerState:null,next:null},Du(r)){if(a)throw Error(n(479))}else a=bf(r,c,h,2),a!==null&&Kn(a,r,2)}function Du(r){var a=r.alternate;return r===He||a!==null&&a===He}function v0(r,a){Ba=_u=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function S0(r,a,c){if((c&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ms(r,c)}}var Lu={readContext:bn,use:Tu,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},w0={readContext:bn,use:Tu,useCallback:function(r,a){return Nn().memoizedState=[r,a===void 0?null:a],r},useContext:bn,useEffect:r0,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Ou(4194308,4,l0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ou(4194308,4,r,a)},useInsertionEffect:function(r,a){Ou(4,2,r,a)},useMemo:function(r,a){var c=Nn();a=a===void 0?null:a;var h=r();if(Hs){nn(!0);try{r()}finally{nn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=Nn();if(c!==void 0){var m=c(a);if(Hs){nn(!0);try{c(a)}finally{nn(!1)}}}else m=a;return h.memoizedState=h.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},h.queue=r,r=r.dispatch=hC.bind(null,He,r),[h.memoizedState,r]},useRef:function(r){var a=Nn();return r={current:r},a.memoizedState=r},useState:function(r){r=Yf(r);var a=r.queue,c=b0.bind(null,He,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Kf,useDeferredValue:function(r,a){var c=Nn();return Wf(c,r,a)},useTransition:function(){var r=Yf(!1);return r=f0.bind(null,He,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=He,m=Nn();if(it){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),St===null)throw Error(n(349));(Ze&124)!==0||Hb(h,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,r0(Vb.bind(null,h,b,r),[r]),h.flags|=2048,Ua(9,Mu(),$b.bind(null,h,b,c,a),null),c},useId:function(){var r=Nn(),a=St.identifierPrefix;if(it){var c=gr,h=pr;c=(h&~(1<<32-vt(h)-1)).toString(32)+c,a=""+a+"R"+c,c=Cu++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=aC++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Zf,useFormState:Jb,useActionState:Jb,useOptimistic:function(r){var a=Nn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Jf.bind(null,He,!0,c),c.dispatch=a,[r,a]},useMemoCache:Vf,useCacheRefresh:function(){return Nn().memoizedState=dC.bind(null,He)}},x0={readContext:bn,use:Tu,useCallback:u0,useContext:bn,useEffect:s0,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:Ru,useRef:i0,useState:function(){return Ru(br)},useDebugValue:Kf,useDeferredValue:function(r,a){var c=Yt();return h0(c,lt.memoizedState,r,a)},useTransition:function(){var r=Ru(br)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:ul(r),a]},useSyncExternalStore:Ub,useId:m0,useHostTransitionStatus:Zf,useFormState:e0,useActionState:e0,useOptimistic:function(r,a){var c=Yt();return Yb(c,lt,r,a)},useMemoCache:Vf,useCacheRefresh:y0},fC={readContext:bn,use:Tu,useCallback:u0,useContext:bn,useEffect:s0,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:qf,useRef:i0,useState:function(){return qf(br)},useDebugValue:Kf,useDeferredValue:function(r,a){var c=Yt();return lt===null?Wf(c,r,a):h0(c,lt.memoizedState,r,a)},useTransition:function(){var r=qf(br)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:ul(r),a]},useSyncExternalStore:Ub,useId:m0,useHostTransitionStatus:Zf,useFormState:n0,useActionState:n0,useOptimistic:function(r,a){var c=Yt();return lt!==null?Yb(c,lt,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:y0},Ha=null,fl=0;function Nu(r){var a=fl;return fl+=1,Ha===null&&(Ha=[]),Nb(Ha,r,a)}function pl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ku(r,a){throw a.$$typeof===g?Error(n(525)):(r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function A0(r){var a=r._init;return a(r._payload)}function E0(r){function a($,z){if(r){var q=$.deletions;q===null?($.deletions=[z],$.flags|=16):q.push(z)}}function c($,z){if(!r)return null;for(;z!==null;)a($,z),z=z.sibling;return null}function h($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function m($,z){return $=fr($,z),$.index=0,$.sibling=null,$}function b($,z,q){return $.index=q,r?(q=$.alternate,q!==null?(q=q.index,q<z?($.flags|=67108866,z):q):($.flags|=67108866,z)):($.flags|=1048576,z)}function E($){return r&&$.alternate===null&&($.flags|=67108866),$}function D($,z,q,se){return z===null||z.tag!==6?(z=Sf(q,$.mode,se),z.return=$,z):(z=m(z,q),z.return=$,z)}function I($,z,q,se){var ye=q.type;return ye===v?re($,z,q.props.children,se,q.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&A0(ye)===z.type)?(z=m(z,q.props),pl(z,q),z.return=$,z):(z=mu(q.type,q.key,q.props,null,$.mode,se),pl(z,q),z.return=$,z)}function Y($,z,q,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=wf(q,$.mode,se),z.return=$,z):(z=m(z,q.children||[]),z.return=$,z)}function re($,z,q,se,ye){return z===null||z.tag!==7?(z=ks(q,$.mode,se,ye),z.return=$,z):(z=m(z,q),z.return=$,z)}function oe($,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Sf(""+z,$.mode,q),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return q=mu(z.type,z.key,z.props,null,$.mode,q),pl(q,z),q.return=$,q;case S:return z=wf(z,$.mode,q),z.return=$,z;case B:var se=z._init;return z=se(z._payload),oe($,z,q)}if(ue(z)||ae(z))return z=ks(z,$.mode,q,null),z.return=$,z;if(typeof z.then=="function")return oe($,Nu(z),q);if(z.$$typeof===_)return oe($,Su($,z),q);ku($,z)}return null}function K($,z,q,se){var ye=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:D($,z,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case y:return q.key===ye?I($,z,q,se):null;case S:return q.key===ye?Y($,z,q,se):null;case B:return ye=q._init,q=ye(q._payload),K($,z,q,se)}if(ue(q)||ae(q))return ye!==null?null:re($,z,q,se,null);if(typeof q.then=="function")return K($,z,Nu(q),se);if(q.$$typeof===_)return K($,z,Su($,q),se);ku($,q)}return null}function W($,z,q,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(q)||null,D(z,$,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return $=$.get(se.key===null?q:se.key)||null,I(z,$,se,ye);case S:return $=$.get(se.key===null?q:se.key)||null,Y(z,$,se,ye);case B:var Ve=se._init;return se=Ve(se._payload),W($,z,q,se,ye)}if(ue(se)||ae(se))return $=$.get(q)||null,re(z,$,se,ye,null);if(typeof se.then=="function")return W($,z,q,Nu(se),ye);if(se.$$typeof===_)return W($,z,q,Su(z,se),ye);ku(z,se)}return null}function Ne($,z,q,se){for(var ye=null,Ve=null,we=z,Re=z=0,an=null;we!==null&&Re<q.length;Re++){we.index>Re?(an=we,we=null):an=we.sibling;var nt=K($,we,q[Re],se);if(nt===null){we===null&&(we=an);break}r&&we&&nt.alternate===null&&a($,we),z=b(nt,z,Re),Ve===null?ye=nt:Ve.sibling=nt,Ve=nt,we=an}if(Re===q.length)return c($,we),it&&js($,Re),ye;if(we===null){for(;Re<q.length;Re++)we=oe($,q[Re],se),we!==null&&(z=b(we,z,Re),Ve===null?ye=we:Ve.sibling=we,Ve=we);return it&&js($,Re),ye}for(we=h(we);Re<q.length;Re++)an=W(we,$,Re,q[Re],se),an!==null&&(r&&an.alternate!==null&&we.delete(an.key===null?Re:an.key),z=b(an,z,Re),Ve===null?ye=an:Ve.sibling=an,Ve=an);return r&&we.forEach(function(ds){return a($,ds)}),it&&js($,Re),ye}function Te($,z,q,se){if(q==null)throw Error(n(151));for(var ye=null,Ve=null,we=z,Re=z=0,an=null,nt=q.next();we!==null&&!nt.done;Re++,nt=q.next()){we.index>Re?(an=we,we=null):an=we.sibling;var ds=K($,we,nt.value,se);if(ds===null){we===null&&(we=an);break}r&&we&&ds.alternate===null&&a($,we),z=b(ds,z,Re),Ve===null?ye=ds:Ve.sibling=ds,Ve=ds,we=an}if(nt.done)return c($,we),it&&js($,Re),ye;if(we===null){for(;!nt.done;Re++,nt=q.next())nt=oe($,nt.value,se),nt!==null&&(z=b(nt,z,Re),Ve===null?ye=nt:Ve.sibling=nt,Ve=nt);return it&&js($,Re),ye}for(we=h(we);!nt.done;Re++,nt=q.next())nt=W(we,$,Re,nt.value,se),nt!==null&&(r&&nt.alternate!==null&&we.delete(nt.key===null?Re:nt.key),z=b(nt,z,Re),Ve===null?ye=nt:Ve.sibling=nt,Ve=nt);return r&&we.forEach(function(pT){return a($,pT)}),it&&js($,Re),ye}function ut($,z,q,se){if(typeof q=="object"&&q!==null&&q.type===v&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case y:e:{for(var ye=q.key;z!==null;){if(z.key===ye){if(ye=q.type,ye===v){if(z.tag===7){c($,z.sibling),se=m(z,q.props.children),se.return=$,$=se;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&A0(ye)===z.type){c($,z.sibling),se=m(z,q.props),pl(se,q),se.return=$,$=se;break e}c($,z);break}else a($,z);z=z.sibling}q.type===v?(se=ks(q.props.children,$.mode,se,q.key),se.return=$,$=se):(se=mu(q.type,q.key,q.props,null,$.mode,se),pl(se,q),se.return=$,$=se)}return E($);case S:e:{for(ye=q.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){c($,z.sibling),se=m(z,q.children||[]),se.return=$,$=se;break e}else{c($,z);break}else a($,z);z=z.sibling}se=wf(q,$.mode,se),se.return=$,$=se}return E($);case B:return ye=q._init,q=ye(q._payload),ut($,z,q,se)}if(ue(q))return Ne($,z,q,se);if(ae(q)){if(ye=ae(q),typeof ye!="function")throw Error(n(150));return q=ye.call(q),Te($,z,q,se)}if(typeof q.then=="function")return ut($,z,Nu(q),se);if(q.$$typeof===_)return ut($,z,Su($,q),se);ku($,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(c($,z.sibling),se=m(z,q),se.return=$,$=se):(c($,z),se=Sf(q,$.mode,se),se.return=$,$=se),E($)):c($,z)}return function($,z,q,se){try{fl=0;var ye=ut($,z,q,se);return Ha=null,ye}catch(we){if(we===rl||we===xu)throw we;var Ve=Vn(29,we,null,$.mode);return Ve.lanes=se,Ve.return=$,Ve}finally{}}}var $a=E0(!0),_0=E0(!1),pi=X(null),Hi=null;function Wr(r){var a=r.alternate;te(Zt,Zt.current&1),te(pi,r),Hi===null&&(a===null||Fa.current!==null||a.memoizedState!==null)&&(Hi=r)}function C0(r){if(r.tag===22){if(te(Zt,Zt.current),te(pi,r),Hi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Hi=r)}}else Qr()}function Qr(){te(Zt,Zt.current),te(pi,pi.current)}function vr(r){ee(pi),Hi===r&&(Hi=null),ee(Zt)}var Zt=X(0);function Pu(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||$p(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ep(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var tp={enqueueSetState:function(r,a,c){r=r._reactInternals;var h=Xn(),m=Yr(h);m.payload=a,c!=null&&(m.callback=c),a=Xr(r,m,h),a!==null&&(Kn(a,r,h),al(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=Xn(),m=Yr(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Xr(r,m,h),a!==null&&(Kn(a,r,h),al(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Xn(),h=Yr(c);h.tag=2,a!=null&&(h.callback=a),a=Xr(r,h,c),a!==null&&(Kn(a,r,c),al(a,r,c))}};function T0(r,a,c,h,m,b,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,b,E):a.prototype&&a.prototype.isPureReactComponent?!Wo(c,h)||!Wo(m,b):!0}function R0(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&tp.enqueueReplaceState(a,a.state,null)}function $s(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var m in r)c[m]===void 0&&(c[m]=r[m])}return c}var ju=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function M0(r){ju(r)}function O0(r){console.error(r)}function D0(r){ju(r)}function Iu(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function L0(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function np(r,a,c){return c=Yr(c),c.tag=3,c.payload={element:null},c.callback=function(){Iu(r,a)},c}function N0(r){return r=Yr(r),r.tag=3,r}function k0(r,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=h.value;r.payload=function(){return m(b)},r.callback=function(){L0(a,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){L0(a,c,h),typeof m!="function"&&(is===null?is=new Set([this]):is.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function pC(r,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&tl(a,c,m,!0),c=pi.current,c!==null){switch(c.tag){case 13:return Hi===null?Cp():c.alternate===null&&Nt===0&&(Nt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Df?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Rp(r,h,m)),!1;case 22:return c.flags|=65536,h===Df?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Rp(r,h,m)),!1}throw Error(n(435,c.tag))}return Rp(r,h,m),Cp(),!1}if(it)return a=pi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==Ef&&(r=Error(n(422),{cause:h}),el(ui(r,c)))):(h!==Ef&&(a=Error(n(423),{cause:h}),el(ui(a,c))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,h=ui(h,c),m=np(r.stateNode,h,m),kf(r,m),Nt!==4&&(Nt=2)),!1;var b=Error(n(520),{cause:h});if(b=ui(b,c),wl===null?wl=[b]:wl.push(b),Nt!==4&&(Nt=2),a===null)return!0;h=ui(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=m&-m,c.lanes|=r,r=np(c.stateNode,h,r),kf(c,r),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(is===null||!is.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=N0(m),k0(m,r,c,h),kf(c,m),!1}c=c.return}while(c!==null);return!1}var P0=Error(n(461)),rn=!1;function cn(r,a,c,h){a.child=r===null?_0(a,null,c,h):$a(a,r.child,c,h)}function j0(r,a,c,h,m){c=c.render;var b=a.ref;if("ref"in h){var E={};for(var D in h)D!=="ref"&&(E[D]=h[D])}else E=h;return zs(a),h=Bf(r,a,c,E,b,m),D=zf(),r!==null&&!rn?(Uf(r,a,m),Sr(r,a,m)):(it&&D&&xf(a),a.flags|=1,cn(r,a,h,m),a.child)}function I0(r,a,c,h,m){if(r===null){var b=c.type;return typeof b=="function"&&!vf(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,F0(r,a,b,h,m)):(r=mu(c.type,null,h,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!up(r,m)){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:Wo,c(E,h)&&r.ref===a.ref)return Sr(r,a,m)}return a.flags|=1,r=fr(b,h),r.ref=a.ref,r.return=a,a.child=r}function F0(r,a,c,h,m){if(r!==null){var b=r.memoizedProps;if(Wo(b,h)&&r.ref===a.ref)if(rn=!1,a.pendingProps=h=b,up(r,m))(r.flags&131072)!==0&&(rn=!0);else return a.lanes=r.lanes,Sr(r,a,m)}return ip(r,a,c,h,m)}function B0(r,a,c){var h=a.pendingProps,m=h.children,b=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=b!==null?b.baseLanes|c:c,r!==null){for(m=a.child=r.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;a.childLanes=b&~h}else a.childLanes=0,a.child=null;return z0(r,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&wu(a,b!==null?b.cachePool:null),b!==null?Fb(a,b):jf(),C0(a);else return a.lanes=a.childLanes=536870912,z0(r,a,b!==null?b.baseLanes|c:c,c)}else b!==null?(wu(a,b.cachePool),Fb(a,b),Qr(),a.memoizedState=null):(r!==null&&wu(a,null),jf(),Qr());return cn(r,a,m,c),a.child}function z0(r,a,c,h){var m=Of();return m=m===null?null:{parent:Qt._currentValue,pool:m},a.memoizedState={baseLanes:c,cachePool:m},r!==null&&wu(a,null),jf(),C0(a),r!==null&&tl(r,a,h,!0),null}function Fu(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function ip(r,a,c,h,m){return zs(a),c=Bf(r,a,c,h,void 0,m),h=zf(),r!==null&&!rn?(Uf(r,a,m),Sr(r,a,m)):(it&&h&&xf(a),a.flags|=1,cn(r,a,c,m),a.child)}function U0(r,a,c,h,m,b){return zs(a),a.updateQueue=null,c=zb(a,h,c,m),Bb(r),h=zf(),r!==null&&!rn?(Uf(r,a,b),Sr(r,a,b)):(it&&h&&xf(a),a.flags|=1,cn(r,a,c,b),a.child)}function H0(r,a,c,h,m){if(zs(a),a.stateNode===null){var b=Na,E=c.contextType;typeof E=="object"&&E!==null&&(b=bn(E)),b=new c(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},Lf(a),E=c.contextType,b.context=typeof E=="object"&&E!==null?bn(E):Na,b.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(ep(a,c,E,h),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&tp.enqueueReplaceState(b,b.state,null),ll(a,h,b,m),ol(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){b=a.stateNode;var D=a.memoizedProps,I=$s(c,D);b.props=I;var Y=b.context,re=c.contextType;E=Na,typeof re=="object"&&re!==null&&(E=bn(re));var oe=c.getDerivedStateFromProps;re=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||Y!==E)&&R0(a,b,h,E),qr=!1;var K=a.memoizedState;b.state=K,ll(a,h,b,m),ol(),Y=a.memoizedState,D||K!==Y||qr?(typeof oe=="function"&&(ep(a,c,oe,h),Y=a.memoizedState),(I=qr||T0(a,c,I,h,K,Y,E))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Y),b.props=h,b.state=Y,b.context=E,h=I):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,Nf(r,a),E=a.memoizedProps,re=$s(c,E),b.props=re,oe=a.pendingProps,K=b.context,Y=c.contextType,I=Na,typeof Y=="object"&&Y!==null&&(I=bn(Y)),D=c.getDerivedStateFromProps,(Y=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==oe||K!==I)&&R0(a,b,h,I),qr=!1,K=a.memoizedState,b.state=K,ll(a,h,b,m),ol();var W=a.memoizedState;E!==oe||K!==W||qr||r!==null&&r.dependencies!==null&&vu(r.dependencies)?(typeof D=="function"&&(ep(a,c,D,h),W=a.memoizedState),(re=qr||T0(a,c,re,h,K,W,I)||r!==null&&r.dependencies!==null&&vu(r.dependencies))?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,W,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,W,I)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=W),b.props=h,b.state=W,b.context=I,h=re):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),h=!1)}return b=h,Fu(r,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&h?(a.child=$a(a,r.child,null,m),a.child=$a(a,null,c,m)):cn(r,a,c,m),a.memoizedState=b.state,r=a.child):r=Sr(r,a,m),r}function $0(r,a,c,h){return Jo(),a.flags|=256,cn(r,a,c,h),a.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(r){return{baseLanes:r,cachePool:Ob()}}function ap(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=gi),r}function V0(r,a,c){var h=a.pendingProps,m=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=r!==null&&r.memoizedState===null?!1:(Zt.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(it){if(m?Wr(a):Qr(),it){var D=Lt,I;if(I=D){e:{for(I=D,D=Ui;I.nodeType!==8;){if(!D){D=null;break e}if(I=Di(I.nextSibling),I===null){D=null;break e}}D=I}D!==null?(a.memoizedState={dehydrated:D,treeContext:Ps!==null?{id:pr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},I=Vn(18,null,null,0),I.stateNode=D,I.return=a,a.child=I,Cn=a,Lt=null,I=!0):I=!1}I||Fs(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return $p(D)?a.lanes=32:a.lanes=536870912,null;vr(a)}return D=h.children,h=h.fallback,m?(Qr(),m=a.mode,D=Bu({mode:"hidden",children:D},m),h=ks(h,m,c,null),D.return=a,h.return=a,D.sibling=h,a.child=D,m=a.child,m.memoizedState=sp(c),m.childLanes=ap(r,E,c),a.memoizedState=rp,h):(Wr(a),op(a,D))}if(I=r.memoizedState,I!==null&&(D=I.dehydrated,D!==null)){if(b)a.flags&256?(Wr(a),a.flags&=-257,a=lp(r,a,c)):a.memoizedState!==null?(Qr(),a.child=r.child,a.flags|=128,a=null):(Qr(),m=h.fallback,D=a.mode,h=Bu({mode:"visible",children:h.children},D),m=ks(m,D,c,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,$a(a,r.child,null,c),h=a.child,h.memoizedState=sp(c),h.childLanes=ap(r,E,c),a.memoizedState=rp,a=m);else if(Wr(a),$p(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var Y=E.dgst;E=Y,h=Error(n(419)),h.stack="",h.digest=E,el({value:h,source:null,stack:null}),a=lp(r,a,c)}else if(rn||tl(r,a,c,!1),E=(c&r.childLanes)!==0,rn||E){if(E=St,E!==null&&(h=c&-c,h=(h&42)!==0?1:Bo(h),h=(h&(E.suspendedLanes|c))!==0?0:h,h!==0&&h!==I.retryLane))throw I.retryLane=h,La(r,h),Kn(E,r,h),P0;D.data==="$?"||Cp(),a=lp(r,a,c)}else D.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=I.treeContext,Lt=Di(D.nextSibling),Cn=a,it=!0,Is=null,Ui=!1,r!==null&&(hi[fi++]=pr,hi[fi++]=gr,hi[fi++]=Ps,pr=r.id,gr=r.overflow,Ps=a),a=op(a,h.children),a.flags|=4096);return a}return m?(Qr(),m=h.fallback,D=a.mode,I=r.child,Y=I.sibling,h=fr(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,Y!==null?m=fr(Y,m):(m=ks(m,D,c,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,D=r.child.memoizedState,D===null?D=sp(c):(I=D.cachePool,I!==null?(Y=Qt._currentValue,I=I.parent!==Y?{parent:Y,pool:Y}:I):I=Ob(),D={baseLanes:D.baseLanes|c,cachePool:I}),m.memoizedState=D,m.childLanes=ap(r,E,c),a.memoizedState=rp,h):(Wr(a),c=r.child,r=c.sibling,c=fr(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=c,a.memoizedState=null,c)}function op(r,a){return a=Bu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Bu(r,a){return r=Vn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lp(r,a,c){return $a(a,r.child,null,c),r=op(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function G0(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),Cf(r.return,a,c)}function cp(r,a,c,h,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=c,b.tailMode=m)}function q0(r,a,c){var h=a.pendingProps,m=h.revealOrder,b=h.tail;if(cn(r,a,h.children,c),h=Zt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&G0(r,c,a);else if(r.tag===19)G0(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(te(Zt,h),m){case"forwards":for(c=a.child,m=null;c!==null;)r=c.alternate,r!==null&&Pu(r)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),cp(a,!1,m,c,b);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Pu(r)===null){a.child=m;break}r=m.sibling,m.sibling=c,c=m,m=r}cp(a,!0,c,null,b);break;case"together":cp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Sr(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),ns|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(tl(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,c=fr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=fr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function up(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&vu(r)))}function gC(r,a,c){switch(a.tag){case 3:ze(a,a.stateNode.containerInfo),Gr(a,Qt,r.memoizedState.cache),Jo();break;case 27:case 5:_e(a);break;case 4:ze(a,a.stateNode.containerInfo);break;case 10:Gr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Wr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?V0(r,a,c):(Wr(a),r=Sr(r,a,c),r!==null?r.sibling:null);Wr(a);break;case 19:var m=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(tl(r,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return q0(r,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Zt,Zt.current),h)break;return null;case 22:case 23:return a.lanes=0,B0(r,a,c);case 24:Gr(a,Qt,r.memoizedState.cache)}return Sr(r,a,c)}function Y0(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)rn=!0;else{if(!up(r,c)&&(a.flags&128)===0)return rn=!1,gC(r,a,c);rn=(r.flags&131072)!==0}else rn=!1,it&&(a.flags&1048576)!==0&&Ab(a,bu,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")vf(h)?(r=$s(h,r),a.tag=1,a=H0(null,a,h,r,c)):(a.tag=0,a=ip(null,a,h,r,c));else{if(h!=null){if(m=h.$$typeof,m===O){a.tag=11,a=j0(null,a,h,r,c);break e}else if(m===P){a.tag=14,a=I0(null,a,h,r,c);break e}}throw a=Z(h)||h,Error(n(306,a,""))}}return a;case 0:return ip(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=$s(h,a.pendingProps),H0(r,a,h,m,c);case 3:e:{if(ze(a,a.stateNode.containerInfo),r===null)throw Error(n(387));h=a.pendingProps;var b=a.memoizedState;m=b.element,Nf(r,a),ll(a,h,null,c);var E=a.memoizedState;if(h=E.cache,Gr(a,Qt,h),h!==b.cache&&Tf(a,[Qt],c,!0),ol(),h=E.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=$0(r,a,h,c);break e}else if(h!==m){m=ui(Error(n(424)),a),el(m),a=$0(r,a,h,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=Di(r.firstChild),Cn=a,it=!0,Is=null,Ui=!0,c=_0(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Jo(),h===m){a=Sr(r,a,c);break e}cn(r,a,h,c)}a=a.child}return a;case 26:return Fu(r,a),r===null?(c=Qv(a.type,null,a.pendingProps,null))?a.memoizedState=c:it||(c=a.type,r=a.pendingProps,h=Ju(fe.current).createElement(c),h[ce]=a,h[he]=r,dn(h,c,r),tt(h),a.stateNode=h):a.memoizedState=Qv(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return _e(a),r===null&&it&&(h=a.stateNode=Xv(a.type,a.pendingProps,fe.current),Cn=a,Ui=!0,m=Lt,as(a.type)?(Vp=m,Lt=Di(h.firstChild)):Lt=m),cn(r,a,a.pendingProps.children,c),Fu(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&it&&((m=h=Lt)&&(h=$C(h,a.type,a.pendingProps,Ui),h!==null?(a.stateNode=h,Cn=a,Lt=Di(h.firstChild),Ui=!1,m=!0):m=!1),m||Fs(a)),_e(a),m=a.type,b=a.pendingProps,E=r!==null?r.memoizedProps:null,h=b.children,zp(m,b)?h=null:E!==null&&zp(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=Bf(r,a,oC,null,null,c),Ol._currentValue=m),Fu(r,a),cn(r,a,h,c),a.child;case 6:return r===null&&it&&((r=c=Lt)&&(c=VC(c,a.pendingProps,Ui),c!==null?(a.stateNode=c,Cn=a,Lt=null,r=!0):r=!1),r||Fs(a)),null;case 13:return V0(r,a,c);case 4:return ze(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=$a(a,null,h,c):cn(r,a,h,c),a.child;case 11:return j0(r,a,a.type,a.pendingProps,c);case 7:return cn(r,a,a.pendingProps,c),a.child;case 8:return cn(r,a,a.pendingProps.children,c),a.child;case 12:return cn(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Gr(a,a.type,h.value),cn(r,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,zs(a),m=bn(m),h=h(m),a.flags|=1,cn(r,a,h,c),a.child;case 14:return I0(r,a,a.type,a.pendingProps,c);case 15:return F0(r,a,a.type,a.pendingProps,c);case 19:return q0(r,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},r===null?(c=Bu(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=fr(r.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return B0(r,a,c);case 24:return zs(a),h=bn(Qt),r===null?(m=Of(),m===null&&(m=St,b=Rf(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),a.memoizedState={parent:h,cache:m},Lf(a),Gr(a,Qt,m)):((r.lanes&c)!==0&&(Nf(r,a),ll(a,null,null,c),ol()),m=r.memoizedState,b=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Gr(a,Qt,h)):(h=b.cache,Gr(a,Qt,h),h!==m.cache&&Tf(a,[Qt],c,!0))),cn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function wr(r){r.flags|=4}function X0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nS(a)){if(a=pi.current,a!==null&&((Ze&4194048)===Ze?Hi!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||a!==Hi))throw sl=Df,Db;r.flags|=8192}}function zu(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?nu():536870912,r.lanes|=a,Ya|=a)}function gl(r,a){if(!it)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var m=r.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function mC(r,a,c){var h=a.pendingProps;switch(Af(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),yr(Qt),bt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Zo(a)?wr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cb())),Mt(a),null;case 26:return c=a.memoizedState,r===null?(wr(a),c!==null?(Mt(a),X0(a,c)):(Mt(a),a.flags&=-16777217)):c?c!==r.memoizedState?(wr(a),Mt(a),X0(a,c)):(Mt(a),a.flags&=-16777217):(r.memoizedProps!==h&&wr(a),Mt(a),a.flags&=-16777217),null;case 27:ft(a),c=fe.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==h&&wr(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Mt(a),null}r=de.current,Zo(a)?Eb(a):(r=Xv(m,h,c),a.stateNode=r,wr(a))}return Mt(a),null;case 5:if(ft(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&wr(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Mt(a),null}if(r=de.current,Zo(a))Eb(a);else{switch(m=Ju(fe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?m.createElement(c,{is:h.is}):m.createElement(c)}}r[ce]=a,r[he]=h;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(dn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wr(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&wr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(r=fe.current,Zo(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,m=Cn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}r[ce]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Uv(r.nodeValue,c)),r||Fs(a)}else r=Ju(r).createTextNode(h),r[ce]=a,a.stateNode=r}return Mt(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Zo(a),h!==null&&h.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[ce]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),m=!1}else m=Cb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(vr(a),a):(vr(a),null)}if(vr(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),zu(a,a.updateQueue),Mt(a),null;case 4:return bt(),r===null&&Pp(a.stateNode.containerInfo),Mt(a),null;case 10:return yr(a.type),Mt(a),null;case 19:if(ee(Zt),m=a.memoizedState,m===null)return Mt(a),null;if(h=(a.flags&128)!==0,b=m.rendering,b===null)if(h)gl(m,!1);else{if(Nt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=Pu(r),b!==null){for(a.flags|=128,gl(m,!1),r=b.updateQueue,a.updateQueue=r,zu(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)xb(c,r),c=c.sibling;return te(Zt,Zt.current&1|2),a.child}r=r.sibling}m.tail!==null&&Gt()>$u&&(a.flags|=128,h=!0,gl(m,!1),a.lanes=4194304)}else{if(!h)if(r=Pu(b),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,zu(a,r),gl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!it)return Mt(a),null}else 2*Gt()-m.renderingStartTime>$u&&c!==536870912&&(a.flags|=128,h=!0,gl(m,!1),a.lanes=4194304);m.isBackwards?(b.sibling=a.child,a.child=b):(r=m.last,r!==null?r.sibling=b:a.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Gt(),a.sibling=null,r=Zt.current,te(Zt,h?r&1|2:r&1),a):(Mt(a),null);case 22:case 23:return vr(a),If(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),c=a.updateQueue,c!==null&&zu(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&ee(Us),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),yr(Qt),Mt(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function yC(r,a){switch(Af(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return yr(Qt),bt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ft(a),null;case 13:if(vr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Jo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ee(Zt),null;case 4:return bt(),null;case 10:return yr(a.type),null;case 22:case 23:return vr(a),If(),r!==null&&ee(Us),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return yr(Qt),null;case 25:return null;default:return null}}function K0(r,a){switch(Af(a),a.tag){case 3:yr(Qt),bt();break;case 26:case 27:case 5:ft(a);break;case 4:bt();break;case 13:vr(a);break;case 19:ee(Zt);break;case 10:yr(a.type);break;case 22:case 23:vr(a),If(),r!==null&&ee(Us);break;case 24:yr(Qt)}}function ml(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&r)===r){h=void 0;var b=c.create,E=c.inst;h=b(),E.destroy=h}c=c.next}while(c!==m)}}catch(D){pt(a,a.return,D)}}function Zr(r,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&r)===r){var E=h.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,m=a;var I=c,Y=D;try{Y()}catch(re){pt(m,I,re)}}}h=h.next}while(h!==b)}}catch(re){pt(a,a.return,re)}}function W0(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Ib(a,c)}catch(h){pt(r,r.return,h)}}}function Q0(r,a,c){c.props=$s(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){pt(r,a,h)}}function yl(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(m){pt(r,a,m)}}function $i(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){pt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){pt(r,a,m)}else c.current=null}function Z0(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){pt(r,r.return,m)}}function dp(r,a,c){try{var h=r.stateNode;FC(h,r.type,c,a),h[he]=a}catch(m){pt(r,r.return,m)}}function J0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&as(r.type)||r.tag===4}function hp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||J0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&as(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fp(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Zu));else if(h!==4&&(h===27&&as(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(fp(r,a,c),r=r.sibling;r!==null;)fp(r,a,c),r=r.sibling}function Uu(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&(h===27&&as(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Uu(r,a,c),r=r.sibling;r!==null;)Uu(r,a,c),r=r.sibling}function ev(r){var a=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);dn(a,h,c),a[ce]=r,a[he]=c}catch(b){pt(r,r.return,b)}}var xr=!1,Bt=!1,pp=!1,tv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function bC(r,a){if(r=r.containerInfo,Fp=sd,r=hb(r),hf(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var E=0,D=-1,I=-1,Y=0,re=0,oe=r,K=null;t:for(;;){for(var W;oe!==c||m!==0&&oe.nodeType!==3||(D=E+m),oe!==b||h!==0&&oe.nodeType!==3||(I=E+h),oe.nodeType===3&&(E+=oe.nodeValue.length),(W=oe.firstChild)!==null;)K=oe,oe=W;for(;;){if(oe===r)break t;if(K===c&&++Y===m&&(D=E),K===b&&++re===h&&(I=E),(W=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=W}c=D===-1||I===-1?null:{start:D,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Bp={focusedElem:r,selectionRange:c},sd=!1,sn=a;sn!==null;)if(a=sn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,sn=r;else for(;sn!==null;){switch(a=sn,b=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=a,m=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var Ne=$s(c.type,m,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(Ne,b),h.__reactInternalSnapshotBeforeUpdate=r}catch(Te){pt(c,c.return,Te)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Hp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=a.sibling,r!==null){r.return=a.return,sn=r;break}sn=a.return}}function nv(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Jr(r,c),h&4&&ml(5,c);break;case 1:if(Jr(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(E){pt(c,c.return,E)}else{var m=$s(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(c,c.return,E)}}h&64&&W0(c),h&512&&yl(c,c.return);break;case 3:if(Jr(r,c),h&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Ib(r,a)}catch(E){pt(c,c.return,E)}}break;case 27:a===null&&h&4&&ev(c);case 26:case 5:Jr(r,c),a===null&&h&4&&Z0(c),h&512&&yl(c,c.return);break;case 12:Jr(r,c);break;case 13:Jr(r,c),h&4&&sv(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=TC.bind(null,c),GC(r,c))));break;case 22:if(h=c.memoizedState!==null||xr,!h){a=a!==null&&a.memoizedState!==null||Bt,m=xr;var b=Bt;xr=h,(Bt=a)&&!b?es(r,c,(c.subtreeFlags&8772)!==0):Jr(r,c),xr=m,Bt=b}break;case 30:break;default:Jr(r,c)}}function iv(r){var a=r.alternate;a!==null&&(r.alternate=null,iv(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Le(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,kn=!1;function Ar(r,a,c){for(c=c.child;c!==null;)rv(r,a,c),c=c.sibling}function rv(r,a,c){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(mn,c)}catch{}switch(c.tag){case 26:Bt||$i(c,a),Ar(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Bt||$i(c,a);var h=At,m=kn;as(c.type)&&(At=c.stateNode,kn=!1),Ar(r,a,c),Cl(c.stateNode),At=h,kn=m;break;case 5:Bt||$i(c,a);case 6:if(h=At,m=kn,At=null,Ar(r,a,c),At=h,kn=m,At!==null)if(kn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(c.stateNode)}catch(b){pt(c,a,b)}else try{At.removeChild(c.stateNode)}catch(b){pt(c,a,b)}break;case 18:At!==null&&(kn?(r=At,qv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),kl(r)):qv(At,c.stateNode));break;case 4:h=At,m=kn,At=c.stateNode.containerInfo,kn=!0,Ar(r,a,c),At=h,kn=m;break;case 0:case 11:case 14:case 15:Bt||Zr(2,c,a),Bt||Zr(4,c,a),Ar(r,a,c);break;case 1:Bt||($i(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Q0(c,a,h)),Ar(r,a,c);break;case 21:Ar(r,a,c);break;case 22:Bt=(h=Bt)||c.memoizedState!==null,Ar(r,a,c),Bt=h;break;default:Ar(r,a,c)}}function sv(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{kl(r)}catch(c){pt(a,a.return,c)}}function vC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new tv),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new tv),a;default:throw Error(n(435,r.tag))}}function gp(r,a){var c=vC(r);a.forEach(function(h){var m=RC.bind(null,r,h);c.has(h)||(c.add(h),h.then(m,m))})}function Gn(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],b=r,E=a,D=E;e:for(;D!==null;){switch(D.tag){case 27:if(as(D.type)){At=D.stateNode,kn=!1;break e}break;case 5:At=D.stateNode,kn=!1;break e;case 3:case 4:At=D.stateNode.containerInfo,kn=!0;break e}D=D.return}if(At===null)throw Error(n(160));rv(b,E,m),At=null,kn=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)av(a,r),a=a.sibling}var Oi=null;function av(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(a,r),qn(r),h&4&&(Zr(3,r,r.return),ml(3,r),Zr(5,r,r.return));break;case 1:Gn(a,r),qn(r),h&512&&(Bt||c===null||$i(c,c.return)),h&64&&xr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Oi;if(Gn(a,r),qn(r),h&512&&(Bt||c===null||$i(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){e:{h=r.type,c=r.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":b=m.getElementsByTagName("title")[0],(!b||b[De]||b[ce]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(h),m.head.insertBefore(b,m.querySelector("head > title"))),dn(b,h,c),b[ce]=r,tt(b),h=b;break e;case"link":var E=eS("link","href",m).get(h+(c.href||""));if(E){for(var D=0;D<E.length;D++)if(b=E[D],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(D,1);break t}}b=m.createElement(h),dn(b,h,c),m.head.appendChild(b);break;case"meta":if(E=eS("meta","content",m).get(h+(c.content||""))){for(D=0;D<E.length;D++)if(b=E[D],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(D,1);break t}}b=m.createElement(h),dn(b,h,c),m.head.appendChild(b);break;default:throw Error(n(468,h))}b[ce]=r,tt(b),h=b}r.stateNode=h}else tS(m,r.type,r.stateNode);else r.stateNode=Jv(m,h,r.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?tS(m,r.type,r.stateNode):Jv(m,h,r.memoizedProps)):h===null&&r.stateNode!==null&&dp(r,r.memoizedProps,c.memoizedProps)}break;case 27:Gn(a,r),qn(r),h&512&&(Bt||c===null||$i(c,c.return)),c!==null&&h&4&&dp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Gn(a,r),qn(r),h&512&&(Bt||c===null||$i(c,c.return)),r.flags&32){m=r.stateNode;try{_a(m,"")}catch(W){pt(r,r.return,W)}}h&4&&r.stateNode!=null&&(m=r.memoizedProps,dp(r,m,c!==null?c.memoizedProps:m)),h&1024&&(pp=!0);break;case 6:if(Gn(a,r),qn(r),h&4){if(r.stateNode===null)throw Error(n(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(W){pt(r,r.return,W)}}break;case 3:if(nd=null,m=Oi,Oi=ed(a.containerInfo),Gn(a,r),Oi=m,qn(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{kl(a.containerInfo)}catch(W){pt(r,r.return,W)}pp&&(pp=!1,ov(r));break;case 4:h=Oi,Oi=ed(r.stateNode.containerInfo),Gn(a,r),qn(r),Oi=h;break;case 12:Gn(a,r),qn(r);break;case 13:Gn(a,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wp=Gt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,gp(r,h)));break;case 22:m=r.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,Y=xr,re=Bt;if(xr=Y||m,Bt=re||I,Gn(a,r),Bt=re,xr=Y,qn(r),h&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||I||xr||Bt||Vs(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){I=c=a;try{if(b=I.stateNode,m)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=I.stateNode;var oe=I.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;D.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){pt(I,I.return,W)}}}else if(a.tag===6){if(c===null){I=a;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(W){pt(I,I.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,gp(r,c))));break;case 19:Gn(a,r),qn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,gp(r,h)));break;case 30:break;case 21:break;default:Gn(a,r),qn(r)}}function qn(r){var a=r.flags;if(a&2){try{for(var c,h=r.return;h!==null;){if(J0(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var m=c.stateNode,b=hp(r);Uu(r,b,m);break;case 5:var E=c.stateNode;c.flags&32&&(_a(E,""),c.flags&=-33);var D=hp(r);Uu(r,D,E);break;case 3:case 4:var I=c.stateNode.containerInfo,Y=hp(r);fp(r,Y,I);break;default:throw Error(n(161))}}catch(re){pt(r,r.return,re)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function ov(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;ov(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Jr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nv(r,a.alternate,a),a=a.sibling}function Vs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Zr(4,a,a.return),Vs(a);break;case 1:$i(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Q0(a,a.return,c),Vs(a);break;case 27:Cl(a.stateNode);case 26:case 5:$i(a,a.return),Vs(a);break;case 22:a.memoizedState===null&&Vs(a);break;case 30:Vs(a);break;default:Vs(a)}r=r.sibling}}function es(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=r,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:es(m,b,c),ml(4,b);break;case 1:if(es(m,b,c),h=b,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){pt(h,h.return,Y)}if(h=b,m=h.updateQueue,m!==null){var D=h.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)jb(I[m],D)}catch(Y){pt(h,h.return,Y)}}c&&E&64&&W0(b),yl(b,b.return);break;case 27:ev(b);case 26:case 5:es(m,b,c),c&&h===null&&E&4&&Z0(b),yl(b,b.return);break;case 12:es(m,b,c);break;case 13:es(m,b,c),c&&E&4&&sv(m,b);break;case 22:b.memoizedState===null&&es(m,b,c),yl(b,b.return);break;case 30:break;default:es(m,b,c)}a=a.sibling}}function mp(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&nl(c))}function yp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&nl(r))}function Vi(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lv(r,a,c,h),a=a.sibling}function lv(r,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(r,a,c,h),m&2048&&ml(9,a);break;case 1:Vi(r,a,c,h);break;case 3:Vi(r,a,c,h),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&nl(r)));break;case 12:if(m&2048){Vi(r,a,c,h),r=a.stateNode;try{var b=a.memoizedProps,E=b.id,D=b.onPostCommit;typeof D=="function"&&D(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){pt(a,a.return,I)}}else Vi(r,a,c,h);break;case 13:Vi(r,a,c,h);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?Vi(r,a,c,h):bl(r,a):b._visibility&2?Vi(r,a,c,h):(b._visibility|=2,Va(r,a,c,h,(a.subtreeFlags&10256)!==0)),m&2048&&mp(E,a);break;case 24:Vi(r,a,c,h),m&2048&&yp(a.alternate,a);break;default:Vi(r,a,c,h)}}function Va(r,a,c,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=r,E=a,D=c,I=h,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Va(b,E,D,I,m),ml(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?Va(b,E,D,I,m):bl(b,E):(re._visibility|=2,Va(b,E,D,I,m)),m&&Y&2048&&mp(E.alternate,E);break;case 24:Va(b,E,D,I,m),m&&Y&2048&&yp(E.alternate,E);break;default:Va(b,E,D,I,m)}a=a.sibling}}function bl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,m=h.flags;switch(h.tag){case 22:bl(c,h),m&2048&&mp(h.alternate,h);break;case 24:bl(c,h),m&2048&&yp(h.alternate,h);break;default:bl(c,h)}a=a.sibling}}var vl=8192;function Ga(r){if(r.subtreeFlags&vl)for(r=r.child;r!==null;)cv(r),r=r.sibling}function cv(r){switch(r.tag){case 26:Ga(r),r.flags&vl&&r.memoizedState!==null&&rT(Oi,r.memoizedState,r.memoizedProps);break;case 5:Ga(r);break;case 3:case 4:var a=Oi;Oi=ed(r.stateNode.containerInfo),Ga(r),Oi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=vl,vl=16777216,Ga(r),vl=a):Ga(r));break;default:Ga(r)}}function uv(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Sl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];sn=h,hv(h,r)}uv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dv(r),r=r.sibling}function dv(r){switch(r.tag){case 0:case 11:case 15:Sl(r),r.flags&2048&&Zr(9,r,r.return);break;case 3:Sl(r);break;case 12:Sl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Hu(r)):Sl(r);break;default:Sl(r)}}function Hu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];sn=h,hv(h,r)}uv(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Zr(8,a,a.return),Hu(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Hu(a));break;default:Hu(a)}r=r.sibling}}function hv(r,a){for(;sn!==null;){var c=sn;switch(c.tag){case 0:case 11:case 15:Zr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:nl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,sn=h;else e:for(c=r;sn!==null;){h=sn;var m=h.sibling,b=h.return;if(iv(h),h===c){sn=null;break e}if(m!==null){m.return=b,sn=m;break e}sn=b}}}var SC={getCacheForType:function(r){var a=bn(Qt),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},wC=typeof WeakMap=="function"?WeakMap:Map,at=0,St=null,qe=null,Ze=0,ot=0,Yn=null,ts=!1,qa=!1,bp=!1,Er=0,Nt=0,ns=0,Gs=0,vp=0,gi=0,Ya=0,wl=null,Pn=null,Sp=!1,wp=0,$u=1/0,Vu=null,is=null,un=0,rs=null,Xa=null,Ka=0,xp=0,Ap=null,fv=null,xl=0,Ep=null;function Xn(){if((at&2)!==0&&Ze!==0)return Ze&-Ze;if(k.T!==null){var r=ja;return r!==0?r:Dp()}return F()}function pv(){gi===0&&(gi=(Ze&536870912)===0||it?xa():536870912);var r=pi.current;return r!==null&&(r.flags|=32),gi}function Kn(r,a,c){(r===St&&(ot===2||ot===9)||r.cancelPendingCommit!==null)&&(Wa(r,0),ss(r,Ze,gi,!1)),Ts(r,c),((at&2)===0||r!==St)&&(r===St&&((at&2)===0&&(Gs|=c),Nt===4&&ss(r,Ze,gi,!1)),Gi(r))}function gv(r,a,c){if((at&6)!==0)throw Error(n(327));var h=!c&&(a&124)===0&&(a&r.expiredLanes)===0||zi(r,a),m=h?EC(r,a):Tp(r,a,!0),b=h;do{if(m===0){qa&&!h&&ss(r,a,0,!1);break}else{if(c=r.current.alternate,b&&!xC(c)){m=Tp(r,a,!1),b=!1;continue}if(m===2){if(b=a,r.errorRecoveryDisabledLanes&b)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var D=r;m=wl;var I=D.current.memoizedState.isDehydrated;if(I&&(Wa(D,E).flags|=256),E=Tp(D,E,!1),E!==2){if(bp&&!I){D.errorRecoveryDisabledLanes|=b,Gs|=b,m=4;break e}b=Pn,Pn=m,b!==null&&(Pn===null?Pn=b:Pn.push.apply(Pn,b))}m=E}if(b=!1,m!==2)continue}}if(m===1){Wa(r,0),ss(r,a,0,!0);break}e:{switch(h=r,b=m,b){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:ss(h,a,gi,!ts);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(m=wp+300-Gt(),10<m)){if(ss(h,a,gi,!ts),Cs(h,0,!0)!==0)break e;h.timeoutHandle=Vv(mv.bind(null,h,c,Pn,Vu,Sp,a,gi,Gs,Ya,ts,b,2,-0,0),m);break e}mv(h,c,Pn,Vu,Sp,a,gi,Gs,Ya,ts,b,0,-0,0)}}break}while(!0);Gi(r)}function mv(r,a,c,h,m,b,E,D,I,Y,re,oe,K,W){if(r.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:iT},cv(a),oe=sT(),oe!==null)){r.cancelPendingCommit=oe(Av.bind(null,r,a,b,c,h,m,E,D,I,re,1,K,W)),ss(r,b,E,!Y);return}Av(r,a,b,c,h,m,E,D,I)}function xC(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],b=m.getSnapshot;m=m.value;try{if(!$n(b(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ss(r,a,c,h){a&=~vp,a&=~Gs,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var m=a;0<m;){var b=31-vt(m),E=1<<b;h[b]=-1,m&=~E}c!==0&&Rs(r,c,a)}function Gu(){return(at&6)===0?(Al(0),!1):!0}function _p(){if(qe!==null){if(ot===0)var r=qe.return;else r=qe,mr=Bs=null,Hf(r),Ha=null,fl=0,r=qe;for(;r!==null;)K0(r.alternate,r),r=r.return;qe=null}}function Wa(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,zC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),_p(),St=r,qe=c=fr(r.current,null),Ze=a,ot=0,Yn=null,ts=!1,qa=zi(r,a),bp=!1,Ya=gi=vp=Gs=ns=Nt=0,Pn=wl=null,Sp=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var m=31-vt(h),b=1<<m;a|=r[m],h&=~b}return Er=a,fu(),c}function yv(r,a){He=null,k.H=Lu,a===rl||a===xu?(a=kb(),ot=3):a===Db?(a=kb(),ot=4):ot=a===P0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Yn=a,qe===null&&(Nt=1,Iu(r,ui(a,r.current)))}function bv(){var r=k.H;return k.H=Lu,r===null?Lu:r}function vv(){var r=k.A;return k.A=SC,r}function Cp(){Nt=4,ts||(Ze&4194048)!==Ze&&pi.current!==null||(qa=!0),(ns&134217727)===0&&(Gs&134217727)===0||St===null||ss(St,Ze,gi,!1)}function Tp(r,a,c){var h=at;at|=2;var m=bv(),b=vv();(St!==r||Ze!==a)&&(Vu=null,Wa(r,a)),a=!1;var E=Nt;e:do try{if(ot!==0&&qe!==null){var D=qe,I=Yn;switch(ot){case 8:_p(),E=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(a=!0);var Y=ot;if(ot=0,Yn=null,Qa(r,D,I,Y),c&&qa){E=0;break e}break;default:Y=ot,ot=0,Yn=null,Qa(r,D,I,Y)}}AC(),E=Nt;break}catch(re){yv(r,re)}while(!0);return a&&r.shellSuspendCounter++,mr=Bs=null,at=h,k.H=m,k.A=b,qe===null&&(St=null,Ze=0,fu()),E}function AC(){for(;qe!==null;)Sv(qe)}function EC(r,a){var c=at;at|=2;var h=bv(),m=vv();St!==r||Ze!==a?(Vu=null,$u=Gt()+500,Wa(r,a)):qa=zi(r,a);e:do try{if(ot!==0&&qe!==null){a=qe;var b=Yn;t:switch(ot){case 1:ot=0,Yn=null,Qa(r,a,b,1);break;case 2:case 9:if(Lb(b)){ot=0,Yn=null,wv(a);break}a=function(){ot!==2&&ot!==9||St!==r||(ot=7),Gi(r)},b.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Lb(b)?(ot=0,Yn=null,wv(a)):(ot=0,Yn=null,Qa(r,a,b,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var D=qe;if(!E||nS(E)){ot=0,Yn=null;var I=D.sibling;if(I!==null)qe=I;else{var Y=D.return;Y!==null?(qe=Y,qu(Y)):qe=null}break t}}ot=0,Yn=null,Qa(r,a,b,5);break;case 6:ot=0,Yn=null,Qa(r,a,b,6);break;case 8:_p(),Nt=6;break e;default:throw Error(n(462))}}_C();break}catch(re){yv(r,re)}while(!0);return mr=Bs=null,k.H=h,k.A=m,at=c,qe!==null?0:(St=null,Ze=0,fu(),Nt)}function _C(){for(;qe!==null&&!Tt();)Sv(qe)}function Sv(r){var a=Y0(r.alternate,r,Er);r.memoizedProps=r.pendingProps,a===null?qu(r):qe=a}function wv(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=U0(c,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=U0(c,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:Hf(a);default:K0(c,a),a=qe=xb(a,Er),a=Y0(c,a,Er)}r.memoizedProps=r.pendingProps,a===null?qu(r):qe=a}function Qa(r,a,c,h){mr=Bs=null,Hf(a),Ha=null,fl=0;var m=a.return;try{if(pC(r,m,a,c,Ze)){Nt=1,Iu(r,ui(c,r.current)),qe=null;return}}catch(b){if(m!==null)throw qe=m,b;Nt=1,Iu(r,ui(c,r.current)),qe=null;return}a.flags&32768?(it||h===1?r=!0:qa||(Ze&536870912)!==0?r=!1:(ts=r=!0,(h===2||h===9||h===3||h===6)&&(h=pi.current,h!==null&&h.tag===13&&(h.flags|=16384))),xv(a,r)):qu(a)}function qu(r){var a=r;do{if((a.flags&32768)!==0){xv(a,ts);return}r=a.return;var c=mC(a.alternate,a,Er);if(c!==null){qe=c;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=r}while(a!==null);Nt===0&&(Nt=5)}function xv(r,a){do{var c=yC(r.alternate,r);if(c!==null){c.flags&=32767,qe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){qe=r;return}qe=r=c}while(r!==null);Nt=6,qe=null}function Av(r,a,c,h,m,b,E,D,I){r.cancelPendingCommit=null;do Yu();while(un!==0);if((at&6)!==0)throw Error(n(327));if(a!==null){if(a===r.current)throw Error(n(177));if(b=a.lanes|a.childLanes,b|=yf,iu(r,c,b,E,D,I),r===St&&(qe=St=null,Ze=0),Xa=a,rs=r,Ka=c,xp=b,Ap=m,fv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,MC(_i,function(){return Rv(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=k.T,k.T=null,m=H.p,H.p=2,E=at,at|=4;try{bC(r,a,c)}finally{at=E,H.p=m,k.T=h}}un=1,Ev(),_v(),Cv()}}function Ev(){if(un===1){un=0;var r=rs,a=Xa,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=k.T,k.T=null;var h=H.p;H.p=2;var m=at;at|=4;try{av(a,r);var b=Bp,E=hb(r.containerInfo),D=b.focusedElem,I=b.selectionRange;if(E!==D&&D&&D.ownerDocument&&db(D.ownerDocument.documentElement,D)){if(I!==null&&hf(D)){var Y=I.start,re=I.end;if(re===void 0&&(re=Y),"selectionStart"in D)D.selectionStart=Y,D.selectionEnd=Math.min(re,D.value.length);else{var oe=D.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var W=K.getSelection(),Ne=D.textContent.length,Te=Math.min(I.start,Ne),ut=I.end===void 0?Te:Math.min(I.end,Ne);!W.extend&&Te>ut&&(E=ut,ut=Te,Te=E);var $=ub(D,Te),z=ub(D,ut);if($&&z&&(W.rangeCount!==1||W.anchorNode!==$.node||W.anchorOffset!==$.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var q=oe.createRange();q.setStart($.node,$.offset),W.removeAllRanges(),Te>ut?(W.addRange(q),W.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),W.addRange(q))}}}}for(oe=[],W=D;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<oe.length;D++){var se=oe[D];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}sd=!!Fp,Bp=Fp=null}finally{at=m,H.p=h,k.T=c}}r.current=a,un=2}}function _v(){if(un===2){un=0;var r=rs,a=Xa,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=k.T,k.T=null;var h=H.p;H.p=2;var m=at;at|=4;try{nv(r,a.alternate,a)}finally{at=m,H.p=h,k.T=c}}un=3}}function Cv(){if(un===4||un===3){un=0,Dt();var r=rs,a=Xa,c=Ka,h=fv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?un=5:(un=0,Xa=rs=null,Tv(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(is=null),zo(c),a=a.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(mn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=k.T,m=H.p,H.p=2,k.T=null;try{for(var b=r.onRecoverableError,E=0;E<h.length;E++){var D=h[E];b(D.value,{componentStack:D.stack})}}finally{k.T=a,H.p=m}}(Ka&3)!==0&&Yu(),Gi(r),m=r.pendingLanes,(c&4194090)!==0&&(m&42)!==0?r===Ep?xl++:(xl=0,Ep=r):xl=0,Al(0)}}function Tv(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,nl(a)))}function Yu(r){return Ev(),_v(),Cv(),Rv()}function Rv(){if(un!==5)return!1;var r=rs,a=xp;xp=0;var c=zo(Ka),h=k.T,m=H.p;try{H.p=32>c?32:c,k.T=null,c=Ap,Ap=null;var b=rs,E=Ka;if(un=0,Xa=rs=null,Ka=0,(at&6)!==0)throw Error(n(331));var D=at;if(at|=4,dv(b.current),lv(b,b.current,E,c),at=D,Al(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(mn,b)}catch{}return!0}finally{H.p=m,k.T=h,Tv(r,a)}}function Mv(r,a,c){a=ui(c,a),a=np(r.stateNode,a,2),r=Xr(r,a,2),r!==null&&(Ts(r,2),Gi(r))}function pt(r,a,c){if(r.tag===3)Mv(r,r,c);else for(;a!==null;){if(a.tag===3){Mv(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(is===null||!is.has(h))){r=ui(c,r),c=N0(2),h=Xr(a,c,2),h!==null&&(k0(c,h,a,r),Ts(h,2),Gi(h));break}}a=a.return}}function Rp(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new wC;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(bp=!0,m.add(c),r=CC.bind(null,r,a,c),a.then(r,r))}function CC(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,St===r&&(Ze&c)===c&&(Nt===4||Nt===3&&(Ze&62914560)===Ze&&300>Gt()-wp?(at&2)===0&&Wa(r,0):vp|=c,Ya===Ze&&(Ya=0)),Gi(r)}function Ov(r,a){a===0&&(a=nu()),r=La(r,a),r!==null&&(Ts(r,a),Gi(r))}function TC(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Ov(r,c)}function RC(r,a){var c=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),Ov(r,c)}function MC(r,a){return Fe(r,a)}var Xu=null,Za=null,Mp=!1,Ku=!1,Op=!1,qs=0;function Gi(r){r!==Za&&r.next===null&&(Za===null?Xu=Za=r:Za=Za.next=r),Ku=!0,Mp||(Mp=!0,DC())}function Al(r,a){if(!Op&&Ku){Op=!0;do for(var c=!1,h=Xu;h!==null;){if(r!==0){var m=h.pendingLanes;if(m===0)var b=0;else{var E=h.suspendedLanes,D=h.pingedLanes;b=(1<<31-vt(42|r)+1)-1,b&=m&~(E&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,kv(h,b))}else b=Ze,b=Cs(h,h===St?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||zi(h,b)||(c=!0,kv(h,b));h=h.next}while(c);Op=!1}}function OC(){Dv()}function Dv(){Ku=Mp=!1;var r=0;qs!==0&&(BC()&&(r=qs),qs=0);for(var a=Gt(),c=null,h=Xu;h!==null;){var m=h.next,b=Lv(h,a);b===0?(h.next=null,c===null?Xu=m:c.next=m,m===null&&(Za=c)):(c=h,(r!==0||(b&3)!==0)&&(Ku=!0)),h=m}Al(r)}function Lv(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var E=31-vt(b),D=1<<E,I=m[E];I===-1?((D&c)===0||(D&h)!==0)&&(m[E]=tu(D,a)):I<=a&&(r.expiredLanes|=D),b&=~D}if(a=St,c=Ze,c=Cs(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===a&&(ot===2||ot===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ke(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||zi(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&Ke(h),zo(c)){case 2:case 8:c=Sa;break;case 32:c=_i;break;case 268435456:c=Fi;break;default:c=_i}return h=Nv.bind(null,r),c=Fe(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&Ke(h),r.callbackPriority=2,r.callbackNode=null,2}function Nv(r,a){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Yu()&&r.callbackNode!==c)return null;var h=Ze;return h=Cs(r,r===St?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(gv(r,h,a),Lv(r,Gt()),r.callbackNode!=null&&r.callbackNode===c?Nv.bind(null,r):null)}function kv(r,a){if(Yu())return null;gv(r,a,!0)}function DC(){UC(function(){(at&6)!==0?Fe(Br,OC):Dv()})}function Dp(){return qs===0&&(qs=xa()),qs}function Pv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:au(""+r)}function jv(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function LC(r,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var b=Pv((m[he]||null).action),E=h.submitter;E&&(a=(a=E[he]||null)?Pv(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var D=new uu("action","action",null,h,m);r.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(qs!==0){var I=E?jv(m,E):new FormData(m);Qf(c,{pending:!0,data:I,method:m.method,action:b},null,I)}}else typeof b=="function"&&(D.preventDefault(),I=E?jv(m,E):new FormData(m),Qf(c,{pending:!0,data:I,method:m.method,action:b},b,I))},currentTarget:m}]})}}for(var Lp=0;Lp<mf.length;Lp++){var Np=mf[Lp],NC=Np.toLowerCase(),kC=Np[0].toUpperCase()+Np.slice(1);Mi(NC,"on"+kC)}Mi(gb,"onAnimationEnd"),Mi(mb,"onAnimationIteration"),Mi(yb,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Q_,"onTransitionRun"),Mi(Z_,"onTransitionStart"),Mi(J_,"onTransitionCancel"),Mi(bb,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Iv(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],m=h.event;h=h.listeners;e:{var b=void 0;if(a)for(var E=h.length-1;0<=E;E--){var D=h[E],I=D.instance,Y=D.currentTarget;if(D=D.listener,I!==b&&m.isPropagationStopped())break e;b=D,m.currentTarget=Y;try{b(m)}catch(re){ju(re)}m.currentTarget=null,b=I}else for(E=0;E<h.length;E++){if(D=h[E],I=D.instance,Y=D.currentTarget,D=D.listener,I!==b&&m.isPropagationStopped())break e;b=D,m.currentTarget=Y;try{b(m)}catch(re){ju(re)}m.currentTarget=null,b=I}}}}function Ye(r,a){var c=a[Ce];c===void 0&&(c=a[Ce]=new Set);var h=r+"__bubble";c.has(h)||(Fv(a,r,2,!1),c.add(h))}function kp(r,a,c){var h=0;a&&(h|=4),Fv(c,r,h,a)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Pp(r){if(!r[Wu]){r[Wu]=!0,Qe.forEach(function(c){c!=="selectionchange"&&(PC.has(c)||kp(c,!1,r),kp(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Wu]||(a[Wu]=!0,kp("selectionchange",!1,a))}}function Fv(r,a,c,h){switch(lS(a)){case 2:var m=lT;break;case 8:m=cT;break;default:m=Kp}c=m.bind(null,a,c,r),m=void 0,!nf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(a,c,{capture:!0,passive:m}):r.addEventListener(a,c,!0):m!==void 0?r.addEventListener(a,c,{passive:m}):r.addEventListener(a,c,!1)}function jp(r,a,c,h,m){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var D=h.stateNode.containerInfo;if(D===m)break;if(E===4)for(E=h.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;D!==null;){if(E=Pe(D),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){h=b=E;continue e}D=D.parentNode}}h=h.return}Gy(function(){var Y=b,re=ef(c),oe=[];e:{var K=vb.get(r);if(K!==void 0){var W=uu,Ne=r;switch(r){case"keypress":if(lu(c)===0)break e;case"keydown":case"keyup":W=M_;break;case"focusin":Ne="focus",W=of;break;case"focusout":Ne="blur",W=of;break;case"beforeblur":case"afterblur":W=of;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=L_;break;case gb:case mb:case yb:W=S_;break;case bb:W=k_;break;case"scroll":case"scrollend":W=g_;break;case"wheel":W=j_;break;case"copy":case"cut":case"paste":W=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Wy;break;case"toggle":case"beforetoggle":W=F_}var Te=(a&4)!==0,ut=!Te&&(r==="scroll"||r==="scrollend"),$=Te?K!==null?K+"Capture":null:K;Te=[];for(var z=Y,q;z!==null;){var se=z;if(q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||q===null||$===null||(se=$o(z,$),se!=null&&Te.push(_l(z,se,q))),ut)break;z=z.return}0<Te.length&&(K=new W(K,Ne,null,c,re),oe.push({event:K,listeners:Te}))}}if((a&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",K&&c!==Jh&&(Ne=c.relatedTarget||c.fromElement)&&(Pe(Ne)||Ne[be]))break e;if((W||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Ne=c.relatedTarget||c.toElement,W=Y,Ne=Ne?Pe(Ne):null,Ne!==null&&(ut=o(Ne),Te=Ne.tag,Ne!==ut||Te!==5&&Te!==27&&Te!==6)&&(Ne=null)):(W=null,Ne=Y),W!==Ne)){if(Te=Xy,se="onMouseLeave",$="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Wy,se="onPointerLeave",$="onPointerEnter",z="pointer"),ut=W==null?K:wt(W),q=Ne==null?K:wt(Ne),K=new Te(se,z+"leave",W,c,re),K.target=ut,K.relatedTarget=q,se=null,Pe(re)===Y&&(Te=new Te($,z+"enter",Ne,c,re),Te.target=q,Te.relatedTarget=ut,se=Te),ut=se,W&&Ne)t:{for(Te=W,$=Ne,z=0,q=Te;q;q=Ja(q))z++;for(q=0,se=$;se;se=Ja(se))q++;for(;0<z-q;)Te=Ja(Te),z--;for(;0<q-z;)$=Ja($),q--;for(;z--;){if(Te===$||$!==null&&Te===$.alternate)break t;Te=Ja(Te),$=Ja($)}Te=null}else Te=null;W!==null&&Bv(oe,K,W,Te,!1),Ne!==null&&ut!==null&&Bv(oe,ut,Ne,Te,!0)}}e:{if(K=Y?wt(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ye=rb;else if(nb(K))if(sb)ye=X_;else{ye=q_;var Ve=G_}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Zh(Y.elementType)&&(ye=rb):ye=Y_;if(ye&&(ye=ye(r,Y))){ib(oe,ye,c,re);break e}Ve&&Ve(r,K,Y),r==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Qh(K,"number",K.value)}switch(Ve=Y?wt(Y):window,r){case"focusin":(nb(Ve)||Ve.contentEditable==="true")&&(Ma=Ve,ff=Y,Qo=null);break;case"focusout":Qo=ff=Ma=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,fb(oe,c,re);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":fb(oe,c,re)}var we;if(cf)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ra?eb(r,c)&&(Re="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(Qy&&c.locale!=="ko"&&(Ra||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ra&&(we=qy()):(Vr=re,rf="value"in Vr?Vr.value:Vr.textContent,Ra=!0)),Ve=Qu(Y,Re),0<Ve.length&&(Re=new Ky(Re,r,null,c,re),oe.push({event:Re,listeners:Ve}),we?Re.data=we:(we=tb(c),we!==null&&(Re.data=we)))),(we=z_?U_(r,c):H_(r,c))&&(Re=Qu(Y,"onBeforeInput"),0<Re.length&&(Ve=new Ky("onBeforeInput","beforeinput",null,c,re),oe.push({event:Ve,listeners:Re}),Ve.data=we)),LC(oe,r,Y,c,re)}Iv(oe,a)})}function _l(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Qu(r,a){for(var c=a+"Capture",h=[];r!==null;){var m=r,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=$o(r,c),m!=null&&h.unshift(_l(r,m,b)),m=$o(r,a),m!=null&&h.push(_l(r,m,b))),r.tag===3)return h;r=r.return}return[]}function Ja(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bv(r,a,c,h,m){for(var b=a._reactName,E=[];c!==null&&c!==h;){var D=c,I=D.alternate,Y=D.stateNode;if(D=D.tag,I!==null&&I===h)break;D!==5&&D!==26&&D!==27||Y===null||(I=Y,m?(Y=$o(c,b),Y!=null&&E.unshift(_l(c,Y,I))):m||(Y=$o(c,b),Y!=null&&E.push(_l(c,Y,I)))),c=c.return}E.length!==0&&r.push({event:a,listeners:E})}var jC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function zv(r){return(typeof r=="string"?r:""+r).replace(jC,`
`).replace(IC,"")}function Uv(r,a){return a=zv(a),zv(r)===a}function Zu(){}function ct(r,a,c,h,m,b){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||_a(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&_a(r,""+h);break;case"className":dr(r,"class",h);break;case"tabIndex":dr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(r,c,h);break;case"style":$y(r,h,b);break;case"data":if(a!=="object"){dr(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=au(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&ct(r,a,"name",m.name,m,null),ct(r,a,"formEncType",m.formEncType,m,null),ct(r,a,"formMethod",m.formMethod,m,null),ct(r,a,"formTarget",m.formTarget,m,null)):(ct(r,a,"encType",m.encType,m,null),ct(r,a,"method",m.method,m,null),ct(r,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=au(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=Zu);break;case"onScroll":h!=null&&Ye("scroll",r);break;case"onScrollEnd":h!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=au(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),li(r,"popover",h);break;case"xlinkActuate":$e(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$e(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$e(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$e(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$e(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$e(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$e(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$e(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$e(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":li(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=f_.get(c)||c,li(r,c,h))}}function Ip(r,a,c,h,m,b){switch(c){case"style":$y(r,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"children":typeof h=="string"?_a(r,h):(typeof h=="number"||typeof h=="bigint")&&_a(r,""+h);break;case"onScroll":h!=null&&Ye("scroll",r);break;case"onScrollEnd":h!=null&&Ye("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),b=r[he]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(a,b,m),typeof h=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,m);break e}c in r?r[c]=h:h===!0?r.setAttribute(c,""):li(r,c,h)}}}function dn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var h=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var E=c[b];if(E!=null)switch(b){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ct(r,a,b,E,c,null)}}m&&ct(r,a,"srcSet",c.srcSet,c,null),h&&ct(r,a,"src",c.src,c,null);return;case"input":Ye("invalid",r);var D=b=E=m=null,I=null,Y=null;for(h in c)if(c.hasOwnProperty(h)){var re=c[h];if(re!=null)switch(h){case"name":m=re;break;case"type":E=re;break;case"checked":I=re;break;case"defaultChecked":Y=re;break;case"value":b=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,a));break;default:ct(r,a,h,re,c,null)}}By(r,b,D,I,Y,E,m,!1),ru(r);return;case"select":Ye("invalid",r),h=E=b=null;for(m in c)if(c.hasOwnProperty(m)&&(D=c[m],D!=null))switch(m){case"value":b=D;break;case"defaultValue":E=D;break;case"multiple":h=D;default:ct(r,a,m,D,c,null)}a=b,c=E,r.multiple=!!h,a!=null?Ea(r,!!h,a,!1):c!=null&&Ea(r,!!h,c,!0);return;case"textarea":Ye("invalid",r),b=m=h=null;for(E in c)if(c.hasOwnProperty(E)&&(D=c[E],D!=null))switch(E){case"value":h=D;break;case"defaultValue":m=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:ct(r,a,E,D,c,null)}Uy(r,h,m,b),ru(r);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(h=c[I],h!=null))switch(I){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ct(r,a,I,h,c,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(h=0;h<El.length;h++)Ye(El[h],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in c)if(c.hasOwnProperty(Y)&&(h=c[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ct(r,a,Y,h,c,null)}return;default:if(Zh(a)){for(re in c)c.hasOwnProperty(re)&&(h=c[re],h!==void 0&&Ip(r,a,re,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&ct(r,a,D,h,c,null))}function FC(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,E=null,D=null,I=null,Y=null,re=null;for(W in c){var oe=c[W];if(c.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=oe;default:h.hasOwnProperty(W)||ct(r,a,W,null,h,oe)}}for(var K in h){var W=h[K];if(oe=c[K],h.hasOwnProperty(K)&&(W!=null||oe!=null))switch(K){case"type":b=W;break;case"name":m=W;break;case"checked":Y=W;break;case"defaultChecked":re=W;break;case"value":E=W;break;case"defaultValue":D=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,a));break;default:W!==oe&&ct(r,a,K,W,h,oe)}}Wh(r,E,D,I,Y,re,b,m);return;case"select":W=E=D=K=null;for(b in c)if(I=c[b],c.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":W=I;default:h.hasOwnProperty(b)||ct(r,a,b,null,h,I)}for(m in h)if(b=h[m],I=c[m],h.hasOwnProperty(m)&&(b!=null||I!=null))switch(m){case"value":K=b;break;case"defaultValue":D=b;break;case"multiple":E=b;default:b!==I&&ct(r,a,m,b,h,I)}a=D,c=E,h=W,K!=null?Ea(r,!!c,K,!1):!!h!=!!c&&(a!=null?Ea(r,!!c,a,!0):Ea(r,!!c,c?[]:"",!1));return;case"textarea":W=K=null;for(D in c)if(m=c[D],c.hasOwnProperty(D)&&m!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ct(r,a,D,null,h,m)}for(E in h)if(m=h[E],b=c[E],h.hasOwnProperty(E)&&(m!=null||b!=null))switch(E){case"value":K=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==b&&ct(r,a,E,m,h,b)}zy(r,K,W);return;case"option":for(var Ne in c)if(K=c[Ne],c.hasOwnProperty(Ne)&&K!=null&&!h.hasOwnProperty(Ne))switch(Ne){case"selected":r.selected=!1;break;default:ct(r,a,Ne,null,h,K)}for(I in h)if(K=h[I],W=c[I],h.hasOwnProperty(I)&&K!==W&&(K!=null||W!=null))switch(I){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ct(r,a,I,K,h,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)K=c[Te],c.hasOwnProperty(Te)&&K!=null&&!h.hasOwnProperty(Te)&&ct(r,a,Te,null,h,K);for(Y in h)if(K=h[Y],W=c[Y],h.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,a));break;default:ct(r,a,Y,K,h,W)}return;default:if(Zh(a)){for(var ut in c)K=c[ut],c.hasOwnProperty(ut)&&K!==void 0&&!h.hasOwnProperty(ut)&&Ip(r,a,ut,void 0,h,K);for(re in h)K=h[re],W=c[re],!h.hasOwnProperty(re)||K===W||K===void 0&&W===void 0||Ip(r,a,re,K,h,W);return}}for(var $ in c)K=c[$],c.hasOwnProperty($)&&K!=null&&!h.hasOwnProperty($)&&ct(r,a,$,null,h,K);for(oe in h)K=h[oe],W=c[oe],!h.hasOwnProperty(oe)||K===W||K==null&&W==null||ct(r,a,oe,K,h,W)}var Fp=null,Bp=null;function Ju(r){return r.nodeType===9?r:r.ownerDocument}function Hv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function zp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Up=null;function BC(){var r=window.event;return r&&r.type==="popstate"?r===Up?!1:(Up=r,!0):(Up=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(r){return Gv.resolve(null).then(r).catch(HC)}:Vv;function HC(r){setTimeout(function(){throw r})}function as(r){return r==="head"}function qv(r,a){var c=a,h=0,m=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<h&&8>h){c=h;var E=r.ownerDocument;if(c&1&&Cl(E.documentElement),c&2&&Cl(E.body),c&4)for(c=E.head,Cl(c),E=c.firstChild;E;){var D=E.nextSibling,I=E.nodeName;E[De]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=D}}if(m===0){r.removeChild(b),kl(a);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:h=c.charCodeAt(0)-48;else h=0;c=b}while(c);kl(a)}function Hp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Hp(c),Le(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function $C(r,a,c,h){for(;r.nodeType===1;){var m=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[De])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Di(r.nextSibling),r===null)break}return null}function VC(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Di(r.nextSibling),r===null))return null;return r}function $p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function GC(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Di(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Vp=null;function Yv(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Xv(r,a,c){switch(a=Ju(c),r){case"html":if(r=a.documentElement,!r)throw Error(n(452));return r;case"head":if(r=a.head,!r)throw Error(n(453));return r;case"body":if(r=a.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Cl(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Le(r)}var mi=new Map,Kv=new Set;function ed(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _r=H.d;H.d={f:qC,r:YC,D:XC,C:KC,L:WC,m:QC,X:JC,S:ZC,M:eT};function qC(){var r=_r.f(),a=Gu();return r||a}function YC(r){var a=Je(r);a!==null&&a.tag===5&&a.type==="form"?g0(a):_r.r(r)}var eo=typeof document>"u"?null:document;function Wv(r,a,c){var h=eo;if(h&&typeof a=="string"&&a){var m=ci(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Kv.has(m)||(Kv.add(m),r={rel:r,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),dn(a,"link",r),tt(a),h.head.appendChild(a)))}}function XC(r){_r.D(r),Wv("dns-prefetch",r,null)}function KC(r,a){_r.C(r,a),Wv("preconnect",r,a)}function WC(r,a,c){_r.L(r,a,c);var h=eo;if(h&&r&&a){var m='link[rel="preload"][as="'+ci(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+ci(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+ci(c.imageSizes)+'"]')):m+='[href="'+ci(r)+'"]';var b=m;switch(a){case"style":b=to(r);break;case"script":b=no(r)}mi.has(b)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),mi.set(b,r),h.querySelector(m)!==null||a==="style"&&h.querySelector(Tl(b))||a==="script"&&h.querySelector(Rl(b))||(a=h.createElement("link"),dn(a,"link",r),tt(a),h.head.appendChild(a)))}}function QC(r,a){_r.m(r,a);var c=eo;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+ci(h)+'"][href="'+ci(r)+'"]',b=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=no(r)}if(!mi.has(b)&&(r=p({rel:"modulepreload",href:r},a),mi.set(b,r),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Rl(b)))return}h=c.createElement("link"),dn(h,"link",r),tt(h),c.head.appendChild(h)}}}function ZC(r,a,c){_r.S(r,a,c);var h=eo;if(h&&r){var m=Rt(h).hoistableStyles,b=to(r);a=a||"default";var E=m.get(b);if(!E){var D={loading:0,preload:null};if(E=h.querySelector(Tl(b)))D.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=mi.get(b))&&Gp(r,c);var I=E=h.createElement("link");tt(I),dn(I,"link",r),I._p=new Promise(function(Y,re){I.onload=Y,I.onerror=re}),I.addEventListener("load",function(){D.loading|=1}),I.addEventListener("error",function(){D.loading|=2}),D.loading|=4,td(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:D},m.set(b,E)}}}function JC(r,a){_r.X(r,a);var c=eo;if(c&&r){var h=Rt(c).hoistableScripts,m=no(r),b=h.get(m);b||(b=c.querySelector(Rl(m)),b||(r=p({src:r,async:!0},a),(a=mi.get(m))&&qp(r,a),b=c.createElement("script"),tt(b),dn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function eT(r,a){_r.M(r,a);var c=eo;if(c&&r){var h=Rt(c).hoistableScripts,m=no(r),b=h.get(m);b||(b=c.querySelector(Rl(m)),b||(r=p({src:r,async:!0,type:"module"},a),(a=mi.get(m))&&qp(r,a),b=c.createElement("script"),tt(b),dn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function Qv(r,a,c,h){var m=(m=fe.current)?ed(m):null;if(!m)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=to(c.href),c=Rt(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=to(c.href);var b=Rt(m).hoistableStyles,E=b.get(r);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,E),(b=m.querySelector(Tl(r)))&&!b._p&&(E.instance=b,E.state.loading=5),mi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mi.set(r,c),b||tT(m,r,c,E.state))),a&&h===null)throw Error(n(528,""));return E}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=no(c),c=Rt(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function to(r){return'href="'+ci(r)+'"'}function Tl(r){return'link[rel="stylesheet"]['+r+"]"}function Zv(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function tT(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),dn(a,"link",c),tt(a),r.head.appendChild(a))}function no(r){return'[src="'+ci(r)+'"]'}function Rl(r){return"script[async]"+r}function Jv(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+ci(c.href)+'"]');if(h)return a.instance=h,tt(h),h;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),tt(h),dn(h,"style",m),td(h,c.precedence,r),a.instance=h;case"stylesheet":m=to(c.href);var b=r.querySelector(Tl(m));if(b)return a.state.loading|=4,a.instance=b,tt(b),b;h=Zv(c),(m=mi.get(m))&&Gp(h,m),b=(r.ownerDocument||r).createElement("link"),tt(b);var E=b;return E._p=new Promise(function(D,I){E.onload=D,E.onerror=I}),dn(b,"link",h),a.state.loading|=4,td(b,c.precedence,r),a.instance=b;case"script":return b=no(c.src),(m=r.querySelector(Rl(b)))?(a.instance=m,tt(m),m):(h=c,(m=mi.get(b))&&(h=p({},c),qp(h,m)),r=r.ownerDocument||r,m=r.createElement("script"),tt(m),dn(m,"link",h),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,td(h,c.precedence,r));return a.instance}function td(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,b=m,E=0;E<h.length;E++){var D=h[E];if(D.dataset.precedence===a)b=D;else if(b!==m)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Gp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function qp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var nd=null;function eS(r,a,c){if(nd===null){var h=new Map,m=nd=new Map;m.set(c,h)}else m=nd,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),m=0;m<c.length;m++){var b=c[m];if(!(b[De]||b[ce]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=r+E;var D=h.get(E);D?D.push(b):h.set(E,[b])}}return h}function tS(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function nT(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ml=null;function iT(){}function rT(r,a,c){if(Ml===null)throw Error(n(475));var h=Ml;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=to(c.href),b=r.querySelector(Tl(m));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=id.bind(h),r.then(h,h)),a.state.loading|=4,a.instance=b,tt(b);return}b=r.ownerDocument||r,c=Zv(c),(m=mi.get(m))&&Gp(c,m),b=b.createElement("link"),tt(b);var E=b;E._p=new Promise(function(D,I){E.onload=D,E.onerror=I}),dn(b,"link",c),a.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=id.bind(h),r.addEventListener("load",a),r.addEventListener("error",a))}}function sT(){if(Ml===null)throw Error(n(475));var r=Ml;return r.stylesheets&&r.count===0&&Yp(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&Yp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function id(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rd=null;function Yp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rd=new Map,a.forEach(aT,r),rd=null,id.call(r))}function aT(r,a){if(!(a.state.loading&4)){var c=rd.get(r);if(c)var h=c.get(null);else{c=new Map,rd.set(r,c);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var E=m[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}m=a.instance,E=m.getAttribute("data-precedence"),b=c.get(E)||h,b===h&&c.set(null,m),c.set(E,m),this.count++,h=id.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),b?b.parentNode.insertBefore(m,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Ol={$$typeof:_,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function oT(r,a,c,h,m,b,E,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function iS(r,a,c,h,m,b,E,D,I,Y,re,oe){return r=new oT(r,a,c,E,D,I,Y,oe),a=1,b===!0&&(a|=24),b=Vn(3,null,null,a),r.current=b,b.stateNode=r,a=Rf(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:a},Lf(b),r}function rS(r){return r?(r=Na,r):Na}function sS(r,a,c,h,m,b){m=rS(m),h.context===null?h.context=m:h.pendingContext=m,h=Yr(a),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=Xr(r,h,a),c!==null&&(Kn(c,r,a),al(c,r,a))}function aS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Xp(r,a){aS(r,a),(r=r.alternate)&&aS(r,a)}function oS(r){if(r.tag===13){var a=La(r,67108864);a!==null&&Kn(a,r,67108864),Xp(r,67108864)}}var sd=!0;function lT(r,a,c,h){var m=k.T;k.T=null;var b=H.p;try{H.p=2,Kp(r,a,c,h)}finally{H.p=b,k.T=m}}function cT(r,a,c,h){var m=k.T;k.T=null;var b=H.p;try{H.p=8,Kp(r,a,c,h)}finally{H.p=b,k.T=m}}function Kp(r,a,c,h){if(sd){var m=Wp(h);if(m===null)jp(r,a,h,ad,c),cS(r,h);else if(dT(m,r,a,c,h))h.stopPropagation();else if(cS(r,h),a&4&&-1<uT.indexOf(r)){for(;m!==null;){var b=Je(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=ur(b.pendingLanes);if(E!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var I=1<<31-vt(E);D.entanglements[1]|=I,E&=~I}Gi(b),(at&6)===0&&($u=Gt()+500,Al(0))}}break;case 13:D=La(b,2),D!==null&&Kn(D,b,2),Gu(),Xp(b,2)}if(b=Wp(h),b===null&&jp(r,a,h,ad,c),b===m)break;m=b}m!==null&&h.stopPropagation()}else jp(r,a,h,null,c)}}function Wp(r){return r=ef(r),Qp(r)}var ad=null;function Qp(r){if(ad=null,r=Pe(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return ad=r,null}function lS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case Br:return 2;case Sa:return 8;case _i:case Ci:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var Zp=!1,os=null,ls=null,cs=null,Dl=new Map,Ll=new Map,us=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cS(r,a){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Dl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(a.pointerId)}}function Nl(r,a,c,h,m,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},a!==null&&(a=Je(a),a!==null&&oS(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function dT(r,a,c,h,m){switch(a){case"focusin":return os=Nl(os,r,a,c,h,m),!0;case"dragenter":return ls=Nl(ls,r,a,c,h,m),!0;case"mouseover":return cs=Nl(cs,r,a,c,h,m),!0;case"pointerover":var b=m.pointerId;return Dl.set(b,Nl(Dl.get(b)||null,r,a,c,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Ll.set(b,Nl(Ll.get(b)||null,r,a,c,h,m)),!0}return!1}function uS(r){var a=Pe(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,G(r.priority,function(){if(c.tag===13){var h=Xn();h=Bo(h);var m=La(c,h);m!==null&&Kn(m,c,h),Xp(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function od(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Wp(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);Jh=h,c.target.dispatchEvent(h),Jh=null}else return a=Je(c),a!==null&&oS(a),r.blockedOn=c,!1;a.shift()}return!0}function dS(r,a,c){od(r)&&c.delete(a)}function hT(){Zp=!1,os!==null&&od(os)&&(os=null),ls!==null&&od(ls)&&(ls=null),cs!==null&&od(cs)&&(cs=null),Dl.forEach(dS),Ll.forEach(dS)}function ld(r,a){r.blockedOn===a&&(r.blockedOn=null,Zp||(Zp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hT)))}var cd=null;function hS(r){cd!==r&&(cd=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cd===r&&(cd=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],m=r[a+2];if(typeof h!="function"){if(Qp(h||c)===null)continue;break}var b=Je(c);b!==null&&(r.splice(a,3),a-=3,Qf(b,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function kl(r){function a(I){return ld(I,r)}os!==null&&ld(os,r),ls!==null&&ld(ls,r),cs!==null&&ld(cs,r),Dl.forEach(a),Ll.forEach(a);for(var c=0;c<us.length;c++){var h=us[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<us.length&&(c=us[0],c.blockedOn===null);)uS(c),c.blockedOn===null&&us.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],b=c[h+1],E=m[he]||null;if(typeof b=="function")E||hS(c);else if(E){var D=null;if(b&&b.hasAttribute("formAction")){if(m=b,E=b[he]||null)D=E.formAction;else if(Qp(m)!==null)continue}else D=E.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),hS(c)}}}function Jp(r){this._internalRoot=r}ud.prototype.render=Jp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=Xn();sS(c,h,r,a,null,null)},ud.prototype.unmount=Jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sS(r.current,2,null,r,null,null),Gu(),a[be]=null}};function ud(r){this._internalRoot=r}ud.prototype.unstable_scheduleHydration=function(r){if(r){var a=F();r={blockedOn:null,target:r,priority:a};for(var c=0;c<us.length&&a!==0&&a<us[c].priority;c++);us.splice(c,0,r),c===0&&uS(r)}};var fS=e.version;if(fS!=="19.1.0")throw Error(n(527,fS,"19.1.0"));H.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=d(a),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var fT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{mn=dd.inject(fT),et=dd}catch{}}return jl.createRoot=function(r,a){if(!s(r))throw Error(n(299));var c=!1,h="",m=M0,b=O0,E=D0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=iS(r,1,!1,null,null,c,h,m,b,E,D,null),r[be]=a.current,Pp(r),new Jp(a)},jl.hydrateRoot=function(r,a,c){if(!s(r))throw Error(n(299));var h=!1,m="",b=M0,E=O0,D=D0,I=null,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks),c.formState!==void 0&&(Y=c.formState)),a=iS(r,1,!0,a,c??null,h,m,b,E,D,I,Y),a.context=rS(null),c=a.current,h=Xn(),h=Bo(h),m=Yr(h),m.callback=null,Xr(c,m,h),c=h,a.current.lanes=c,Ts(a,c),Gi(a),r[be]=a.current,Pp(r),new ud(a)},jl.version="19.1.0",jl}var _S;function AT(){if(_S)return ng.exports;_S=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ng.exports=xT(),ng.exports}var ET=AT();const _T=()=>{const i=navigator.userAgent,e=navigator.platform;return{userAgent:i,platform:e}};function CT(){const i=_T();return T.jsxs("div",{className:"fixed bottom-0 left-0 w-full flex flex-row justify-between text-xs text-gray-400 p-2 pointer-events-none",children:["OS","PROD",i.platform,"_","0.1.0","_","c9921cc"]})}var N=Mc();const ea=ch(N),Hg=gT({__proto__:null,default:ea},[N]);var Il={},CS;function TT(){if(CS)return Il;CS=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=l,Il.serialize=f;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,S){const v=new o,w=y.length;if(w<2)return v;const A=S?.decode||p;let x=0;do{const L=y.indexOf("=",x);if(L===-1)break;const _=y.indexOf(";",x),O=_===-1?w:_;if(L>O){x=y.lastIndexOf(";",L-1)+1;continue}const M=u(y,x,L),R=d(y,L,M),P=y.slice(M,R);if(v[P]===void 0){let B=u(y,L+1,O),U=d(y,O,B);const C=A(y.slice(B,U));v[P]=C}x=O+1}while(x<w);return v}function u(y,S,v){do{const w=y.charCodeAt(S);if(w!==32&&w!==9)return S}while(++S<v);return v}function d(y,S,v){for(;S>v;){const w=y.charCodeAt(--S);if(w!==32&&w!==9)return S+1}return v}function f(y,S,v){const w=v?.encode||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=w(S);if(!e.test(A))throw new TypeError(`argument val is invalid: ${S}`);let x=y+"="+A;if(!v)return x;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);x+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);x+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);x+="; Path="+v.path}if(v.expires){if(!g(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);x+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(x+="; HttpOnly"),v.secure&&(x+="; Secure"),v.partitioned&&(x+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return x}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return s.call(y)==="[object Date]"}return Il}TT();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c1=i=>{throw TypeError(i)},RT=(i,e,t)=>e.has(i)||c1("Cannot "+t),og=(i,e,t)=>(RT(i,e,"read from private field"),t?t.call(i):e.get(i)),MT=(i,e,t)=>e.has(i)?c1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),TS="popstate";function OT(i={}){function e(n,s){let{pathname:o,search:l,hash:u}=n.location;return fc("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:ms(s)}return LT(e,t,null,i)}function Ge(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function jt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DT(){return Math.random().toString(36).substring(2,10)}function RS(i,e){return{usr:i.state,key:i.key,idx:e}}function fc(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ss(e):e,state:t,key:e&&e.key||n||DT()}}function ms({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ss(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function LT(i,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=p(),x=A==null?null:A-f;f=A,d&&d({action:u,location:w.location,delta:x})}function y(A,x){u="PUSH";let L=fc(w.location,A,x);f=p()+1;let _=RS(L,f),O=w.createHref(L);try{l.pushState(_,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(O)}o&&d&&d({action:u,location:w.location,delta:1})}function S(A,x){u="REPLACE";let L=fc(w.location,A,x);f=p();let _=RS(L,f),O=w.createHref(L);l.replaceState(_,"",O),o&&d&&d({action:u,location:w.location,delta:0})}function v(A){return u1(A)}let w={get action(){return u},get location(){return i(s,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(TS,g),d=A,()=>{s.removeEventListener(TS,g),d=null}},createHref(A){return e(s,A)},createURL:v,encodeLocation(A){let x=v(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:S,go(A){return l.go(A)}};return w}function u1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:ms(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var Ql,MS=class{constructor(i){if(MT(this,Ql,new Map),i)for(let[e,t]of i)this.set(e,t)}get(i){if(og(this,Ql).has(i))return og(this,Ql).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){og(this,Ql).set(i,e)}};Ql=new WeakMap;var NT=new Set(["lazy","caseSensitive","path","id","index","children"]);function kT(i){return NT.has(i)}var PT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function jT(i){return PT.has(i)}function IT(i){return i.index===!0}function Vd(i,e,t=[],n={}){return i.map((s,o)=>{let l=[...t,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(Ge(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ge(!n[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),IT(s)){let d={...s,...e(s),id:u};return n[u]=d,d}else{let d={...s,...e(s),id:u,children:void 0};return n[u]=d,s.children&&(d.children=Vd(s.children,e,l,n)),d}})}function fs(i,e,t="/"){return Dd(i,e,t,!1)}function Dd(i,e,t,n){let s=typeof e=="string"?Ss(e):e,o=xi(s.pathname||"/",t);if(o==null)return null;let l=d1(i);BT(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=WT(o);u=XT(l[d],f,n)}return u}function FT(i,e){let{route:t,pathname:n,params:s}=i;return{id:t.id,pathname:n,params:s,data:e[t.id],handle:t.handle}}function d1(i,e=[],t=[],n=""){let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ge(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=sr([n,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(Ge(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),d1(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:qT(f,o.index),routesMeta:p})};return i.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let u of h1(o.path))s(o,l,u)}),e}function h1(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=h1(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>i.startsWith("/")&&d===""?"/":d)}function BT(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:YT(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var zT=/^:[\w-]+$/,UT=3,HT=2,$T=1,VT=10,GT=-2,OS=i=>i==="*";function qT(i,e){let t=i.split("/"),n=t.length;return t.some(OS)&&(n+=GT),e&&(n+=HT),t.filter(s=>!OS(s)).reduce((s,o)=>s+(zT.test(o)?UT:o===""?$T:VT),n)}function YT(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function XT(i,e,t=!1){let{routesMeta:n}=i,s={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Gd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=Gd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:sr([o,g.pathname]),pathnameBase:JT(sr([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=sr([o,g.pathnameBase]))}return l}function Gd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=KT(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let v=u[y]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const S=u[y];return g&&!S?f[p]=void 0:f[p]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:i}}function KT(i,e=!1,t=!0){jt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function WT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function xi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function QT(i,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof i=="string"?Ss(i):i;return{pathname:t?t.startsWith("/")?t:ZT(t,e):e,search:eR(n),hash:tR(s)}}function ZT(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lg(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uh(i){let e=f1(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function dh(i,e,t,n=!1){let s;typeof i=="string"?s=Ss(i):(s={...i},Ge(!s.pathname||!s.pathname.includes("?"),lg("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),lg("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),lg("#","search","hash",s)));let o=i===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=QT(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),JT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,tR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,qd=class{constructor(i,e,t,n=!1){this.status=i,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pc(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var p1=["POST","PUT","PATCH","DELETE"],nR=new Set(p1),iR=["GET",...p1],rR=new Set(iR),sR=new Set([301,302,303,307,308]),aR=new Set([307,308]),cg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lR=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),g1="remix-router-transitions",m1=Symbol("ResetLoaderData");function cR(i){const e=i.window?i.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=i.hydrationRouteProperties||[],s=i.mapRouteProperties||lR,o={},l=Vd(i.routes,s,void 0,o),u,d=i.basename||"/",f=i.dataStrategy||pR,p={unstable_middleware:!1,...i.future},g=null,y=new Set,S=null,v=null,w=null,A=i.hydrationData!=null,x=fs(l,i.history.location,d),L=!1,_=null,O;if(x==null&&!i.patchRoutesOnNavigation){let F=vi(404,{pathname:i.history.location.pathname}),{matches:G,route:Q}=HS(l);O=!0,x=G,_={[Q.id]:F}}else if(x&&!i.hydrationData&&Rs(x,l,i.history.location.pathname).active&&(x=null),x)if(x.some(F=>F.route.lazy))O=!1;else if(!x.some(F=>F.route.loader))O=!0;else{let F=i.hydrationData?i.hydrationData.loaderData:null,G=i.hydrationData?i.hydrationData.errors:null;if(G){let Q=x.findIndex(ce=>G[ce.route.id]!==void 0);O=x.slice(0,Q+1).every(ce=>!Vg(ce.route,F,G))}else O=x.every(Q=>!Vg(Q.route,F,G))}else{O=!1,x=[];let F=Rs(null,l,i.history.location.pathname);F.active&&F.matches&&(L=!0,x=F.matches)}let M,R={historyAction:i.history.action,location:i.history.location,matches:x,initialized:O,navigation:cg,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||_,fetchers:new Map,blockers:new Map},P="POP",B=!1,U,C=!1,V=new Map,ae=null,ie=!1,Z=!1,ue=new Set,k=new Map,H=0,le=-1,pe=new Map,j=new Set,X=new Map,ee=new Map,te=new Set,de=new Map,Se,fe=null;function Oe(){if(g=i.history.listen(({action:F,location:G,delta:Q})=>{if(Se){Se(),Se=void 0;return}jt(de.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=tu({currentLocation:R.location,nextLocation:G,historyAction:F});if(ce&&Q!=null){let he=new Promise(be=>{Se=be});i.history.go(Q*-1),zi(ce,{state:"blocked",location:G,proceed(){zi(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),he.then(()=>i.history.go(Q))},reset(){let be=new Map(R.blockers);be.set(ce,Fl),_e({blockers:be})}});return}return Ke(F,G)}),t){_R(e,V);let F=()=>CR(e,V);e.addEventListener("pagehide",F),ae=()=>e.removeEventListener("pagehide",F)}return R.initialized||Ke("POP",R.location,{initialHydration:!0}),M}function ze(){g&&g(),ae&&ae(),y.clear(),U&&U.abort(),R.fetchers.forEach((F,G)=>vt(G)),R.blockers.forEach((F,G)=>Cs(G))}function bt(F){return y.add(F),()=>y.delete(F)}function _e(F,G={}){R={...R,...F};let Q=[],ce=[];R.fetchers.forEach((he,be)=>{he.state==="idle"&&(te.has(be)?Q.push(be):ce.push(be))}),te.forEach(he=>{!R.fetchers.has(he)&&!k.has(he)&&Q.push(he)}),[...y].forEach(he=>he(R,{deletedFetchers:Q,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Q.forEach(he=>vt(he)),ce.forEach(he=>R.fetchers.delete(he))}function ft(F,G,{flushSync:Q}={}){let ce=R.actionData!=null&&R.navigation.formMethod!=null&&Jn(R.navigation.formMethod)&&R.navigation.state==="loading"&&F.state?._isRedirect!==!0,he;G.actionData?Object.keys(G.actionData).length>0?he=G.actionData:he=null:ce?he=R.actionData:he=null;let be=G.loaderData?zS(R.loaderData,G.loaderData,G.matches||[],G.errors):R.loaderData,Ce=R.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((ve,De)=>Ce.set(De,Fl)));let me=B===!0||R.navigation.formMethod!=null&&Jn(R.navigation.formMethod)&&F.state?._isRedirect!==!0;u&&(l=u,u=void 0),ie||P==="POP"||(P==="PUSH"?i.history.push(F,F.state):P==="REPLACE"&&i.history.replace(F,F.state));let Ae;if(P==="POP"){let ve=V.get(R.location.pathname);ve&&ve.has(F.pathname)?Ae={currentLocation:R.location,nextLocation:F}:V.has(F.pathname)&&(Ae={currentLocation:F,nextLocation:R.location})}else if(C){let ve=V.get(R.location.pathname);ve?ve.add(F.pathname):(ve=new Set([F.pathname]),V.set(R.location.pathname,ve)),Ae={currentLocation:R.location,nextLocation:F}}_e({...G,actionData:he,loaderData:be,historyAction:P,location:F,initialized:!0,navigation:cg,revalidation:"idle",restoreScrollPosition:iu(F,G.matches||R.matches),preventScrollReset:me,blockers:Ce},{viewTransitionOpts:Ae,flushSync:Q===!0}),P="POP",B=!1,C=!1,ie=!1,Z=!1,fe?.resolve(),fe=null}async function tn(F,G){if(typeof F=="number"){i.history.go(F);return}let Q=$g(R.location,R.matches,d,F,G?.fromRouteId,G?.relative),{path:ce,submission:he,error:be}=DS(!1,Q,G),Ce=R.location,me=fc(R.location,ce,G&&G.state);me={...me,...i.history.encodeLocation(me)};let Ae=G&&G.replace!=null?G.replace:void 0,ve="PUSH";Ae===!0?ve="REPLACE":Ae===!1||he!=null&&Jn(he.formMethod)&&he.formAction===R.location.pathname+R.location.search&&(ve="REPLACE");let De=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Le=(G&&G.flushSync)===!0,Pe=tu({currentLocation:Ce,nextLocation:me,historyAction:ve});if(Pe){zi(Pe,{state:"blocked",location:me,proceed(){zi(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),tn(F,G)},reset(){let Je=new Map(R.blockers);Je.set(Pe,Fl),_e({blockers:Je})}});return}await Ke(ve,me,{submission:he,pendingError:be,preventScrollReset:De,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Le})}function Fe(){fe||(fe=TR()),xs(),_e({revalidation:"loading"});let F=fe.promise;return R.navigation.state==="submitting"?F:R.navigation.state==="idle"?(Ke(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),F):(Ke(P||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:C===!0}),F)}async function Ke(F,G,Q){U&&U.abort(),U=null,P=F,ie=(Q&&Q.startUninterruptedRevalidation)===!0,Ts(R.location,R.matches),B=(Q&&Q.preventScrollReset)===!0,C=(Q&&Q.enableViewTransition)===!0;let ce=u||l,he=Q&&Q.overrideNavigation,be=Q?.initialHydration&&R.matches&&R.matches.length>0&&!L?R.matches:fs(ce,G,d),Ce=(Q&&Q.flushSync)===!0;if(be&&R.initialized&&!Z&&SR(R.location,G)&&!(Q&&Q.submission&&Jn(Q.submission.formMethod))){ft(G,{matches:be},{flushSync:Ce});return}let me=Rs(be,ce,G.pathname);if(me.active&&me.matches&&(be=me.matches),!be){let{error:Rt,notFoundMatches:tt,route:Qe}=xa(G.pathname);ft(G,{matches:tt,loaderData:{},errors:{[Qe.id]:Rt}},{flushSync:Ce});return}U=new AbortController;let Ae=fo(i.history,G,U.signal,Q&&Q.submission),ve=new MS(i.unstable_getContext?await i.unstable_getContext():void 0),De;if(Q&&Q.pendingError)De=[Qs(be).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Jn(Q.submission.formMethod)){let Rt=await Tt(Ae,G,Q.submission,be,ve,me.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:Ce});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[tt,Qe]=Rt.pendingActionResult;if(Zn(Qe)&&pc(Qe.error)&&Qe.error.status===404){U=null,ft(G,{matches:Rt.matches,loaderData:{},errors:{[tt]:Qe.error}});return}}be=Rt.matches||be,De=Rt.pendingActionResult,he=ug(G,Q.submission),Ce=!1,me.active=!1,Ae=fo(i.history,Ae.url,Ae.signal)}let{shortCircuited:Le,matches:Pe,loaderData:Je,errors:wt}=await Dt(Ae,G,be,ve,me.active,he,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ce,De);Le||(U=null,ft(G,{matches:Pe||be,...US(De),loaderData:Je,errors:wt}))}async function Tt(F,G,Q,ce,he,be,Ce,me={}){xs();let Ae=AR(G,Q);if(_e({navigation:Ae},{flushSync:me.flushSync===!0}),be){let Le=await Ms(ce,G.pathname,F.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let Pe=Qs(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[Pe,{type:"error",error:Le.error}]}}else if(Le.matches)ce=Le.matches;else{let{notFoundMatches:Pe,error:Je,route:wt}=xa(G.pathname);return{matches:Pe,pendingActionResult:[wt.id,{type:"error",error:Je}]}}}let ve,De=Zl(ce,G);if(!De.route.action&&!De.route.lazy)ve={type:"error",error:vi(405,{method:F.method,pathname:G.pathname,routeId:De.route.id})};else{let Le=vo(s,o,F,ce,De,Ce?[]:n,he),Pe=await Fi(F,Le,he,null);if(ve=Pe[De.route.id],!ve){for(let Je of ce)if(Pe[Je.route.id]){ve=Pe[Je.route.id];break}}if(F.signal.aborted)return{shortCircuited:!0}}if(ta(ve)){let Le;return me&&me.replace!=null?Le=me.replace:Le=IS(ve.response.headers.get("Location"),new URL(F.url),d)===R.location.pathname+R.location.search,await Ci(F,ve,!0,{submission:Q,replace:Le}),{shortCircuited:!0}}if(Zn(ve)){let Le=Qs(ce,De.route.id);return(me&&me.replace)!==!0&&(P="PUSH"),{matches:ce,pendingActionResult:[Le.route.id,ve,De.route.id]}}return{matches:ce,pendingActionResult:[De.route.id,ve]}}async function Dt(F,G,Q,ce,he,be,Ce,me,Ae,ve,De,Le){let Pe=be||ug(G,Ce),Je=Ce||me||VS(Pe),wt=!ie&&!ve;if(he){if(wt){let yn=Gt(Le);_e({navigation:Pe,...yn!==void 0?{actionData:yn}:{}},{flushSync:De})}let $e=await Ms(Q,G.pathname,F.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let yn=Qs($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[yn]:$e.error}}}else if($e.matches)Q=$e.matches;else{let{error:yn,notFoundMatches:Ti,route:Ri}=xa(G.pathname);return{matches:Ti,loaderData:{},errors:{[Ri.id]:yn}}}}let Rt=u||l,{dsMatches:tt,revalidatingFetchers:Qe}=LS(F,ce,s,o,i.history,R,Q,Je,G,ve?[]:n,ve===!0,Z,ue,te,X,j,Rt,d,i.patchRoutesOnNavigation!=null,Le);if(le=++H,!i.dataStrategy&&!tt.some($e=>$e.shouldLoad)&&Qe.length===0){let $e=Es();return ft(G,{matches:Q,loaderData:{},errors:Le&&Zn(Le[1])?{[Le[0]]:Le[1].error}:null,...US(Le),...$e?{fetchers:new Map(R.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(wt){let $e={};if(!he){$e.navigation=Pe;let yn=Gt(Le);yn!==void 0&&($e.actionData=yn)}Qe.length>0&&($e.fetchers=cr(Qe)),_e($e,{flushSync:De})}Qe.forEach($e=>{Bi($e.key),$e.controller&&k.set($e.key,$e.controller)});let zr=()=>Qe.forEach($e=>Bi($e.key));U&&U.signal.addEventListener("abort",zr);let{loaderResults:_n,fetcherResults:oi}=await wa(tt,Qe,F,ce);if(F.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",zr),Qe.forEach($e=>k.delete($e.key));let On=hd(_n);if(On)return await Ci(F,On.result,!0,{replace:Ae}),{shortCircuited:!0};if(On=hd(oi),On)return j.add(On.key),await Ci(F,On.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Ur,errors:Hr}=BS(R,Q,_n,Le,Qe,oi);ve&&R.errors&&(Hr={...R.errors,...Hr});let Uo=Es(),li=_s(le),dr=Uo||li||Qe.length>0;return{matches:Q,loaderData:Ur,errors:Hr,...dr?{fetchers:new Map(R.fetchers)}:{}}}function Gt(F){if(F&&!Zn(F[1]))return{[F[0]]:F[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function cr(F){return F.forEach(G=>{let Q=R.fetchers.get(G.key),ce=Bl(void 0,Q?Q.data:void 0);R.fetchers.set(G.key,ce)}),new Map(R.fetchers)}async function Br(F,G,Q,ce){Bi(F);let he=(ce&&ce.flushSync)===!0,be=u||l,Ce=$g(R.location,R.matches,d,Q,G,ce?.relative),me=fs(be,Ce,d),Ae=Rs(me,be,Ce);if(Ae.active&&Ae.matches&&(me=Ae.matches),!me){et(F,G,vi(404,{pathname:Ce}),{flushSync:he});return}let{path:ve,submission:De,error:Le}=DS(!0,Ce,ce);if(Le){et(F,G,Le,{flushSync:he});return}let Pe=Zl(me,ve),Je=new MS(i.unstable_getContext?await i.unstable_getContext():void 0),wt=(ce&&ce.preventScrollReset)===!0;if(De&&Jn(De.formMethod)){await Sa(F,G,ve,Pe,me,Je,Ae.active,he,wt,De);return}X.set(F,{routeId:G,path:ve}),await _i(F,G,ve,Pe,me,Je,Ae.active,he,wt,De)}async function Sa(F,G,Q,ce,he,be,Ce,me,Ae,ve){xs(),X.delete(F);function De(xt){if(!xt.route.action&&!xt.route.lazy){let $r=vi(405,{method:ve.formMethod,pathname:Q,routeId:G});return et(F,G,$r,{flushSync:me}),!0}return!1}if(!Ce&&De(ce))return;let Le=R.fetchers.get(F);mn(F,ER(ve,Le),{flushSync:me});let Pe=new AbortController,Je=fo(i.history,Q,Pe.signal,ve);if(Ce){let xt=await Ms(he,Q,Je.signal,F);if(xt.type==="aborted")return;if(xt.type==="error"){et(F,G,xt.error,{flushSync:me});return}else if(xt.matches){if(he=xt.matches,ce=Zl(he,Q),De(ce))return}else{et(F,G,vi(404,{pathname:Q}),{flushSync:me});return}}k.set(F,Pe);let wt=H,Rt=vo(s,o,Je,he,ce,n,be),Qe=(await Fi(Je,Rt,be,F))[ce.route.id];if(Je.signal.aborted){k.get(F)===Pe&&k.delete(F);return}if(te.has(F)){if(ta(Qe)||Zn(Qe)){mn(F,hs(void 0));return}}else{if(ta(Qe))if(k.delete(F),le>wt){mn(F,hs(void 0));return}else return j.add(F),mn(F,Bl(ve)),Ci(Je,Qe,!1,{fetcherSubmission:ve,preventScrollReset:Ae});if(Zn(Qe)){et(F,G,Qe.error);return}}let zr=R.navigation.location||R.location,_n=fo(i.history,zr,Pe.signal),oi=u||l,On=R.navigation.state!=="idle"?fs(oi,R.navigation.location,d):R.matches;Ge(On,"Didn't find any matches after fetcher action");let Ur=++H;pe.set(F,Ur);let Hr=Bl(ve,Qe.data);R.fetchers.set(F,Hr);let{dsMatches:Uo,revalidatingFetchers:li}=LS(_n,be,s,o,i.history,R,On,ve,zr,n,!1,Z,ue,te,X,j,oi,d,i.patchRoutesOnNavigation!=null,[ce.route.id,Qe]);li.filter(xt=>xt.key!==F).forEach(xt=>{let $r=xt.key,Ho=R.fetchers.get($r),Dn=Bl(void 0,Ho?Ho.data:void 0);R.fetchers.set($r,Dn),Bi($r),xt.controller&&k.set($r,xt.controller)}),_e({fetchers:new Map(R.fetchers)});let dr=()=>li.forEach(xt=>Bi(xt.key));Pe.signal.addEventListener("abort",dr);let{loaderResults:$e,fetcherResults:yn}=await wa(Uo,li,_n,be);if(Pe.signal.aborted)return;if(Pe.signal.removeEventListener("abort",dr),pe.delete(F),k.delete(F),li.forEach(xt=>k.delete(xt.key)),R.fetchers.has(F)){let xt=hs(Qe.data);R.fetchers.set(F,xt)}let Ti=hd($e);if(Ti)return Ci(_n,Ti.result,!1,{preventScrollReset:Ae});if(Ti=hd(yn),Ti)return j.add(Ti.key),Ci(_n,Ti.result,!1,{preventScrollReset:Ae});let{loaderData:Ri,errors:Os}=BS(R,On,$e,void 0,li,yn);_s(Ur),R.navigation.state==="loading"&&Ur>le?(Ge(P,"Expected pending action"),U&&U.abort(),ft(R.navigation.location,{matches:On,loaderData:Ri,errors:Os,fetchers:new Map(R.fetchers)})):(_e({errors:Os,loaderData:zS(R.loaderData,Ri,On,Os),fetchers:new Map(R.fetchers)}),Z=!1)}async function _i(F,G,Q,ce,he,be,Ce,me,Ae,ve){let De=R.fetchers.get(F);mn(F,Bl(ve,De?De.data:void 0),{flushSync:me});let Le=new AbortController,Pe=fo(i.history,Q,Le.signal);if(Ce){let Qe=await Ms(he,Q,Pe.signal,F);if(Qe.type==="aborted")return;if(Qe.type==="error"){et(F,G,Qe.error,{flushSync:me});return}else if(Qe.matches)he=Qe.matches,ce=Zl(he,Q);else{et(F,G,vi(404,{pathname:Q}),{flushSync:me});return}}k.set(F,Le);let Je=H,wt=vo(s,o,Pe,he,ce,n,be),tt=(await Fi(Pe,wt,be,F))[ce.route.id];if(k.get(F)===Le&&k.delete(F),!Pe.signal.aborted){if(te.has(F)){mn(F,hs(void 0));return}if(ta(tt))if(le>Je){mn(F,hs(void 0));return}else{j.add(F),await Ci(Pe,tt,!1,{preventScrollReset:Ae});return}if(Zn(tt)){et(F,G,tt.error);return}mn(F,hs(tt.data))}}async function Ci(F,G,Q,{submission:ce,fetcherSubmission:he,preventScrollReset:be,replace:Ce}={}){G.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let me=G.response.headers.get("Location");Ge(me,"Expected a Location header on the redirect Response"),me=IS(me,new URL(F.url),d);let Ae=fc(R.location,me,{_isRedirect:!0});if(t){let wt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(jm.test(me)){const Rt=u1(me,!0);wt=Rt.origin!==e.location.origin||xi(Rt.pathname,d)==null}if(wt){Ce?e.location.replace(me):e.location.assign(me);return}}U=null;let ve=Ce===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:Le,formEncType:Pe}=R.navigation;!ce&&!he&&De&&Le&&Pe&&(ce=VS(R.navigation));let Je=ce||he;if(aR.has(G.response.status)&&Je&&Jn(Je.formMethod))await Ke(ve,Ae,{submission:{...Je,formAction:me},preventScrollReset:be||B,enableViewTransition:Q?C:void 0});else{let wt=ug(Ae,ce);await Ke(ve,Ae,{overrideNavigation:wt,fetcherSubmission:he,preventScrollReset:be||B,enableViewTransition:Q?C:void 0})}}async function Fi(F,G,Q,ce){let he,be={};try{he=await gR(f,F,G,ce,Q,!1)}catch(Ce){return G.filter(me=>me.shouldLoad).forEach(me=>{be[me.route.id]={type:"error",error:Ce}}),be}if(F.signal.aborted)return be;for(let[Ce,me]of Object.entries(he))if(wR(me)){let Ae=me.result;be[Ce]={type:"redirect",response:bR(Ae,F,Ce,G,d)}}else be[Ce]=await yR(me);return be}async function wa(F,G,Q,ce){let he=Fi(Q,F,ce,null),be=Promise.all(G.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let De=(await Fi(Ae.request,Ae.matches,ce,Ae.key))[Ae.match.route.id];return{[Ae.key]:De}}else return Promise.resolve({[Ae.key]:{type:"error",error:vi(404,{pathname:Ae.path})}})})),Ce=await he,me=(await be).reduce((Ae,ve)=>Object.assign(Ae,ve),{});return{loaderResults:Ce,fetcherResults:me}}function xs(){Z=!0,X.forEach((F,G)=>{k.has(G)&&ue.add(G),Bi(G)})}function mn(F,G,Q={}){R.fetchers.set(F,G),_e({fetchers:new Map(R.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function et(F,G,Q,ce={}){let he=Qs(R.matches,G);vt(F),_e({errors:{[he.route.id]:Q},fetchers:new Map(R.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function nn(F){return ee.set(F,(ee.get(F)||0)+1),te.has(F)&&te.delete(F),R.fetchers.get(F)||oR}function vt(F){let G=R.fetchers.get(F);k.has(F)&&!(G&&G.state==="loading"&&pe.has(F))&&Bi(F),X.delete(F),pe.delete(F),j.delete(F),te.delete(F),ue.delete(F),R.fetchers.delete(F)}function As(F){let G=(ee.get(F)||0)-1;G<=0?(ee.delete(F),te.add(F)):ee.set(F,G),_e({fetchers:new Map(R.fetchers)})}function Bi(F){let G=k.get(F);G&&(G.abort(),k.delete(F))}function eu(F){for(let G of F){let Q=nn(G),ce=hs(Q.data);R.fetchers.set(G,ce)}}function Es(){let F=[],G=!1;for(let Q of j){let ce=R.fetchers.get(Q);Ge(ce,`Expected fetcher: ${Q}`),ce.state==="loading"&&(j.delete(Q),F.push(Q),G=!0)}return eu(F),G}function _s(F){let G=[];for(let[Q,ce]of pe)if(ce<F){let he=R.fetchers.get(Q);Ge(he,`Expected fetcher: ${Q}`),he.state==="loading"&&(Bi(Q),pe.delete(Q),G.push(Q))}return eu(G),G.length>0}function ur(F,G){let Q=R.blockers.get(F)||Fl;return de.get(F)!==G&&de.set(F,G),Q}function Cs(F){R.blockers.delete(F),de.delete(F)}function zi(F,G){let Q=R.blockers.get(F)||Fl;Ge(Q.state==="unblocked"&&G.state==="blocked"||Q.state==="blocked"&&G.state==="blocked"||Q.state==="blocked"&&G.state==="proceeding"||Q.state==="blocked"&&G.state==="unblocked"||Q.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${G.state}`);let ce=new Map(R.blockers);ce.set(F,G),_e({blockers:ce})}function tu({currentLocation:F,nextLocation:G,historyAction:Q}){if(de.size===0)return;de.size>1&&jt(!1,"A router only supports one blocker at a time");let ce=Array.from(de.entries()),[he,be]=ce[ce.length-1],Ce=R.blockers.get(he);if(!(Ce&&Ce.state==="proceeding")&&be({currentLocation:F,nextLocation:G,historyAction:Q}))return he}function xa(F){let G=vi(404,{pathname:F}),Q=u||l,{matches:ce,route:he}=HS(Q);return{notFoundMatches:ce,route:he,error:G}}function nu(F,G,Q){if(S=F,w=G,v=Q||null,!A&&R.navigation===cg){A=!0;let ce=iu(R.location,R.matches);ce!=null&&_e({restoreScrollPosition:ce})}return()=>{S=null,w=null,v=null}}function Aa(F,G){return v&&v(F,G.map(ce=>FT(ce,R.loaderData)))||F.key}function Ts(F,G){if(S&&w){let Q=Aa(F,G);S[Q]=w()}}function iu(F,G){if(S){let Q=Aa(F,G),ce=S[Q];if(typeof ce=="number")return ce}return null}function Rs(F,G,Q){if(i.patchRoutesOnNavigation)if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:Dd(G,Q,d,!0)}}else return{active:!0,matches:Dd(G,Q,d,!0)||[]};return{active:!1,matches:null}}async function Ms(F,G,Q,ce){if(!i.patchRoutesOnNavigation)return{type:"success",matches:F};let he=F;for(;;){let be=u==null,Ce=u||l,me=o;try{await i.patchRoutesOnNavigation({signal:Q,path:G,matches:he,fetcherKey:ce,patch:(De,Le)=>{Q.aborted||NS(De,Le,Ce,me,s)}})}catch(De){return{type:"error",error:De,partialMatches:he}}finally{be&&!Q.aborted&&(l=[...l])}if(Q.aborted)return{type:"aborted"};let Ae=fs(Ce,G,d);if(Ae)return{type:"success",matches:Ae};let ve=Dd(Ce,G,d,!0);if(!ve||he.length===ve.length&&he.every((De,Le)=>De.route.id===ve[Le].route.id))return{type:"success",matches:null};he=ve}}function Bo(F){o={},u=Vd(F,s,void 0,o)}function zo(F,G){let Q=u==null;NS(F,G,u||l,o,s),Q&&(l=[...l],_e({}))}return M={get basename(){return d},get future(){return p},get state(){return R},get routes(){return l},get window(){return e},initialize:Oe,subscribe:bt,enableScrollRestoration:nu,navigate:tn,fetch:Br,revalidate:Fe,createHref:F=>i.history.createHref(F),encodeLocation:F=>i.history.encodeLocation(F),getFetcher:nn,deleteFetcher:As,dispose:ze,getBlocker:ur,deleteBlocker:Cs,patchRoutes:zo,_internalFetchControllers:k,_internalSetRoutes:Bo},M}function uR(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function $g(i,e,t,n,s,o){let l,u;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){u=f;break}}else l=e,u=e[e.length-1];let d=dh(n||".",uh(l),xi(i.pathname,t)||i.pathname,o==="path");if(n==null&&(d.search=i.search,d.hash=i.hash),(n==null||n===""||n===".")&&u){let f=Im(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let y=p.toString();d.search=y?`?${y}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:sr([t,d.pathname])),ms(d)}function DS(i,e,t){if(!t||!uR(t))return{path:e};if(t.formMethod&&!xR(t.formMethod))return{path:e,error:vi(405,{method:t.formMethod})};let n=()=>({path:e,error:vi(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=x1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Jn(o))return n();let g=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((y,[S,v])=>`${y}${S}=${v}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:g}}}else if(t.formEncType==="application/json"){if(!Jn(o))return n();try{let g=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:g,text:void 0}}}catch{return n()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let u,d;if(t.formData)u=qg(t.formData),d=t.formData;else if(t.body instanceof FormData)u=qg(t.body),d=t.body;else if(t.body instanceof URLSearchParams)u=t.body,d=FS(u);else if(t.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(t.body),d=FS(u)}catch{return n()}let f={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Jn(f.formMethod))return{path:e,submission:f};let p=Ss(e);return i&&p.search&&Im(p.search)&&u.append("index",""),p.search=`?${u}`,{path:ms(p),submission:f}}function LS(i,e,t,n,s,o,l,u,d,f,p,g,y,S,v,w,A,x,L,_){let O=_?Zn(_[1])?_[1].error:_[1].data:void 0,M=s.createURL(o.location),R=s.createURL(d),P;if(p&&o.errors){let ie=Object.keys(o.errors)[0];P=l.findIndex(Z=>Z.route.id===ie)}else if(_&&Zn(_[1])){let ie=_[0];P=l.findIndex(Z=>Z.route.id===ie)-1}let B=_?_[1].statusCode:void 0,U=B&&B>=400,C={currentUrl:M,currentParams:o.matches[0]?.params||{},nextUrl:R,nextParams:l[0].params,...u,actionResult:O,actionStatus:B},V=l.map((ie,Z)=>{let{route:ue}=ie,k=null;if(P!=null&&Z>P?k=!1:ue.lazy?k=!0:ue.loader==null?k=!1:p?k=Vg(ue,o.loaderData,o.errors):dR(o.loaderData,o.matches[Z],ie)&&(k=!0),k!==null)return Gg(t,n,i,ie,f,e,k);let H=U?!1:g||M.pathname+M.search===R.pathname+R.search||M.search!==R.search||hR(o.matches[Z],ie),le={...C,defaultShouldRevalidate:H},pe=Yd(ie,le);return Gg(t,n,i,ie,f,e,pe,le)}),ae=[];return v.forEach((ie,Z)=>{if(p||!l.some(ee=>ee.route.id===ie.routeId)||S.has(Z))return;let ue=o.fetchers.get(Z),k=ue&&ue.state!=="idle"&&ue.data===void 0,H=fs(A,ie.path,x);if(!H){if(L&&k)return;ae.push({key:Z,routeId:ie.routeId,path:ie.path,matches:null,match:null,request:null,controller:null});return}if(w.has(Z))return;let le=Zl(H,ie.path),pe=new AbortController,j=fo(s,ie.path,pe.signal),X=null;if(y.has(Z))y.delete(Z),X=vo(t,n,j,H,le,f,e);else if(k)g&&(X=vo(t,n,j,H,le,f,e));else{let ee={...C,defaultShouldRevalidate:U?!1:g};Yd(le,ee)&&(X=vo(t,n,j,H,le,f,e,ee))}X&&ae.push({key:Z,routeId:ie.routeId,path:ie.path,matches:X,match:le,request:j,controller:pe})}),{dsMatches:V,revalidatingFetchers:ae}}function Vg(i,e,t){if(i.lazy)return!0;if(!i.loader)return!1;let n=e!=null&&i.id in e,s=t!=null&&t[i.id]!==void 0;return!n&&s?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!n&&!s}function dR(i,e,t){let n=!e||t.route.id!==e.route.id,s=!i.hasOwnProperty(t.route.id);return n||s}function hR(i,e){let t=i.route.path;return i.pathname!==e.pathname||t!=null&&t.endsWith("*")&&i.params["*"]!==e.params["*"]}function Yd(i,e){if(i.route.shouldRevalidate){let t=i.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function NS(i,e,t,n,s){let o;if(i){let d=n[i];Ge(d,`No route found to patch children into: routeId = ${i}`),d.children||(d.children=[]),o=d.children}else o=t;let l=e.filter(d=>!o.some(f=>y1(d,f))),u=Vd(l,s,[i||"_","patch",String(o?.length||"0")],n);o.push(...u)}function y1(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((t,n)=>e.children?.some(s=>y1(t,s))):!1}var kS=new WeakMap,b1=({key:i,route:e,manifest:t,mapRouteProperties:n})=>{let s=t[e.id];if(Ge(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[i];if(!o)return;let l=kS.get(s);l||(l={},kS.set(s,l));let u=l[i];if(u)return u;let d=(async()=>{let f=kT(i),g=s[i]!==void 0&&i!=="hasErrorBoundary";if(f)jt(!f,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),l[i]=Promise.resolve();else if(g)jt(!1,`Route "${s.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let y=await o();y!=null&&(Object.assign(s,{[i]:y}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[i]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return l[i]=d,d},PS=new WeakMap;function fR(i,e,t,n,s){let o=t[i.id];if(Ge(o,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let p=PS.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{Ge(typeof i.lazy=="function","No lazy route function found");let y=await i.lazy(),S={};for(let v in y){let w=y[v];if(w===void 0)continue;let A=jT(v),L=o[v]!==void 0&&v!=="hasErrorBoundary";A?jt(!A,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?jt(!L,`Route "${o.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):S[v]=w}Object.assign(o,S),Object.assign(o,{...n(o),lazy:void 0})})();return PS.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(i.lazy),u=[],d;for(let p of l){if(s&&s.includes(p))continue;let g=b1({key:p,route:i,manifest:t,mapRouteProperties:n});g&&(u.push(g),p===e&&(d=g))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function jS(i){let e=i.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function pR(i){return i.matches.some(e=>e.route.unstable_middleware)?v1(i,!1,()=>jS(i),(e,t)=>({[t]:{type:"error",result:e}})):jS(i)}async function v1(i,e,t,n){let{matches:s,request:o,params:l,context:u}=i,d={handlerResult:void 0};try{let f=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(y=>[g.route.id,y]):[]),p=await S1({request:o,params:l,context:u},f,e,d,t);return e?p:d.handlerResult}catch(f){if(!d.middlewareError)throw f;let p=await n(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function S1(i,e,t,n,s,o=0){let{request:l}=i;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return n.handlerResult=await s(),n.handlerResult;let[d,f]=u,p=!1,g,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await S1(i,e,t,n,s,o+1)};try{let S=await f({request:i.request,params:i.params,context:i.context},y);return p?S===void 0?g:S:y()}catch(S){throw n.middlewareError?n.middlewareError.error!==S&&(n.middlewareError={routeId:d,error:S}):n.middlewareError={routeId:d,error:S},S}}function w1(i,e,t,n,s){let o=b1({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:i}),l=fR(n.route,Jn(t.method)?"action":"loader",e,i,s);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Gg(i,e,t,n,s,o,l,u=null){let d=!1,f=w1(i,e,t,n,s);return{...n,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return d=!0,u?typeof p=="boolean"?Yd(n,{...u,defaultShouldRevalidate:p}):Yd(n,u):l},resolve(p){return d||l||p&&t.method==="GET"&&(n.route.lazy||n.route.loader)?mR({request:t,match:n,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function vo(i,e,t,n,s,o,l,u=null){return n.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:w1(i,e,t,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Gg(i,e,t,d,o,l,!0,u))}async function gR(i,e,t,n,s,o){t.some(f=>f._lazyPromises?.middleware)&&await Promise.all(t.map(f=>f._lazyPromises?.middleware));let l={request:e,params:t[0].params,context:s,matches:t},d=await i({...l,fetcherKey:n,unstable_runClientMiddleware:f=>{let p=l;return v1(p,!1,()=>f({...p,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(g,y)=>({[y]:{type:"error",result:g}}))}});try{await Promise.all(t.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function mR({request:i,match:e,lazyHandlerPromise:t,lazyRoutePromise:n,handlerOverride:s,scopedContext:o}){let l,u,d=Jn(i.method),f=d?"action":"loader",p=g=>{let y,S=new Promise((A,x)=>y=x);u=()=>y(),i.signal.addEventListener("abort",u);let v=A=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):g({request:i,params:e.params,context:o},...A!==void 0?[A]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(x=>v(x)):v())}}catch(A){return{type:"error",result:A}}})();return Promise.race([w,S])};try{let g=d?e.route.action:e.route.loader;if(t||n)if(g){let y,[S]=await Promise.all([p(g).catch(v=>{y=v}),t,n]);if(y!==void 0)throw y;l=S}else{await t;let y=d?e.route.action:e.route.loader;if(y)[l]=await Promise.all([p(y),n]);else if(f==="action"){let S=new URL(i.url),v=S.pathname+S.search;throw vi(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(g)l=await p(g);else{let y=new URL(i.url),S=y.pathname+y.search;throw vi(404,{pathname:S})}}catch(g){return{type:"error",result:g}}finally{u&&i.signal.removeEventListener("abort",u)}return l}async function yR(i){let{result:e,type:t}=i;if(A1(e)){let n;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?n=null:n=await e.json():n=await e.text()}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new qd(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?$S(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qd(e.init?.status||500,void 0,e.data),statusCode:pc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pc(e)?e.status:void 0}:$S(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function bR(i,e,t,n,s){let o=i.headers.get("Location");if(Ge(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jm.test(o)){let l=n.slice(0,n.findIndex(u=>u.route.id===t)+1);o=$g(new URL(e.url),l,s,o),i.headers.set("Location",o)}return i}function IS(i,e,t){if(jm.test(i)){let n=i,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=xi(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return i}function fo(i,e,t,n){let s=i.createURL(x1(e)).toString(),o={signal:t};if(n&&Jn(n.formMethod)){let{formMethod:l,formEncType:u}=n;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(n.json)):u==="text/plain"?o.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?o.body=qg(n.formData):o.body=n.formData}return new Request(s,o)}function qg(i){let e=new URLSearchParams;for(let[t,n]of i.entries())e.append(t,typeof n=="string"?n:n.name);return e}function FS(i){let e=new FormData;for(let[t,n]of i.entries())e.append(t,n);return e}function vR(i,e,t,n=!1,s=!1){let o={},l=null,u,d=!1,f={},p=t&&Zn(t[1])?t[1].error:void 0;return i.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,S=e[y];if(Ge(!ta(S),"Cannot handle redirect results in processLoaderData"),Zn(S)){let v=S.error;if(p!==void 0&&(v=p,p=void 0),l=l||{},s)l[y]=v;else{let w=Qs(i,y);l[w.route.id]==null&&(l[w.route.id]=v)}n||(o[y]=m1),d||(d=!0,u=pc(S.error)?S.error.status:500),S.headers&&(f[y]=S.headers)}else o[y]=S.data,S.statusCode&&S.statusCode!==200&&!d&&(u=S.statusCode),S.headers&&(f[y]=S.headers)}),p!==void 0&&t&&(l={[t[0]]:p},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function BS(i,e,t,n,s,o){let{loaderData:l,errors:u}=vR(e,t,n);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:g}=d,y=o[f];if(Ge(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Zn(y)){let S=Qs(i.matches,p?.route.id);u&&u[S.route.id]||(u={...u,[S.route.id]:y.error}),i.fetchers.delete(f)}else if(ta(y))Ge(!1,"Unhandled fetcher revalidation redirect");else{let S=hs(y.data);i.fetchers.set(f,S)}}),{loaderData:l,errors:u}}function zS(i,e,t,n){let s=Object.entries(e).filter(([,o])=>o!==m1).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&i.hasOwnProperty(l)&&o.route.loader&&(s[l]=i[l]),n&&n.hasOwnProperty(l))break}return s}function US(i){return i?Zn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Qs(i,e){return(e?i.slice(0,i.findIndex(n=>n.route.id===e)+1):[...i]).reverse().find(n=>n.route.hasErrorBoundary===!0)||i[0]}function HS(i){let e=i.length===1?i[0]:i.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vi(i,{pathname:e,routeId:t,method:n,type:s,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return i===400?(l="Bad Request",n&&e&&t?u=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):i===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):i===404?(l="Not Found",u=`No route matches URL "${e}"`):i===405&&(l="Method Not Allowed",n&&e&&t?u=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(u=`Invalid request method "${n.toUpperCase()}"`)),new qd(i||500,l,new Error(u),!0)}function hd(i){let e=Object.entries(i);for(let t=e.length-1;t>=0;t--){let[n,s]=e[t];if(ta(s))return{key:n,result:s}}}function x1(i){let e=typeof i=="string"?Ss(i):i;return ms({...e,hash:""})}function SR(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function wR(i){return A1(i.result)&&sR.has(i.result.status)}function Zn(i){return i.type==="error"}function ta(i){return(i&&i.type)==="redirect"}function $S(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function A1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function xR(i){return rR.has(i.toUpperCase())}function Jn(i){return nR.has(i.toUpperCase())}function Im(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Zl(i,e){let t=typeof e=="string"?Ss(e).search:e.search;if(i[i.length-1].route.index&&Im(t||""))return i[i.length-1];let n=f1(i);return n[n.length-1]}function VS(i){let{formMethod:e,formAction:t,formEncType:n,text:s,formData:o,json:l}=i;if(!(!e||!t||!n)){if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:l,text:void 0}}}function ug(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AR(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ER(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function hs(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function _R(i,e){try{let t=i.sessionStorage.getItem(g1);if(t){let n=JSON.parse(t);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function CR(i,e){if(e.size>0){let t={};for(let[n,s]of e)t[n]=[...s];try{i.sessionStorage.setItem(g1,JSON.stringify(t))}catch(n){jt(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function TR(){let i,e,t=new Promise((n,s)=>{i=async o=>{n(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:i,reject:e}}var ya=N.createContext(null);ya.displayName="DataRouter";var Oc=N.createContext(null);Oc.displayName="DataRouterState";var Fm=N.createContext({isTransitioning:!1});Fm.displayName="ViewTransition";var E1=N.createContext(new Map);E1.displayName="Fetchers";var RR=N.createContext(null);RR.displayName="Await";var ji=N.createContext(null);ji.displayName="Navigation";var hh=N.createContext(null);hh.displayName="Location";var or=N.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Bm=N.createContext(null);Bm.displayName="RouteError";function MR(i,{relative:e}={}){Ge(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=N.useContext(ji),{hash:s,pathname:o,search:l}=Dc(i,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:sr([t,o])),n.createHref({pathname:u,search:l,hash:s})}function Lo(){return N.useContext(hh)!=null}function jr(){return Ge(Lo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(hh).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C1(i){N.useContext(ji).static||N.useLayoutEffect(i)}function No(){let{isDataRoute:i}=N.useContext(or);return i?HR():OR()}function OR(){Ge(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(ya),{basename:e,navigator:t}=N.useContext(ji),{matches:n}=N.useContext(or),{pathname:s}=jr(),o=JSON.stringify(uh(n)),l=N.useRef(!1);return C1(()=>{l.current=!0}),N.useCallback((d,f={})=>{if(jt(l.current,_1),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=dh(d,JSON.parse(o),s,f.relative==="path");i==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:sr([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,s,i])}N.createContext(null);function Dc(i,{relative:e}={}){let{matches:t}=N.useContext(or),{pathname:n}=jr(),s=JSON.stringify(uh(t));return N.useMemo(()=>dh(i,JSON.parse(s),n,e==="path"),[i,s,n,e])}function DR(i,e,t,n){Ge(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(ji),{matches:o}=N.useContext(or),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let x=p&&p.path||"";T1(d,!p||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let g=jr(),y;y=g;let S=y.pathname||"/",v=S;if(f!=="/"){let x=f.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=fs(i,{pathname:v});return jt(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),jt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jR(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:sr([f,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:sr([f,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,t,n)}function LR(){let i=UR(),e=pc(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,l)}var NR=N.createElement(LR,null),kR=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?N.createElement(or.Provider,{value:this.props.routeContext},N.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PR({routeContext:i,match:e,children:t}){let n=N.useContext(ya);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(or.Provider,{value:i},t)}function jR(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,o=t?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Ge(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,y=!1,S=null,v=null;t&&(g=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||NR,l&&(u<0&&p===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):u===p&&(y=!0,v=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),A=()=>{let x;return g?x=S:y?x=v:f.route.Component?x=N.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,N.createElement(PR,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:x})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(kR,{location:t.location,revalidation:t.revalidation,component:S,error:g,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}function zm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(i){let e=N.useContext(ya);return Ge(e,zm(i)),e}function FR(i){let e=N.useContext(Oc);return Ge(e,zm(i)),e}function BR(i){let e=N.useContext(or);return Ge(e,zm(i)),e}function Um(i){let e=BR(i),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function zR(){return Um("useRouteId")}function UR(){let i=N.useContext(Bm),e=FR("useRouteError"),t=Um("useRouteError");return i!==void 0?i:e.errors?.[t]}function HR(){let{router:i}=IR("useNavigate"),e=Um("useNavigate"),t=N.useRef(!1);return C1(()=>{t.current=!0}),N.useCallback(async(s,o={})=>{jt(t.current,_1),t.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...o}))},[i,e])}var GS={};function T1(i,e,t){!e&&!GS[i]&&(GS[i]=!0,jt(!1,t))}var qS={};function YS(i,e){!i&&!qS[e]&&(qS[e]=!0,console.warn(e))}function $R(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var VR=["HydrateFallback","hydrateFallbackElement"],GR=class{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",i(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function qR({router:i,flushSync:e}){let[t,n]=N.useState(i.state),[s,o]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[d,f]=N.useState(),[p,g]=N.useState(),[y,S]=N.useState(),v=N.useRef(new Map),w=N.useCallback((_,{deletedFetchers:O,flushSync:M,viewTransitionOpts:R})=>{_.fetchers.forEach((B,U)=>{B.data!==void 0&&v.current.set(U,B.data)}),O.forEach(B=>v.current.delete(B)),YS(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(YS(R==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!P){e&&M?e(()=>n(_)):N.startTransition(()=>n(_));return}if(e&&M){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let B=i.window.document.startViewTransition(()=>{e(()=>n(_))});B.finished.finally(()=>{e(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>g(B));return}p?(d&&d.resolve(),p.skipTransition(),S({state:_,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(_),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[i.window,e,p,d]);N.useLayoutEffect(()=>i.subscribe(w),[i,w]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new GR)},[l]),N.useEffect(()=>{if(d&&s&&i.window){let _=s,O=d.promise,M=i.window.document.startViewTransition(async()=>{N.startTransition(()=>n(_)),await O});M.finished.finally(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(M)}},[s,d,i.window]),N.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,p,t.location,s]),N.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),S(void 0))},[l.isTransitioning,y]);let A=N.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:_=>i.navigate(_),push:(_,O,M)=>i.navigate(_,{state:O,preventScrollReset:M?.preventScrollReset}),replace:(_,O,M)=>i.navigate(_,{replace:!0,state:O,preventScrollReset:M?.preventScrollReset})}),[i]),x=i.basename||"/",L=N.useMemo(()=>({router:i,navigator:A,static:!1,basename:x}),[i,A,x]);return N.createElement(N.Fragment,null,N.createElement(ya.Provider,{value:L},N.createElement(Oc.Provider,{value:t},N.createElement(E1.Provider,{value:v.current},N.createElement(Fm.Provider,{value:l},N.createElement(KR,{basename:x,location:t.location,navigationType:t.historyAction,navigator:A},N.createElement(YR,{routes:i.routes,future:i.future,state:t})))))),null)}var YR=N.memo(XR);function XR({routes:i,future:e,state:t}){return DR(i,void 0,t,e)}function Hm({to:i,replace:e,state:t,relative:n}){Ge(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(ji);jt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(or),{pathname:l}=jr(),u=No(),d=dh(i,uh(o),l,n==="path"),f=JSON.stringify(d);return N.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:n})},[u,f,n,e,t]),null}function KR({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){Ge(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Ss(t));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=t,S=N.useMemo(()=>{let v=xi(d,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:g,key:y},navigationType:n}},[l,d,f,p,g,y,n]);return jt(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(ji.Provider,{value:u},N.createElement(hh.Provider,{children:e,value:S}))}var Ld="get",Nd="application/x-www-form-urlencoded";function fh(i){return i!=null&&typeof i.tagName=="string"}function WR(i){return fh(i)&&i.tagName.toLowerCase()==="button"}function QR(i){return fh(i)&&i.tagName.toLowerCase()==="form"}function ZR(i){return fh(i)&&i.tagName.toLowerCase()==="input"}function JR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function e2(i,e){return i.button===0&&(!e||e==="_self")&&!JR(i)}function Yg(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let n=i[t];return e.concat(Array.isArray(n)?n.map(s=>[t,s]):[[t,n]])},[]))}function t2(i,e){let t=Yg(i);return e&&e.forEach((n,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var fd=null;function n2(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var i2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(i){return i!=null&&!i2.has(i)?(jt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):i}function r2(i,e){let t,n,s,o,l;if(QR(i)){let u=i.getAttribute("action");n=u?xi(u,e):null,t=i.getAttribute("method")||Ld,s=dg(i.getAttribute("enctype"))||Nd,o=new FormData(i)}else if(WR(i)||ZR(i)&&(i.type==="submit"||i.type==="image")){let u=i.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||u.getAttribute("action");if(n=d?xi(d,e):null,t=i.getAttribute("formmethod")||u.getAttribute("method")||Ld,s=dg(i.getAttribute("formenctype"))||dg(u.getAttribute("enctype"))||Nd,o=new FormData(u,i),!n2()){let{name:f,type:p,value:g}=i;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,g)}}else{if(fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ld,n=null,s=Nd,l=i}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:l}}function $m(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function s2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function o2(i,e,t){let n=await Promise.all(i.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await s2(o,t);return l.links?l.links():[]}return[]}));return d2(n.flat(1).filter(a2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function XS(i,e,t,n,s,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function l2(i,e,{includeHydrateFallback:t}={}){return c2(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function c2(i){return[...new Set(i)]}function u2(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function d2(i,e){let t=new Set;return new Set(e),i.reduce((n,s)=>{let o=JSON.stringify(u2(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h2=new Set([100,101,204,205]);function f2(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&xi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function R1(){let i=N.useContext(ya);return $m(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function p2(){let i=N.useContext(Oc);return $m(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vm=N.createContext(void 0);Vm.displayName="FrameworkContext";function M1(){let i=N.useContext(Vm);return $m(i,"You must render this element inside a <HydratedRouter> element"),i}function g2(i,e){let t=N.useContext(Vm),[n,s]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=N.useRef(null);N.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let w=x=>{x.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(w,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[i]),N.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let S=()=>{s(!0)},v=()=>{s(!1),l(!1)};return t?i!=="intent"?[o,y,{}]:[o,y,{onFocus:zl(u,S),onBlur:zl(d,v),onMouseEnter:zl(f,S),onMouseLeave:zl(p,v),onTouchStart:zl(g,S)}]:[!1,y,{}]}function zl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function m2({page:i,...e}){let{router:t}=R1(),n=N.useMemo(()=>fs(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?N.createElement(b2,{page:i,matches:n,...e}):null}function y2(i){let{manifest:e,routeModules:t}=M1(),[n,s]=N.useState([]);return N.useEffect(()=>{let o=!1;return o2(i,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[i,e,t]),n}function b2({page:i,matches:e,...t}){let n=jr(),{manifest:s,routeModules:o}=M1(),{basename:l}=R1(),{loaderData:u,matches:d}=p2(),f=N.useMemo(()=>XS(i,e,d,s,n,"data"),[i,e,d,s,n]),p=N.useMemo(()=>XS(i,e,d,s,n,"assets"),[i,e,d,s,n]),g=N.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(x=>{let L=s.routes[x.route.id];!L||!L.hasLoader||(!f.some(_=>_.route.id===x.route.id)&&x.route.id in u&&o[x.route.id]?.shouldRevalidate||L.hasClientLoader?w=!0:v.add(x.route.id))}),v.size===0)return[];let A=f2(i,l);return w&&v.size>0&&A.searchParams.set("_routes",e.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[l,u,n,s,f,e,i,o]),y=N.useMemo(()=>l2(p,s),[p,s]),S=y2(p);return N.createElement(N.Fragment,null,g.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),y.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),S.map(({key:v,link:w})=>N.createElement("link",{key:v,...w})))}function v2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O1&&(window.__reactRouterVersion="7.6.3")}catch{}function S2(i,e){return cR({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:OT({window:e?.window}),hydrationData:w2(),routes:i,mapRouteProperties:$R,hydrationRouteProperties:VR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function w2(){let i=window?.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:x2(i.errors)}),i}function x2(i){if(!i)return null;let e=Object.entries(i),t={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")t[n]=new qd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",t[n]=l}catch{}}if(t[n]==null){let o=new Error(s.message);o.stack="",t[n]=o}}else t[n]=s;return t}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L1=N.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...y},S){let{basename:v}=N.useContext(ji),w=typeof f=="string"&&D1.test(f),A,x=!1;if(typeof f=="string"&&w&&(A=f,O1))try{let U=new URL(window.location.href),C=f.startsWith("//")?new URL(U.protocol+f):new URL(f),V=xi(C.pathname,v);C.origin===U.origin&&V!=null?f=V+C.search+C.hash:x=!0}catch{jt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=MR(f,{relative:s}),[_,O,M]=g2(n,y),R=C2(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function P(U){e&&e(U),U.defaultPrevented||R(U)}let B=N.createElement("a",{...y,...M,href:A||L,onClick:x||o?e:P,ref:v2(S,O),target:d,"data-discover":!w&&t==="render"?"true":void 0});return _&&!w?N.createElement(N.Fragment,null,B,N.createElement(m2,{page:L})):B});L1.displayName="Link";var A2=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=Dc(l,{relative:f.relative}),y=jr(),S=N.useContext(Oc),{navigator:v,basename:w}=N.useContext(ji),A=S!=null&&D2(g)&&u===!0,x=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,L=y.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(L=L.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&w&&(_=xi(_,w)||_);const O=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let M=L===x||!s&&L.startsWith(x)&&L.charAt(O)==="/",R=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),P={isActive:M,isPending:R,isTransitioning:A},B=M?e:void 0,U;typeof n=="function"?U=n(P):U=[n,M?"active":null,R?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(P):o;return N.createElement(L1,{...f,"aria-current":B,className:U,ref:p,style:C,to:l,viewTransition:u},typeof d=="function"?d(P):d)});A2.displayName="NavLink";var E2=N.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:l=Ld,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...y},S)=>{let v=M2(),w=O2(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",x=typeof u=="string"&&D1.test(u),L=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let O=_.nativeEvent.submitter,M=O?.getAttribute("formmethod")||l;v(O||_.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:S,method:A,action:w,onSubmit:n?d:L,...y,"data-discover":!x&&i==="render"?"true":void 0})});E2.displayName="Form";function _2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N1(i){let e=N.useContext(ya);return Ge(e,_2(i)),e}function C2(i,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=No(),d=jr(),f=Dc(i,{relative:o});return N.useCallback(p=>{if(e2(p,e)){p.preventDefault();let g=t!==void 0?t:ms(d)===ms(f);u(i,{replace:g,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,t,n,e,i,s,o,l])}function k1(i){jt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(Yg(i)),t=N.useRef(!1),n=jr(),s=N.useMemo(()=>t2(n.search,t.current?null:e.current),[n.search]),o=No(),l=N.useCallback((u,d)=>{const f=Yg(typeof u=="function"?u(s):u);t.current=!0,o("?"+f,d)},[o,s]);return[s,l]}var T2=0,R2=()=>`__${String(++T2)}__`;function M2(){let{router:i}=N1("useSubmit"),{basename:e}=N.useContext(ji),t=zR();return N.useCallback(async(n,s={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=r2(n,e);if(s.navigate===!1){let p=s.fetcherKey||R2();await i.fetch(p,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,t])}function O2(i,{relative:e}={}){let{basename:t}=N.useContext(ji),n=N.useContext(or);Ge(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Dc(i||".",{relative:e})},l=jr();if(i==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sr([t,o.pathname])),ms(o)}function D2(i,e={}){let t=N.useContext(Fm);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=N1("useViewTransitionState"),s=Dc(i,{relative:e.relative});if(!t.isTransitioning)return!1;let o=xi(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=xi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Gd(s.pathname,l)!=null||Gd(s.pathname,o)!=null}[...h2];var Gm=l1();const pd=ch(Gm);/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L2(i){return N.createElement(qR,{flushSync:Gm.flushSync,...i})}var hg={exports:{}},fg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function N2(){if(KS)return fg;KS=1;var i=Mc();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var t=typeof Object.is=="function"?Object.is:e,n=i.useSyncExternalStore,s=i.useRef,o=i.useEffect,l=i.useMemo,u=i.useDebugValue;return fg.useSyncExternalStoreWithSelector=function(d,f,p,g,y){var S=s(null);if(S.current===null){var v={hasValue:!1,value:null};S.current=v}else v=S.current;S=l(function(){function A(M){if(!x){if(x=!0,L=M,M=g(M),y!==void 0&&v.hasValue){var R=v.value;if(y(R,M))return _=R}return _=M}if(R=_,t(L,M))return R;var P=g(M);return y!==void 0&&y(R,P)?(L=M,R):(L=M,_=P)}var x=!1,L,_,O=p===void 0?null:p;return[function(){return A(f())},O===null?void 0:function(){return A(O())}]},[f,p,g,y]);var w=n(d,S[0],S[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},fg}var WS;function k2(){return WS||(WS=1,hg.exports=N2()),hg.exports}var P2=k2();function j2(i){i()}function I2(){let i=null,e=null;return{clear(){i=null,e=null},notify(){j2(()=>{let t=i;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=i;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:i=s,function(){!n||i===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:i=s.next)}}}}var QS={notify(){},get:()=>[]};function F2(i,e){let t,n=QS,s=0,o=!1;function l(w){p();const A=n.subscribe(w);let x=!1;return()=>{x||(x=!0,A(),g())}}function u(){n.notify()}function d(){v.onStateChange&&v.onStateChange()}function f(){return o}function p(){s++,t||(t=i.subscribe(d),n=I2())}function g(){s--,t&&s===0&&(t(),t=void 0,n.clear(),n=QS)}function y(){o||(o=!0,p())}function S(){o&&(o=!1,g())}const v={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>n};return v}var B2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z2=B2(),U2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",H2=U2(),$2=()=>z2||H2?N.useLayoutEffect:N.useEffect,V2=$2(),G2=Symbol.for("react-redux-context"),q2=typeof globalThis<"u"?globalThis:{};function Y2(){if(!N.createContext)return{};const i=q2[G2]??=new Map;let e=i.get(N.createContext);return e||(e=N.createContext(null),i.set(N.createContext,e)),e}var ys=Y2();function X2(i){const{children:e,context:t,serverState:n,store:s}=i,o=N.useMemo(()=>{const d=F2(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),l=N.useMemo(()=>s.getState(),[s]);V2(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=t||ys;return N.createElement(u.Provider,{value:o},e)}var K2=X2;function qm(i=ys){return function(){return N.useContext(i)}}var P1=qm();function j1(i=ys){const e=i===ys?P1:qm(i),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var W2=j1();function Q2(i=ys){const e=i===ys?W2:j1(i),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var lr=Q2(),Z2=(i,e)=>i===e;function J2(i=ys){const e=i===ys?P1:qm(i),t=(n,s={})=>{const{equalityFn:o=Z2}=typeof s=="function"?{equalityFn:s}:s,l=e(),{store:u,subscription:d,getServerState:f}=l;N.useRef(!0);const p=N.useCallback({[n.name](y){return n(y)}}[n.name],[n]),g=P2.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,f||u.getState,p,o);return N.useDebugValue(g),g};return Object.assign(t,{withTypes:()=>t}),t}var eM=J2();const ph=()=>lr(),Mn=eM;function fn(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var tM=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZS=tM,pg=()=>Math.random().toString(36).substring(7).split("").join("."),nM={INIT:`@@redux/INIT${pg()}`,REPLACE:`@@redux/REPLACE${pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pg()}`},Xd=nM;function Ym(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function I1(i,e,t){if(typeof i!="function")throw new Error(fn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(fn(1));return t(I1)(i,e)}let n=i,s=e,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((A,x)=>{l.set(x,A)}))}function p(){if(d)throw new Error(fn(3));return s}function g(A){if(typeof A!="function")throw new Error(fn(4));if(d)throw new Error(fn(5));let x=!0;f();const L=u++;return l.set(L,A),function(){if(x){if(d)throw new Error(fn(6));x=!1,f(),l.delete(L),o=null}}}function y(A){if(!Ym(A))throw new Error(fn(7));if(typeof A.type>"u")throw new Error(fn(8));if(typeof A.type!="string")throw new Error(fn(17));if(d)throw new Error(fn(9));try{d=!0,s=n(s,A)}finally{d=!1}return(o=l).forEach(L=>{L()}),A}function S(A){if(typeof A!="function")throw new Error(fn(10));n=A,y({type:Xd.REPLACE})}function v(){const A=g;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(fn(11));function L(){const O=x;O.next&&O.next(p())}return L(),{unsubscribe:A(L)}},[ZS](){return this}}}return y({type:Xd.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:S,[ZS]:v}}function iM(i){Object.keys(i).forEach(e=>{const t=i[e];if(typeof t(void 0,{type:Xd.INIT})>"u")throw new Error(fn(12));if(typeof t(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function rM(i){const e=Object.keys(i),t={};for(let o=0;o<e.length;o++){const l=e[o];typeof i[l]=="function"&&(t[l]=i[l])}const n=Object.keys(t);let s;try{iM(t)}catch(o){s=o}return function(l={},u){if(s)throw s;let d=!1;const f={};for(let p=0;p<n.length;p++){const g=n[p],y=t[g],S=l[g],v=y(S,u);if(typeof v>"u")throw u&&u.type,new Error(fn(14));f[g]=v,d=d||v!==S}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Kd(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,t)=>(...n)=>e(t(...n)))}function sM(...i){return e=>(t,n)=>{const s=e(t,n);let o=()=>{throw new Error(fn(15))};const l={getState:s.getState,dispatch:(d,...f)=>o(d,...f)},u=i.map(d=>d(l));return o=Kd(...u)(s.dispatch),{...s,dispatch:o}}}function aM(i){return Ym(i)&&"type"in i&&typeof i.type=="string"}var F1=Symbol.for("immer-nothing"),JS=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function Ni(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Co=Object.getPrototypeOf;function ca(i){return!!i&&!!i[ri]}function Lr(i){return i?B1(i)||Array.isArray(i)||!!i[JS]||!!i.constructor?.[JS]||mh(i)||yh(i):!1}var oM=Object.prototype.constructor.toString();function B1(i){if(!i||typeof i!="object")return!1;const e=Co(i);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===oM}function Wd(i,e){gh(i)===0?Reflect.ownKeys(i).forEach(t=>{e(t,i[t],i)}):i.forEach((t,n)=>e(n,t,i))}function gh(i){const e=i[ri];return e?e.type_:Array.isArray(i)?1:mh(i)?2:yh(i)?3:0}function Xg(i,e){return gh(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function z1(i,e,t){const n=gh(i);n===2?i.set(e,t):n===3?i.add(t):i[e]=t}function lM(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function mh(i){return i instanceof Map}function yh(i){return i instanceof Set}function Xs(i){return i.copy_||i.base_}function Kg(i,e){if(mh(i))return new Map(i);if(yh(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const t=B1(i);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(i);delete n[ri];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const l=s[o],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:i[l]})}return Object.create(Co(i),n)}else{const n=Co(i);if(n!==null&&t)return{...i};const s=Object.create(n);return Object.assign(s,i)}}function Xm(i,e=!1){return bh(i)||ca(i)||!Lr(i)||(gh(i)>1&&(i.set=i.add=i.clear=i.delete=cM),Object.freeze(i),e&&Object.entries(i).forEach(([t,n])=>Xm(n,!0))),i}function cM(){Ni(2)}function bh(i){return Object.isFrozen(i)}var uM={};function ua(i){const e=uM[i];return e||Ni(0,i),e}var gc;function U1(){return gc}function dM(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ew(i,e){e&&(ua("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function Wg(i){Qg(i),i.drafts_.forEach(hM),i.drafts_=null}function Qg(i){i===gc&&(gc=i.parent_)}function tw(i){return gc=dM(gc,i)}function hM(i){const e=i[ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nw(i,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return i!==void 0&&i!==t?(t[ri].modified_&&(Wg(e),Ni(4)),Lr(i)&&(i=Qd(e,i),e.parent_||Zd(e,i)),e.patches_&&ua("Patches").generateReplacementPatches_(t[ri].base_,i,e.patches_,e.inversePatches_)):i=Qd(e,t,[]),Wg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==F1?i:void 0}function Qd(i,e,t){if(bh(e))return e;const n=e[ri];if(!n)return Wd(e,(s,o)=>iw(i,n,e,s,o,t)),e;if(n.scope_!==i)return e;if(!n.modified_)return Zd(i,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,l=!1;n.type_===3&&(o=new Set(s),s.clear(),l=!0),Wd(o,(u,d)=>iw(i,n,s,u,d,t,l)),Zd(i,s,!1),t&&i.patches_&&ua("Patches").generatePatches_(n,t,i.patches_,i.inversePatches_)}return n.copy_}function iw(i,e,t,n,s,o,l){if(ca(s)){const u=o&&e&&e.type_!==3&&!Xg(e.assigned_,n)?o.concat(n):void 0,d=Qd(i,s,u);if(z1(t,n,d),ca(d))i.canAutoFreeze_=!1;else return}else l&&t.add(s);if(Lr(s)&&!bh(s)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Qd(i,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&Zd(i,s)}}function Zd(i,e,t=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Xm(e,t)}function fM(i,e){const t=Array.isArray(i),n={type_:t?1:0,scope_:e?e.scope_:U1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Km;t&&(s=[n],o=mc);const{revoke:l,proxy:u}=Proxy.revocable(s,o);return n.draft_=u,n.revoke_=l,u}var Km={get(i,e){if(e===ri)return i;const t=Xs(i);if(!Xg(t,e))return pM(i,t,e);const n=t[e];return i.finalized_||!Lr(n)?n:n===gg(i.base_,e)?(mg(i),i.copy_[e]=Jg(n,i)):n},has(i,e){return e in Xs(i)},ownKeys(i){return Reflect.ownKeys(Xs(i))},set(i,e,t){const n=H1(Xs(i),e);if(n?.set)return n.set.call(i.draft_,t),!0;if(!i.modified_){const s=gg(Xs(i),e),o=s?.[ri];if(o&&o.base_===t)return i.copy_[e]=t,i.assigned_[e]=!1,!0;if(lM(t,s)&&(t!==void 0||Xg(i.base_,e)))return!0;mg(i),Zg(i)}return i.copy_[e]===t&&(t!==void 0||e in i.copy_)||Number.isNaN(t)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=t,i.assigned_[e]=!0),!0},deleteProperty(i,e){return gg(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,mg(i),Zg(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const t=Xs(i),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Ni(11)},getPrototypeOf(i){return Co(i.base_)},setPrototypeOf(){Ni(12)}},mc={};Wd(Km,(i,e)=>{mc[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mc.deleteProperty=function(i,e){return mc.set.call(this,i,e,void 0)};mc.set=function(i,e,t){return Km.set.call(this,i[0],e,t,i[0])};function gg(i,e){const t=i[ri];return(t?Xs(t):i)[e]}function pM(i,e,t){const n=H1(e,t);return n?"value"in n?n.value:n.get?.call(i.draft_):void 0}function H1(i,e){if(!(e in i))return;let t=Co(i);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Co(t)}}function Zg(i){i.modified_||(i.modified_=!0,i.parent_&&Zg(i.parent_))}function mg(i){i.copy_||(i.copy_=Kg(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var gM=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const l=this;return function(d=o,...f){return l.produce(d,p=>t.call(this,p,...f))}}typeof t!="function"&&Ni(6),n!==void 0&&typeof n!="function"&&Ni(7);let s;if(Lr(e)){const o=tw(this),l=Jg(e,void 0);let u=!0;try{s=t(l),u=!1}finally{u?Wg(o):Qg(o)}return ew(o,n),nw(s,o)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===F1&&(s=void 0),this.autoFreeze_&&Xm(s,!0),n){const o=[],l=[];ua("Patches").generateReplacementPatches_(e,s,o,l),n(o,l)}return s}else Ni(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let n,s;return[this.produce(e,t,(l,u)=>{n=l,s=u}),n,s]},typeof i?.autoFreeze=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof i?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){Lr(i)||Ni(8),ca(i)&&(i=mM(i));const e=tw(this),t=Jg(i,void 0);return t[ri].isManual_=!0,Qg(e),t}finishDraft(i,e){const t=i&&i[ri];(!t||!t.isManual_)&&Ni(9);const{scope_:n}=t;return ew(n,e),nw(void 0,n)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){i=s.value;break}}t>-1&&(e=e.slice(t+1));const n=ua("Patches").applyPatches_;return ca(i)?n(i,e):this.produce(i,s=>n(s,e))}};function Jg(i,e){const t=mh(i)?ua("MapSet").proxyMap_(i,e):yh(i)?ua("MapSet").proxySet_(i,e):fM(i,e);return(e?e.scope_:U1()).drafts_.push(t),t}function mM(i){return ca(i)||Ni(10,i),$1(i)}function $1(i){if(!Lr(i)||bh(i))return i;const e=i[ri];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Kg(i,e.scope_.immer_.useStrictShallowCopy_)}else t=Kg(i,!0);return Wd(t,(n,s)=>{z1(t,n,$1(s))}),e&&(e.finalized_=!1),t}var si=new gM,V1=si.produce;si.produceWithPatches.bind(si);si.setAutoFreeze.bind(si);si.setUseStrictShallowCopy.bind(si);si.applyPatches.bind(si);si.createDraft.bind(si);si.finishDraft.bind(si);function G1(i){return({dispatch:t,getState:n})=>s=>o=>typeof o=="function"?o(t,n,i):s(o)}var yM=G1(),bM=G1,vM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kd:Kd.apply(null,arguments)},SM=i=>i&&typeof i.match=="function";function ac(i,e){function t(...n){if(e){let s=e(...n);if(!s)throw new Error(Dr(0));return{type:i,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:i,payload:n[0]}}return t.toString=()=>`${i}`,t.type=i,t.match=n=>aM(n)&&n.type===i,t}var q1=class Jl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jl.prototype)}static get[Symbol.species](){return Jl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jl(...e[0].concat(this)):new Jl(...e.concat(this))}};function rw(i){return Lr(i)?V1(i,()=>{}):i}function gd(i,e,t){return i.has(e)?i.get(e):i.set(e,t(e)).get(e)}function wM(i){return typeof i=="boolean"}var xM=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let l=new q1;return t&&(wM(t)?l.push(yM):l.push(bM(t.extraArgument))),l},AM="RTK_autoBatch",sw=i=>e=>{setTimeout(e,i)},EM=(i={type:"raf"})=>e=>(...t)=>{const n=e(...t);let s=!0,o=!1,l=!1;const u=new Set,d=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sw(10):i.type==="callback"?i.queueNotification:sw(i.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>s&&p(),y=n.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return s=!p?.meta?.[AM],o=!s,o&&(l||(l=!0,d(f))),n.dispatch(p)}finally{s=!0}}})},_M=i=>function(t){const{autoBatch:n=!0}=t??{};let s=new q1(i);return n&&s.push(EM(typeof n=="object"?n:void 0)),s};function CM(i){const e=xM(),{reducer:t=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=i||{};let u;if(typeof t=="function")u=t;else if(Ym(t))u=rM(t);else throw new Error(Dr(1));let d;typeof n=="function"?d=n(e):d=e();let f=Kd;s&&(f=vM({trace:!1,...typeof s=="object"&&s}));const p=sM(...d),g=_M(p);let y=typeof l=="function"?l(g):g();const S=f(...y);return I1(u,o,S)}function Y1(i){const e={},t=[];let n;const s={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Dr(28));if(u in e)throw new Error(Dr(29));return e[u]=l,s},addMatcher(o,l){return t.push({matcher:o,reducer:l}),s},addDefaultCase(o){return n=o,s}};return i(s),[e,t,n]}function TM(i){return typeof i=="function"}function RM(i,e){let[t,n,s]=Y1(e),o;if(TM(i))o=()=>rw(i());else{const u=rw(i);o=()=>u}function l(u=o(),d){let f=[t[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[s]),f.reduce((p,g)=>{if(g)if(ca(p)){const S=g(p,d);return S===void 0?p:S}else{if(Lr(p))return V1(p,y=>g(y,d));{const y=g(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=o,l}var MM=(i,e)=>SM(i)?i.match(e):i(e);function OM(...i){return e=>i.some(t=>MM(t,e))}var DM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LM=(i=21)=>{let e="",t=i;for(;t--;)e+=DM[Math.random()*64|0];return e},NM=["name","message","stack","code"],yg=class{constructor(i,e){this.payload=i,this.meta=e}_type},aw=class{constructor(i,e){this.payload=i,this.meta=e}_type},kM=i=>{if(typeof i=="object"&&i!==null){const e={};for(const t of NM)typeof i[t]=="string"&&(e[t]=i[t]);return e}return{message:String(i)}},ow="External signal was aborted",X1=(()=>{function i(e,t,n){const s=ac(e+"/fulfilled",(d,f,p,g)=>({payload:d,meta:{...g||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),o=ac(e+"/pending",(d,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:d,requestStatus:"pending"}})),l=ac(e+"/rejected",(d,f,p,g,y)=>({payload:g,error:(n&&n.serializeError||kM)(d||"Rejected"),meta:{...y||{},arg:p,requestId:f,rejectedWithValue:!!g,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function u(d,{signal:f}={}){return(p,g,y)=>{const S=n?.idGenerator?n.idGenerator(d):LM(),v=new AbortController;let w,A;function x(_){A=_,v.abort()}f&&(f.aborted?x(ow):f.addEventListener("abort",()=>x(ow),{once:!0}));const L=async function(){let _;try{let M=n?.condition?.(d,{getState:g,extra:y});if(jM(M)&&(M=await M),M===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((P,B)=>{w=()=>{B({name:"AbortError",message:A||"Aborted"})},v.signal.addEventListener("abort",w)});p(o(S,d,n?.getPendingMeta?.({requestId:S,arg:d},{getState:g,extra:y}))),_=await Promise.race([R,Promise.resolve(t(d,{dispatch:p,getState:g,extra:y,requestId:S,signal:v.signal,abort:x,rejectWithValue:(P,B)=>new yg(P,B),fulfillWithValue:(P,B)=>new aw(P,B)})).then(P=>{if(P instanceof yg)throw P;return P instanceof aw?s(P.payload,S,d,P.meta):s(P,S,d)})])}catch(M){_=M instanceof yg?l(null,S,d,M.payload,M.meta):l(M,S,d)}finally{w&&v.signal.removeEventListener("abort",w)}return n&&!n.dispatchConditionRejection&&l.match(_)&&_.meta.condition||p(_),_}();return Object.assign(L,{abort:x,requestId:S,arg:d,unwrap(){return L.then(PM)}})}}return Object.assign(u,{pending:o,rejected:l,fulfilled:s,settled:OM(l,s),typePrefix:e})}return i.withTypes=()=>i,i})();function PM(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function jM(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var IM=Symbol.for("rtk-slice-createasyncthunk");function FM(i,e){return`${i}/${e}`}function BM({creators:i}={}){const e=i?.asyncThunk?.[IM];return function(n){const{name:s,reducerPath:o=s}=n;if(!s)throw new Error(Dr(11));const l=(typeof n.reducers=="function"?n.reducers(UM()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(_,O){const M=typeof _=="string"?_:_.type;if(!M)throw new Error(Dr(12));if(M in d.sliceCaseReducersByType)throw new Error(Dr(13));return d.sliceCaseReducersByType[M]=O,f},addMatcher(_,O){return d.sliceMatchers.push({matcher:_,reducer:O}),f},exposeAction(_,O){return d.actionCreators[_]=O,f},exposeCaseReducer(_,O){return d.sliceCaseReducersByName[_]=O,f}};u.forEach(_=>{const O=l[_],M={reducerName:_,type:FM(s,_),createNotation:typeof n.reducers=="function"};$M(O)?GM(M,O,f,e):HM(M,O,f)});function p(){const[_={},O=[],M=void 0]=typeof n.extraReducers=="function"?Y1(n.extraReducers):[n.extraReducers],R={..._,...d.sliceCaseReducersByType};return RM(n.initialState,P=>{for(let B in R)P.addCase(B,R[B]);for(let B of d.sliceMatchers)P.addMatcher(B.matcher,B.reducer);for(let B of O)P.addMatcher(B.matcher,B.reducer);M&&P.addDefaultCase(M)})}const g=_=>_,y=new Map,S=new WeakMap;let v;function w(_,O){return v||(v=p()),v(_,O)}function A(){return v||(v=p()),v.getInitialState()}function x(_,O=!1){function M(P){let B=P[_];return typeof B>"u"&&O&&(B=gd(S,M,A)),B}function R(P=g){const B=gd(y,O,()=>new WeakMap);return gd(B,P,()=>{const U={};for(const[C,V]of Object.entries(n.selectors??{}))U[C]=zM(V,P,()=>gd(S,P,A),O);return U})}return{reducerPath:_,getSelectors:R,get selectors(){return R(M)},selectSlice:M}}const L={name:s,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...x(o),injectInto(_,{reducerPath:O,...M}={}){const R=O??o;return _.inject({reducerPath:R,reducer:w},M),{...L,...x(R,!0)}}};return L}}function zM(i,e,t,n){function s(o,...l){let u=e(o);return typeof u>"u"&&n&&(u=t()),i(u,...l)}return s.unwrapped=i,s}var vh=BM();function UM(){function i(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:i}}function HM({type:i,reducerName:e,createNotation:t},n,s){let o,l;if("reducer"in n){if(t&&!VM(n))throw new Error(Dr(17));o=n.reducer,l=n.prepare}else o=n;s.addCase(i,o).exposeCaseReducer(e,o).exposeAction(e,l?ac(i,l):ac(i))}function $M(i){return i._reducerDefinitionType==="asyncThunk"}function VM(i){return i._reducerDefinitionType==="reducerWithPrepare"}function GM({type:i,reducerName:e},t,n,s){if(!s)throw new Error(Dr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=t,g=s(i,o,p);n.exposeAction(e,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(e,{fulfilled:l||md,pending:u||md,rejected:d||md,settled:f||md})}function md(){}function Dr(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const Zs="SEV",Wm="https://metriclog.chemicia.cl/metriclog-service",qM="https://api.fxratesapi.com",YM={isAuthenticated:localStorage.getItem(`${Zs}-isAuthenticated`)==="true",authorization:JSON.parse(localStorage.getItem(`${Zs}-authorization`)||"null")},K1=vh({name:"auth",initialState:YM,reducers:{setIsAuthenticated(i,e){i.isAuthenticated=e.payload,localStorage.setItem(`${Zs}-isAuthenticated`,String(e.payload))},setAuthorization(i,e){console.log(e),i.authorization=e.payload,e.payload?localStorage.setItem(`${Zs}-authorization`,JSON.stringify(e.payload)):localStorage.removeItem(`${Zs}-authorization`)},logout(i){i.isAuthenticated=!1,i.authorization=null,localStorage.removeItem(`${Zs}-isAuthenticated`),localStorage.removeItem(`${Zs}-authorization`)}}}),{setIsAuthenticated:XM,setAuthorization:KM,logout:UB}=K1.actions,WM=K1.reducer,W1=N.createContext({isAuthenticated:!1,setIsAuthenticated:()=>{},authorization:null,setAuthorization:()=>{}}),QM=({children:i})=>{const e=ph(),t=Mn(l=>l.auth.isAuthenticated),n=Mn(l=>l.auth.authorization),s=l=>{e(XM(l))},o=l=>{e(KM(l))};return T.jsx(W1.Provider,{value:{isAuthenticated:t,setIsAuthenticated:s,authorization:n,setAuthorization:o},children:i})},ZM=()=>N.useContext(W1),JM=()=>T.jsx("main",{className:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-base font-semibold textbg-[var(--button-selected-primary)]",children:"404"}),T.jsx("h1",{className:"mt-4 text-5xl font-semibold tracking-tight text-balance text-gray-900 sm:text-7xl",children:"Page not found"}),T.jsx("p",{className:"mt-6 text-lg font-medium text-pretty text-gray-500 sm:text-xl/8",children:"Sorry, we couldnt find the page youre looking for."}),T.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:T.jsx("button",{onClick:()=>window.location.href="/",className:"rounded-md bg-[var(--primary)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-blue-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Go back home"})})]})});var In={},Ul={},lw;function eO(){if(lw)return Ul;lw=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parseLengthAndUnit=e,Ul.cssValue=t;var i={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(n){if(typeof n=="number")return{value:n,unit:"px"};var s,o=(n.match(/^[0-9.]*/)||"").toString();o.includes(".")?s=parseFloat(o):s=parseInt(o,10);var l=(n.match(/[^0-9]*$/)||"").toString();return i[l]?{value:s,unit:l}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(s,"px.")),{value:s,unit:"px"})}function t(n){var s=e(n);return"".concat(s.value).concat(s.unit)}return Ul}var Hl={},cw;function tO(){if(cw)return Hl;cw=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.createAnimation=void 0;var i=function(e,t,n){var s="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return s;var o=document.createElement("style");document.head.appendChild(o);var l=o.sheet,u=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return l&&l.insertRule(u,0),s};return Hl.createAnimation=i,Hl}var uw;function nO(){if(uw)return In;uw=1;var i=In&&In.__assign||function(){return i=Object.assign||function(g){for(var y,S=1,v=arguments.length;S<v;S++){y=arguments[S];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(g[w]=y[w])}return g},i.apply(this,arguments)},e=In&&In.__createBinding||(Object.create?function(g,y,S,v){v===void 0&&(v=S);var w=Object.getOwnPropertyDescriptor(y,S);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(g,v,w)}:function(g,y,S,v){v===void 0&&(v=S),g[v]=y[S]}),t=In&&In.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),n=In&&In.__importStar||function(){var g=function(y){return g=Object.getOwnPropertyNames||function(S){var v=[];for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(v[v.length]=w);return v},g(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var v=g(y),w=0;w<v.length;w++)v[w]!=="default"&&e(S,y,v[w]);return t(S,y),S}}(),s=In&&In.__rest||function(g,y){var S={};for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&y.indexOf(v)<0&&(S[v]=g[v]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,v=Object.getOwnPropertySymbols(g);w<v.length;w++)y.indexOf(v[w])<0&&Object.prototype.propertyIsEnumerable.call(g,v[w])&&(S[v[w]]=g[v[w]]);return S};Object.defineProperty(In,"__esModule",{value:!0});var o=n(Mc()),l=eO(),u=tO(),d=(0,u.createAnimation)("DotLoader","100% {transform: rotate(360deg)}","rotate"),f=(0,u.createAnimation)("DotLoader","0%, 100% {transform: scale(0)} 50% {transform: scale(1.0)}","bounce");function p(g){var y=g.loading,S=y===void 0?!0:y,v=g.color,w=v===void 0?"#000000":v,A=g.speedMultiplier,x=A===void 0?1:A,L=g.cssOverride,_=L===void 0?{}:L,O=g.size,M=O===void 0?60:O,R=s(g,["loading","color","speedMultiplier","cssOverride","size"]),P=i({display:"inherit",position:"relative",width:(0,l.cssValue)(M),height:(0,l.cssValue)(M),animationFillMode:"forwards",animation:"".concat(d," ").concat(2/x,"s 0s infinite linear")},_),B=function(U){var C=(0,l.parseLengthAndUnit)(M),V=C.value,ae=C.unit;return{position:"absolute",top:U%2?"0":"auto",bottom:U%2?"auto":"0",height:"".concat(V/2).concat(ae),width:"".concat(V/2).concat(ae),backgroundColor:w,borderRadius:"100%",animationFillMode:"forwards",animation:"".concat(f," ").concat(2/x,"s ").concat(U===2?"1s":"0s"," infinite linear")}};return S?o.createElement("span",i({style:P},R),o.createElement("span",{style:B(1)}),o.createElement("span",{style:B(2)})):null}return In.default=p,In}var iO=nO();const yc=ch(iO),rO=async i=>{switch(await new Promise(e=>setTimeout(e,500)),i){case 1:return{uid:"asdasd-asfasf-asf-afaasf",name:"Alejandro Snchez",email:"asanchezf1998@gmail.com",phone:"--",c_id:1,company:"Chemic-AI",position:"CTIO",created_at:"2025-06-29"};case 2:return{uid:"fasfasf-asf-asfasf-",name:"Departamento ID",email:"departamento.id@chemic-ai.com",phone:"--",c_id:1,company:"Chemic-AI",position:"Developer",created_at:"2025-06-29"};default:return}},sO={person:null},Q1=vh({name:"person",initialState:sO,reducers:{setPerson:(i,e)=>{i.person=e.payload},clearPerson:i=>{i.person=null}}}),{setPerson:aO,clearPerson:HB}=Q1.actions,oO=Q1.reducer,lO=()=>{const{authorization:i}=ZM(),[e,t]=N.useState(!0),n=lr();return N.useEffect(()=>{(async()=>{if(i){if(console.log(e),t(!0),!i?.user_id){t(!1);return}rO(i.user_id).then(o=>{o&&n(aO(o))}).catch(o=>{throw new Error(o)}).finally(()=>t(!1)),console.log(e),t(!1)}})(),t(!1)},[]),{loading:e}},cO="/assets/header_md-DD0nB-Ob.svg",uO="/assets/header_lg-DN2pwD2Y.svg";function dO(){const i=No();return N.useEffect(()=>{},[]),{goToCart:async()=>{console.log("GO To HOME"),i("/cart")},goToHome:async()=>{console.log("GO To HOME"),i("/")},onLogIn:async()=>{console.log("LogIN")},onSignIn:async()=>{console.log("SignIN")}}}function hO({onLogIn:i,onSignIn:e}){return T.jsx("div",{className:"flex justify-center flex-row w-1/6 h-full px-2 ",children:T.jsxs("div",{className:"w-full h-full flex justify-center items-center ",children:[T.jsx("button",{onClick:i,className:"w-1/2 h-2/3 text-[var(--on-primary)] hover:opacity-75 rounded-2xl",children:"Acceder"}),T.jsx("button",{onClick:e,className:"w-1/2 h-2/3 bg-[var(--secondary)] text-[var(--on-secondary)] hover:opacity-75 rounded-2xl",children:"Registrarse"})]})})}function fO(){const i=No();return T.jsxs("div",{className:"flex items-center justify-start w-8/12 h-full",children:[T.jsx("div",{className:"w-1/6  h-full items-center flex",children:T.jsx("button",{onClick:()=>{i("/ves")},className:"w-full h-2/3 text-[var(--on-primary)] font-semibold hover:opacity-75 rounded-2xl",children:"Sondeo Elctrico Vertical"})}),T.jsx("div",{className:"w-1/6  h-full items-center flex bor",children:T.jsx("button",{onClick:()=>{},className:"w-full h-2/3 text-[var(--on-primary)] font-semibold hover:opacity-75 rounded-2xl",children:"Puesta a Tierra"})})]})}const dw=i=>i,pO=()=>{let i=dw;return{configure(e){i=e},generate(e){return i(e)},reset(){i=dw}}},gO=pO();function da(i,...e){const t=new URL(`https://mui.com/production-error/?code=${i}`);return e.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${i}; visit ${t} for the full message.`}function wi(i){if(typeof i!="string")throw new Error(da(7));return i.charAt(0).toUpperCase()+i.slice(1)}function hw(...i){return i.reduce((e,t)=>t==null?e:function(...s){e.apply(this,s),t.apply(this,s)},()=>{})}function Z1(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(t=Z1(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function ai(){for(var i,e,t=0,n="",s=arguments.length;t<s;t++)(i=arguments[t])&&(e=Z1(i))&&(n&&(n+=" "),n+=e);return n}function Lc(i,e,t=void 0){const n={};for(const s in i){const o=i[s];let l="",u=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}n[s]=l}return n}var bg={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function mO(){if(fw)return dt;fw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case i:switch(w=w.type,w){case t:case s:case n:case d:case f:case y:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case g:case p:return w;case o:return w;default:return A}}case e:return A}}}return dt.ContextConsumer=o,dt.ContextProvider=l,dt.Element=i,dt.ForwardRef=u,dt.Fragment=t,dt.Lazy=g,dt.Memo=p,dt.Portal=e,dt.Profiler=s,dt.StrictMode=n,dt.Suspense=d,dt.SuspenseList=f,dt.isContextConsumer=function(w){return v(w)===o},dt.isContextProvider=function(w){return v(w)===l},dt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===i},dt.isForwardRef=function(w){return v(w)===u},dt.isFragment=function(w){return v(w)===t},dt.isLazy=function(w){return v(w)===g},dt.isMemo=function(w){return v(w)===p},dt.isPortal=function(w){return v(w)===e},dt.isProfiler=function(w){return v(w)===s},dt.isStrictMode=function(w){return v(w)===n},dt.isSuspense=function(w){return v(w)===d},dt.isSuspenseList=function(w){return v(w)===f},dt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===s||w===n||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===l||w.$$typeof===o||w.$$typeof===u||w.$$typeof===S||w.getModuleId!==void 0)},dt.typeOf=v,dt}var pw;function yO(){return pw||(pw=1,bg.exports=mO()),bg.exports}var J1=yO();function Mr(i){if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function eA(i){if(N.isValidElement(i)||J1.isValidElementType(i)||!Mr(i))return i;const e={};return Object.keys(i).forEach(t=>{e[t]=eA(i[t])}),e}function ni(i,e,t={clone:!0}){const n=t.clone?{...i}:i;return Mr(i)&&Mr(e)&&Object.keys(e).forEach(s=>{N.isValidElement(e[s])||J1.isValidElementType(e[s])?n[s]=e[s]:Mr(e[s])&&Object.prototype.hasOwnProperty.call(i,s)&&Mr(i[s])?n[s]=ni(i[s],e[s],t):t.clone?n[s]=Mr(e[s])?eA(e[s]):e[s]:n[s]=e[s]}),n}function oc(i,e){return e?ni(i,e,{clone:!1}):i}function bO(i,e){if(!i.containerQueries)return e;const t=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,s)=>{const o=/min-width:\s*([0-9.]+)/;return+(n.match(o)?.[1]||0)-+(s.match(o)?.[1]||0)});return t.length?t.reduce((n,s)=>{const o=e[s];return delete n[s],n[s]=o,n},{...e}):e}function vO(i,e){return e==="@"||e.startsWith("@")&&(i.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function SO(i,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,n,s]=t,o=Number.isNaN(+n)?n||0:+n;return i.containerQueries(s).up(o)}function wO(i){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...u)=>e(i.breakpoints.up(...u),l),o.down=(...u)=>e(i.breakpoints.down(...u),l),o.between=(...u)=>e(i.breakpoints.between(...u),l),o.only=(...u)=>e(i.breakpoints.only(...u),l),o.not=(...u)=>{const d=e(i.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const n={},s=o=>(t(n,o),n);return t(s),{...i,containerQueries:s}}const Sh={xs:0,sm:600,md:900,lg:1200,xl:1536},gw={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${Sh[i]}px)`},xO={containerQueries:i=>({up:e=>{let t=typeof e=="number"?e:Sh[e]||e;return typeof t=="number"&&(t=`${t}px`),i?`@container ${i} (min-width:${t})`:`@container (min-width:${t})`}})};function Nr(i,e,t){const n=i.theme||{};if(Array.isArray(e)){const o=n.breakpoints||gw;return e.reduce((l,u,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=n.breakpoints||gw;return Object.keys(e).reduce((l,u)=>{if(vO(o.keys,u)){const d=SO(n.containerQueries?n:xO,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(o.values||Sh).includes(u)){const d=o.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function AO(i={}){return i.keys?.reduce((t,n)=>{const s=i.up(n);return t[s]={},t},{})||{}}function EO(i,e){return i.reduce((t,n)=>{const s=t[n];return(!s||Object.keys(s).length===0)&&delete t[n],t},e)}function wh(i,e,t=!0){if(!e||typeof e!="string")return null;if(i&&i.vars&&t){const n=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,i);if(n!=null)return n}return e.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,i)}function Jd(i,e,t,n=t){let s;return typeof i=="function"?s=i(t):Array.isArray(i)?s=i[t]||n:s=wh(i,t)||n,e&&(s=e(s,n,i)),s}function Vt(i){const{prop:e,cssProperty:t=i.prop,themeKey:n,transform:s}=i,o=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=wh(d,n)||{};return Nr(l,u,g=>{let y=Jd(f,s,g);return g===y&&typeof g=="string"&&(y=Jd(f,s,`${e}${g==="default"?"":wi(g)}`,g)),t===!1?y:{[t]:y}})};return o.propTypes={},o.filterProps=[e],o}function _O(i){const e={};return t=>(e[t]===void 0&&(e[t]=i(t)),e[t])}const CO={m:"margin",p:"padding"},TO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},RO=_O(i=>{if(i.length>2)if(mw[i])i=mw[i];else return[i];const[e,t]=i.split(""),n=CO[e],s=TO[t]||"";return Array.isArray(s)?s.map(o=>n+o):[n+s]}),Qm=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Zm=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qm,...Zm];function Nc(i,e,t,n){const s=wh(i,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),u=s[l];return o>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof s=="function"?s:()=>{}}function Jm(i){return Nc(i,"spacing",8)}function kc(i,e){return typeof e=="string"||e==null?e:i(e)}function MO(i,e){return t=>i.reduce((n,s)=>(n[s]=kc(e,t),n),{})}function OO(i,e,t,n){if(!e.includes(t))return null;const s=RO(t),o=MO(s,n),l=i[t];return Nr(i,l,o)}function tA(i,e){const t=Jm(i.theme);return Object.keys(i).map(n=>OO(i,e,n,t)).reduce(oc,{})}function kt(i){return tA(i,Qm)}kt.propTypes={};kt.filterProps=Qm;function Pt(i){return tA(i,Zm)}Pt.propTypes={};Pt.filterProps=Zm;function xh(...i){const e=i.reduce((n,s)=>(s.filterProps.forEach(o=>{n[o]=s}),n),{}),t=n=>Object.keys(n).reduce((s,o)=>e[o]?oc(s,e[o](n)):s,{});return t.propTypes={},t.filterProps=i.reduce((n,s)=>n.concat(s.filterProps),[]),t}function Si(i){return typeof i!="number"?i:`${i}px solid`}function Ei(i,e){return Vt({prop:i,themeKey:"borders",transform:e})}const DO=Ei("border",Si),LO=Ei("borderTop",Si),NO=Ei("borderRight",Si),kO=Ei("borderBottom",Si),PO=Ei("borderLeft",Si),jO=Ei("borderColor"),IO=Ei("borderTopColor"),FO=Ei("borderRightColor"),BO=Ei("borderBottomColor"),zO=Ei("borderLeftColor"),UO=Ei("outline",Si),HO=Ei("outlineColor"),Ah=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const e=Nc(i.theme,"shape.borderRadius",4),t=n=>({borderRadius:kc(e,n)});return Nr(i,i.borderRadius,t)}return null};Ah.propTypes={};Ah.filterProps=["borderRadius"];xh(DO,LO,NO,kO,PO,jO,IO,FO,BO,zO,Ah,UO,HO);const Eh=i=>{if(i.gap!==void 0&&i.gap!==null){const e=Nc(i.theme,"spacing",8),t=n=>({gap:kc(e,n)});return Nr(i,i.gap,t)}return null};Eh.propTypes={};Eh.filterProps=["gap"];const _h=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const e=Nc(i.theme,"spacing",8),t=n=>({columnGap:kc(e,n)});return Nr(i,i.columnGap,t)}return null};_h.propTypes={};_h.filterProps=["columnGap"];const Ch=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const e=Nc(i.theme,"spacing",8),t=n=>({rowGap:kc(e,n)});return Nr(i,i.rowGap,t)}return null};Ch.propTypes={};Ch.filterProps=["rowGap"];const $O=Vt({prop:"gridColumn"}),VO=Vt({prop:"gridRow"}),GO=Vt({prop:"gridAutoFlow"}),qO=Vt({prop:"gridAutoColumns"}),YO=Vt({prop:"gridAutoRows"}),XO=Vt({prop:"gridTemplateColumns"}),KO=Vt({prop:"gridTemplateRows"}),WO=Vt({prop:"gridTemplateAreas"}),QO=Vt({prop:"gridArea"});xh(Eh,_h,Ch,$O,VO,GO,qO,YO,XO,KO,WO,QO);function So(i,e){return e==="grey"?e:i}const ZO=Vt({prop:"color",themeKey:"palette",transform:So}),JO=Vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:So}),eD=Vt({prop:"backgroundColor",themeKey:"palette",transform:So});xh(ZO,JO,eD);function ti(i){return i<=1&&i!==0?`${i*100}%`:i}const tD=Vt({prop:"width",transform:ti}),ey=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const e=t=>{const n=i.theme?.breakpoints?.values?.[t]||Sh[t];return n?i.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${i.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ti(t)}};return Nr(i,i.maxWidth,e)}return null};ey.filterProps=["maxWidth"];const nD=Vt({prop:"minWidth",transform:ti}),iD=Vt({prop:"height",transform:ti}),rD=Vt({prop:"maxHeight",transform:ti}),sD=Vt({prop:"minHeight",transform:ti});Vt({prop:"size",cssProperty:"width",transform:ti});Vt({prop:"size",cssProperty:"height",transform:ti});const aD=Vt({prop:"boxSizing"});xh(tD,ey,nD,iD,rD,sD,aD);const Th={border:{themeKey:"borders",transform:Si},borderTop:{themeKey:"borders",transform:Si},borderRight:{themeKey:"borders",transform:Si},borderBottom:{themeKey:"borders",transform:Si},borderLeft:{themeKey:"borders",transform:Si},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Si},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ah},color:{themeKey:"palette",transform:So},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:So},backgroundColor:{themeKey:"palette",transform:So},p:{style:Pt},pt:{style:Pt},pr:{style:Pt},pb:{style:Pt},pl:{style:Pt},px:{style:Pt},py:{style:Pt},padding:{style:Pt},paddingTop:{style:Pt},paddingRight:{style:Pt},paddingBottom:{style:Pt},paddingLeft:{style:Pt},paddingX:{style:Pt},paddingY:{style:Pt},paddingInline:{style:Pt},paddingInlineStart:{style:Pt},paddingInlineEnd:{style:Pt},paddingBlock:{style:Pt},paddingBlockStart:{style:Pt},paddingBlockEnd:{style:Pt},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Eh},rowGap:{style:Ch},columnGap:{style:_h},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ti},maxWidth:{style:ey},minWidth:{transform:ti},height:{transform:ti},maxHeight:{transform:ti},minHeight:{transform:ti},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function oD(...i){const e=i.reduce((n,s)=>n.concat(Object.keys(s)),[]),t=new Set(e);return i.every(n=>t.size===Object.keys(n).length)}function lD(i,e){return typeof i=="function"?i(e):i}function cD(){function i(t,n,s,o){const l={[t]:n,theme:s},u=o[t];if(!u)return{[t]:n};const{cssProperty:d=t,themeKey:f,transform:p,style:g}=u;if(n==null)return null;if(f==="typography"&&n==="inherit")return{[t]:n};const y=wh(s,f)||{};return g?g(l):Nr(l,n,v=>{let w=Jd(y,p,v);return v===w&&typeof v=="string"&&(w=Jd(y,p,`${t}${v==="default"?"":wi(v)}`,v)),d===!1?w:{[d]:w}})}function e(t){const{sx:n,theme:s={}}=t||{};if(!n)return null;const o=s.unstable_sxConfig??Th;function l(u){let d=u;if(typeof u=="function")d=u(s);else if(typeof u!="object")return u;if(!d)return null;const f=AO(s.breakpoints),p=Object.keys(f);let g=f;return Object.keys(d).forEach(y=>{const S=lD(d[y],s);if(S!=null)if(typeof S=="object")if(o[y])g=oc(g,i(y,S,s,o));else{const v=Nr({theme:s},S,w=>({[y]:w}));oD(v,S)?g[y]=e({sx:S,theme:s}):g=oc(g,v)}else g=oc(g,i(y,S,s,o))}),bO(s,EO(p,g))}return Array.isArray(n)?n.map(l):l(n)}return e}const To=cD();To.filterProps=["sx"];function em(){return em=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},em.apply(null,arguments)}function uD(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function dD(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hD=function(){function i(t){var n=this;this._insertTag=function(s){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,o),n.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dD(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=uD(s);try{o.insertRule(n,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},i}(),Sn="-ms-",eh="-moz-",rt="-webkit-",nA="comm",ty="rule",ny="decl",fD="@import",iA="@keyframes",pD="@layer",gD=Math.abs,Rh=String.fromCharCode,mD=Object.assign;function yD(i,e){return gn(i,0)^45?(((e<<2^gn(i,0))<<2^gn(i,1))<<2^gn(i,2))<<2^gn(i,3):0}function rA(i){return i.trim()}function bD(i,e){return(i=e.exec(i))?i[0]:i}function st(i,e,t){return i.replace(e,t)}function tm(i,e){return i.indexOf(e)}function gn(i,e){return i.charCodeAt(e)|0}function bc(i,e,t){return i.slice(e,t)}function tr(i){return i.length}function iy(i){return i.length}function yd(i,e){return e.push(i),i}function vD(i,e){return i.map(e).join("")}var Mh=1,Ro=1,sA=0,Hn=0,Kt=0,ko="";function Oh(i,e,t,n,s,o,l){return{value:i,root:e,parent:t,type:n,props:s,children:o,line:Mh,column:Ro,length:l,return:""}}function $l(i,e){return mD(Oh("",null,null,"",null,null,0),i,{length:-i.length},e)}function SD(){return Kt}function wD(){return Kt=Hn>0?gn(ko,--Hn):0,Ro--,Kt===10&&(Ro=1,Mh--),Kt}function ii(){return Kt=Hn<sA?gn(ko,Hn++):0,Ro++,Kt===10&&(Ro=1,Mh++),Kt}function ar(){return gn(ko,Hn)}function kd(){return Hn}function Pc(i,e){return bc(ko,i,e)}function vc(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aA(i){return Mh=Ro=1,sA=tr(ko=i),Hn=0,[]}function oA(i){return ko="",i}function Pd(i){return rA(Pc(Hn-1,nm(i===91?i+2:i===40?i+1:i)))}function xD(i){for(;(Kt=ar())&&Kt<33;)ii();return vc(i)>2||vc(Kt)>3?"":" "}function AD(i,e){for(;--e&&ii()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return Pc(i,kd()+(e<6&&ar()==32&&ii()==32))}function nm(i){for(;ii();)switch(Kt){case i:return Hn;case 34:case 39:i!==34&&i!==39&&nm(Kt);break;case 40:i===41&&nm(i);break;case 92:ii();break}return Hn}function ED(i,e){for(;ii()&&i+Kt!==57;)if(i+Kt===84&&ar()===47)break;return"/*"+Pc(e,Hn-1)+"*"+Rh(i===47?i:ii())}function _D(i){for(;!vc(ar());)ii();return Pc(i,Hn)}function CD(i){return oA(jd("",null,null,null,[""],i=aA(i),0,[0],i))}function jd(i,e,t,n,s,o,l,u,d){for(var f=0,p=0,g=l,y=0,S=0,v=0,w=1,A=1,x=1,L=0,_="",O=s,M=o,R=n,P=_;A;)switch(v=L,L=ii()){case 40:if(v!=108&&gn(P,g-1)==58){tm(P+=st(Pd(L),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Pd(L);break;case 9:case 10:case 13:case 32:P+=xD(v);break;case 92:P+=AD(kd()-1,7);continue;case 47:switch(ar()){case 42:case 47:yd(TD(ED(ii(),kd()),e,t),d);break;default:P+="/"}break;case 123*w:u[f++]=tr(P)*x;case 125*w:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+p:x==-1&&(P=st(P,/\f/g,"")),S>0&&tr(P)-g&&yd(S>32?bw(P+";",n,t,g-1):bw(st(P," ","")+";",n,t,g-2),d);break;case 59:P+=";";default:if(yd(R=yw(P,e,t,f,p,s,u,_,O=[],M=[],g),o),L===123)if(p===0)jd(P,e,R,R,O,o,g,u,M);else switch(y===99&&gn(P,3)===110?100:y){case 100:case 108:case 109:case 115:jd(i,R,R,n&&yd(yw(i,R,R,0,0,s,u,_,s,O=[],g),M),s,M,g,u,n?O:M);break;default:jd(P,R,R,R,[""],M,0,u,M)}}f=p=S=0,w=x=1,_=P="",g=l;break;case 58:g=1+tr(P),S=v;default:if(w<1){if(L==123)--w;else if(L==125&&w++==0&&wD()==125)continue}switch(P+=Rh(L),L*w){case 38:x=p>0?1:(P+="\f",-1);break;case 44:u[f++]=(tr(P)-1)*x,x=1;break;case 64:ar()===45&&(P+=Pd(ii())),y=ar(),p=g=tr(_=P+=_D(kd())),L++;break;case 45:v===45&&tr(P)==2&&(w=0)}}return o}function yw(i,e,t,n,s,o,l,u,d,f,p){for(var g=s-1,y=s===0?o:[""],S=iy(y),v=0,w=0,A=0;v<n;++v)for(var x=0,L=bc(i,g+1,g=gD(w=l[v])),_=i;x<S;++x)(_=rA(w>0?y[x]+" "+L:st(L,/&\f/g,y[x])))&&(d[A++]=_);return Oh(i,e,t,s===0?ty:u,d,f,p)}function TD(i,e,t){return Oh(i,e,t,nA,Rh(SD()),bc(i,2,-2),0)}function bw(i,e,t,n){return Oh(i,e,t,ny,bc(i,0,n),bc(i,n+1,-1),n)}function wo(i,e){for(var t="",n=iy(i),s=0;s<n;s++)t+=e(i[s],s,i,e)||"";return t}function RD(i,e,t,n){switch(i.type){case pD:if(i.children.length)break;case fD:case ny:return i.return=i.return||i.value;case nA:return"";case iA:return i.return=i.value+"{"+wo(i.children,n)+"}";case ty:i.value=i.props.join(",")}return tr(t=wo(i.children,n))?i.return=i.value+"{"+t+"}":""}function MD(i){var e=iy(i);return function(t,n,s,o){for(var l="",u=0;u<e;u++)l+=i[u](t,n,s,o)||"";return l}}function OD(i){return function(e){e.root||(e=e.return)&&i(e)}}function lA(i){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=i(t)),e[t]}}var DD=function(e,t,n){for(var s=0,o=0;s=o,o=ar(),s===38&&o===12&&(t[n]=1),!vc(o);)ii();return Pc(e,Hn)},LD=function(e,t){var n=-1,s=44;do switch(vc(s)){case 0:s===38&&ar()===12&&(t[n]=1),e[n]+=DD(Hn-1,t,n);break;case 2:e[n]+=Pd(s);break;case 4:if(s===44){e[++n]=ar()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Rh(s)}while(s=ii());return e},ND=function(e,t){return oA(LD(aA(e),t))},vw=new WeakMap,kD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!vw.get(n))&&!s){vw.set(e,!0);for(var o=[],l=ND(t,o),u=n.props,d=0,f=0;d<l.length;d++)for(var p=0;p<u.length;p++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,u[p]):u[p]+" "+l[d]}}},PD=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function cA(i,e){switch(yD(i,e)){case 5103:return rt+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+i+eh+i+Sn+i+i;case 6828:case 4268:return rt+i+Sn+i+i;case 6165:return rt+i+Sn+"flex-"+i+i;case 5187:return rt+i+st(i,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Sn+"flex-$1$2")+i;case 5443:return rt+i+Sn+"flex-item-"+st(i,/flex-|-self/,"")+i;case 4675:return rt+i+Sn+"flex-line-pack"+st(i,/align-content|flex-|-self/,"")+i;case 5548:return rt+i+Sn+st(i,"shrink","negative")+i;case 5292:return rt+i+Sn+st(i,"basis","preferred-size")+i;case 6060:return rt+"box-"+st(i,"-grow","")+rt+i+Sn+st(i,"grow","positive")+i;case 4554:return rt+st(i,/([^-])(transform)/g,"$1"+rt+"$2")+i;case 6187:return st(st(st(i,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),i,"")+i;case 5495:case 3959:return st(i,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return st(st(i,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+i+i;case 4095:case 3583:case 4068:case 2532:return st(i,/(.+)-inline(.+)/,rt+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(i)-1-e>6)switch(gn(i,e+1)){case 109:if(gn(i,e+4)!==45)break;case 102:return st(i,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+eh+(gn(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~tm(i,"stretch")?cA(st(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(gn(i,e+1)!==115)break;case 6444:switch(gn(i,tr(i)-3-(~tm(i,"!important")&&10))){case 107:return st(i,":",":"+rt)+i;case 101:return st(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(gn(i,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Sn+"$2box$3")+i}break;case 5936:switch(gn(i,e+11)){case 114:return rt+i+Sn+st(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return rt+i+Sn+st(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return rt+i+Sn+st(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return rt+i+Sn+i+i}return i}var jD=function(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case ny:e.return=cA(e.value,e.length);break;case iA:return wo([$l(e,{value:st(e.value,"@","@"+rt)})],s);case ty:if(e.length)return vD(e.props,function(o){switch(bD(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wo([$l(e,{props:[st(o,/:(read-\w+)/,":"+eh+"$1")]})],s);case"::placeholder":return wo([$l(e,{props:[st(o,/:(plac\w+)/,":"+rt+"input-$1")]}),$l(e,{props:[st(o,/:(plac\w+)/,":"+eh+"$1")]}),$l(e,{props:[st(o,/:(plac\w+)/,Sn+"input-$1")]})],s)}return""})}},ID=[jD],FD=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var A=w.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||ID,o={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var A=w.getAttribute("data-emotion").split(" "),x=1;x<A.length;x++)o[A[x]]=!0;u.push(w)});var d,f=[kD,PD];{var p,g=[RD,OD(function(w){p.insert(w)})],y=MD(f.concat(s,g)),S=function(A){return wo(CD(A),y)};d=function(A,x,L,_){p=L,S(A?A+"{"+x.styles+"}":x.styles),_&&(v.inserted[x.name]=!0)}}var v={key:t,sheet:new hD({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return v.sheet.hydrate(u),v},BD=!0;function zD(i,e,t){var n="";return t.split(" ").forEach(function(s){i[s]!==void 0?e.push(i[s]+";"):s&&(n+=s+" ")}),n}var uA=function(e,t,n){var s=e.key+"-"+t.name;(n===!1||BD===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},UD=function(e,t,n){uA(e,t,n);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function HD(i){for(var e=0,t,n=0,s=i.length;s>=4;++n,s-=4)t=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(i.charCodeAt(n+2)&255)<<16;case 2:e^=(i.charCodeAt(n+1)&255)<<8;case 1:e^=i.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $D={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VD=/[A-Z]|^ms/g,GD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dA=function(e){return e.charCodeAt(1)===45},Sw=function(e){return e!=null&&typeof e!="boolean"},vg=lA(function(i){return dA(i)?i:i.replace(VD,"-$&").toLowerCase()}),ww=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(GD,function(n,s,o){return nr={name:s,styles:o,next:nr},s})}return $D[e]!==1&&!dA(e)&&typeof t=="number"&&t!==0?t+"px":t};function Sc(i,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return nr={name:s.name,styles:s.styles,next:nr},s.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)nr={name:l.name,styles:l.styles,next:nr},l=l.next;var u=o.styles+";";return u}return qD(i,e,t)}case"function":{if(i!==void 0){var d=nr,f=t(i);return nr=d,Sc(i,e,f)}break}}var p=t;if(e==null)return p;var g=e[p];return g!==void 0?g:p}function qD(i,e,t){var n="";if(Array.isArray(t))for(var s=0;s<t.length;s++)n+=Sc(i,e,t[s])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?n+=o+"{"+e[u]+"}":Sw(u)&&(n+=vg(o)+":"+ww(o,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)Sw(l[d])&&(n+=vg(o)+":"+ww(o,l[d])+";");else{var f=Sc(i,e,l);switch(o){case"animation":case"animationName":{n+=vg(o)+":"+f+";";break}default:n+=o+"{"+f+"}"}}}return n}var xw=/label:\s*([^\s;{]+)\s*(;|$)/g,nr;function hA(i,e,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,s="";nr=void 0;var o=i[0];if(o==null||o.raw===void 0)n=!1,s+=Sc(t,e,o);else{var l=o;s+=l[0]}for(var u=1;u<i.length;u++)if(s+=Sc(t,e,i[u]),n){var d=o;s+=d[u]}xw.lastIndex=0;for(var f="",p;(p=xw.exec(s))!==null;)f+="-"+p[1];var g=HD(s)+f;return{name:g,styles:s,next:nr}}var YD=function(e){return e()},XD=Hg.useInsertionEffect?Hg.useInsertionEffect:!1,KD=XD||YD,fA=N.createContext(typeof HTMLElement<"u"?FD({key:"css"}):null);fA.Provider;var WD=function(e){return N.forwardRef(function(t,n){var s=N.useContext(fA);return e(t,s,n)})},pA=N.createContext({}),QD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZD=lA(function(i){return QD.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),JD=ZD,eL=function(e){return e!=="theme"},Aw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JD:eL},Ew=function(e,t,n){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},tL=function(e){var t=e.cache,n=e.serialized,s=e.isStringTag;return uA(t,n,s),KD(function(){return UD(t,n,s)}),null},nL=function i(e,t){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var u=Ew(e,t,n),d=u||Aw(s),f=!d("as");return function(){var p=arguments,g=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var y=p[0];g.push(y[0]);for(var S=p.length,v=1;v<S;v++)g.push(p[v],y[v])}var w=WD(function(A,x,L){var _=f&&A.as||s,O="",M=[],R=A;if(A.theme==null){R={};for(var P in A)R[P]=A[P];R.theme=N.useContext(pA)}typeof A.className=="string"?O=zD(x.registered,M,A.className):A.className!=null&&(O=A.className+" ");var B=hA(g.concat(M),x.registered,R);O+=x.key+"-"+B.name,l!==void 0&&(O+=" "+l);var U=f&&u===void 0?Aw(_):d,C={};for(var V in A)f&&V==="as"||U(V)&&(C[V]=A[V]);return C.className=O,L&&(C.ref=L),N.createElement(N.Fragment,null,N.createElement(tL,{cache:x,serialized:B,isStringTag:typeof _=="string"}),N.createElement(_,C))});return w.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=g,w.__emotion_forwardProp=u,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(A,x){var L=i(A,em({},t,x,{shouldForwardProp:Ew(w,x,!0)}));return L.apply(void 0,g)},w}},iL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],im=nL.bind(null);iL.forEach(function(i){im[i]=im(i)});function rL(i,e){return im(i,e)}function sL(i,e){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=e(i.__emotion_styles))}const _w=[];function Cw(i){return _w[0]=i,hA(_w)}const aL=i=>{const e=Object.keys(i).map(t=>({key:t,val:i[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function oL(i){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...s}=i,o=aL(e),l=Object.keys(o);function u(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function d(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-n/100}${t})`}function f(y,S){const v=l.indexOf(S);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(v!==-1&&typeof e[l[v]]=="number"?e[l[v]]:S)-n/100}${t})`}function p(y){return l.indexOf(y)+1<l.length?f(y,l[l.indexOf(y)+1]):u(y)}function g(y){const S=l.indexOf(y);return S===0?u(l[1]):S===l.length-1?d(l[S]):f(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:u,down:d,between:f,only:p,not:g,unit:t,...s}}const lL={borderRadius:4};function gA(i=8,e=Jm({spacing:i})){if(i.mui)return i;const t=(...n)=>(n.length===0?[1]:n).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function cL(i,e){const t=this;if(t.vars){if(!t.colorSchemes?.[i]||typeof t.getColorSchemeSelector!="function")return{};let n=t.getColorSchemeSelector(i);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return t.palette.mode===i?e:{}}function ry(i={},...e){const{breakpoints:t={},palette:n={},spacing:s,shape:o={},...l}=i,u=oL(t),d=gA(s);let f=ni({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:d,shape:{...lL,...o}},l);return f=wO(f),f.applyStyles=cL,f=e.reduce((p,g)=>ni(p,g),f),f.unstable_sxConfig={...Th,...l?.unstable_sxConfig},f.unstable_sx=function(g){return To({sx:g,theme:this})},f}function uL(i){return Object.keys(i).length===0}function dL(i=null){const e=N.useContext(pA);return!e||uL(e)?i:e}const hL=ry();function fL(i=hL){return dL(i)}const pL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Po(i,e,t="Mui"){const n=pL[e];return n?`${t}-${n}`:`${gO.generate(i)}-${e}`}function jc(i,e,t="Mui"){const n={};return e.forEach(s=>{n[s]=Po(i,s,t)}),n}function mA(i){const{variants:e,...t}=i,n={variants:e,style:Cw(t),isProcessed:!0};return n.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=Cw(s.style))}),n}const gL=ry();function Sg(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function mL(i){return i?(e,t)=>t[i]:null}function yL(i,e,t){i.theme=SL(i.theme)?t:i.theme[e]||i.theme}function Id(i,e){const t=typeof e=="function"?e(i):e;if(Array.isArray(t))return t.flatMap(n=>Id(i,n));if(Array.isArray(t?.variants)){let n;if(t.isProcessed)n=t.style;else{const{variants:s,...o}=t;n=o}return yA(i,t.variants,[n])}return t?.isProcessed?t.style:t}function yA(i,e,t=[]){let n;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(n??={...i,...i.ownerState,ownerState:i.ownerState},!o.props(n))continue}else for(const l in o.props)if(i[l]!==o.props[l]&&i.ownerState?.[l]!==o.props[l])continue e;typeof o.style=="function"?(n??={...i,...i.ownerState,ownerState:i.ownerState},t.push(o.style(n))):t.push(o.style)}return t}function bL(i={}){const{themeId:e,defaultTheme:t=gL,rootShouldForwardProp:n=Sg,slotShouldForwardProp:s=Sg}=i;function o(u){yL(u,e,t)}return(u,d={})=>{sL(u,M=>M.filter(R=>R!==To));const{name:f,slot:p,skipVariantsResolver:g,skipSx:y,overridesResolver:S=mL(xL(p)),...v}=d,w=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,A=y||!1;let x=Sg;p==="Root"||p==="root"?x=n:p?x=s:wL(u)&&(x=void 0);const L=rL(u,{shouldForwardProp:x,label:vL(),...v}),_=M=>{if(M.__emotion_real===M)return M;if(typeof M=="function")return function(P){return Id(P,M)};if(Mr(M)){const R=mA(M);return R.variants?function(B){return Id(B,R)}:R.style}return M},O=(...M)=>{const R=[],P=M.map(_),B=[];if(R.push(o),f&&S&&B.push(function(ae){const Z=ae.theme.components?.[f]?.styleOverrides;if(!Z)return null;const ue={};for(const k in Z)ue[k]=Id(ae,Z[k]);return S(ae,ue)}),f&&!w&&B.push(function(ae){const Z=ae.theme?.components?.[f]?.variants;return Z?yA(ae,Z):null}),A||B.push(To),Array.isArray(P[0])){const V=P.shift(),ae=new Array(R.length).fill(""),ie=new Array(B.length).fill("");let Z;Z=[...ae,...V,...ie],Z.raw=[...ae,...V.raw,...ie],R.unshift(Z)}const U=[...R,...P,...B],C=L(...U);return u.muiName&&(C.muiName=u.muiName),C};return L.withConfig&&(O.withConfig=L.withConfig),O}}function vL(i,e){return void 0}function SL(i){for(const e in i)return!1;return!0}function wL(i){return typeof i=="string"&&i.charCodeAt(0)>96}function xL(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}function rm(i,e){const t={...e};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const s=n;if(s==="components"||s==="slots")t[s]={...i[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const o=i[s],l=e[s];if(!l)t[s]=o||{};else if(!o)t[s]=l;else{t[s]={...l};for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=u;t[s][d]=rm(o[d],l[d])}}}else t[s]===void 0&&(t[s]=i[s])}return t}const sm=typeof window<"u"?N.useLayoutEffect:N.useEffect;function AL(i,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(i,t))}function sy(i,e=0,t=1){return AL(i,e,t)}function EL(i){i=i.slice(1);const e=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let t=i.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function bs(i){if(i.type)return i;if(i.charAt(0)==="#")return bs(EL(i));const e=i.indexOf("("),t=i.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(da(9,i));let n=i.substring(e+1,i.length-1),s;if(t==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(da(10,s))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:t,values:n,colorSpace:s}}const _L=i=>{const e=bs(i);return e.values.slice(0,3).map((t,n)=>e.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},ec=(i,e)=>{try{return _L(i)}catch{return i}};function Dh(i){const{type:e,colorSpace:t}=i;let{values:n}=i;return e.includes("rgb")?n=n.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function bA(i){i=bs(i);const{values:e}=i,t=e[0],n=e[1]/100,s=e[2]/100,o=n*Math.min(s,1-s),l=(f,p=(f+t/30)%12)=>s-o*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return i.type==="hsla"&&(u+="a",d.push(e[3])),Dh({type:u,values:d})}function am(i){i=bs(i);let e=i.type==="hsl"||i.type==="hsla"?bs(bA(i)).values:i.values;return e=e.map(t=>(i.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function CL(i,e){const t=am(i),n=am(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function om(i,e){return i=bs(i),e=sy(e),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${e}`:i.values[3]=e,Dh(i)}function bd(i,e,t){try{return om(i,e)}catch{return i}}function ay(i,e){if(i=bs(i),e=sy(e),i.type.includes("hsl"))i.values[2]*=1-e;else if(i.type.includes("rgb")||i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]*=1-e;return Dh(i)}function gt(i,e,t){try{return ay(i,e)}catch{return i}}function oy(i,e){if(i=bs(i),e=sy(e),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*e;else if(i.type.includes("rgb"))for(let t=0;t<3;t+=1)i.values[t]+=(255-i.values[t])*e;else if(i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]+=(1-i.values[t])*e;return Dh(i)}function mt(i,e,t){try{return oy(i,e)}catch{return i}}function TL(i,e=.15){return am(i)>.5?ay(i,e):oy(i,e)}function vd(i,e,t){try{return TL(i,e)}catch{return i}}const RL=N.createContext(void 0);function ML(i){const{theme:e,name:t,props:n}=i;if(!e||!e.components||!e.components[t])return n;const s=e.components[t];return s.defaultProps?rm(s.defaultProps,n):!s.styleOverrides&&!s.variants?rm(s,n):n}function OL({props:i,name:e}){const t=N.useContext(RL);return ML({props:i,name:e,theme:{components:t}})}const Tw={theme:void 0};function DL(i){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&(Tw.theme=s.theme,o=mA(i(Tw)),e=o,t=s.theme),o}}function LL(i=""){function e(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${e(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${i?`${i}-`:""}${n}${e(...s)})`}const Rw=(i,e,t,n=[])=>{let s=i;e.forEach((o,l)=>{l===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=n.includes(o)?[]:{}),s=s[o])})},NL=(i,e,t)=>{function n(s,o=[],l=[]){Object.entries(s).forEach(([u,d])=>{(!t||t&&!t([...o,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?n(d,[...o,u],Array.isArray(d)?[...l,u]:l):e([...o,u],d,l))})}n(i)},kL=(i,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function wg(i,e){const{prefix:t,shouldSkipGeneratingVar:n}=e||{},s={},o={},l={};return NL(i,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!n||!n(u,d))){const p=`--${t?`${t}-`:""}${u.join("-")}`,g=kL(u,d);Object.assign(s,{[p]:g}),Rw(o,u,`var(${p})`,f),Rw(l,u,`var(${p}, ${g})`,f)}},u=>u[0]==="vars"),{css:s,vars:o,varsWithDefaults:l}}function PL(i,e={}){const{getSelector:t=A,disableCssColorScheme:n,colorSchemeSelector:s}=e,{colorSchemes:o={},components:l,defaultColorScheme:u="light",...d}=i,{vars:f,css:p,varsWithDefaults:g}=wg(d,e);let y=g;const S={},{[u]:v,...w}=o;if(Object.entries(w||{}).forEach(([_,O])=>{const{vars:M,css:R,varsWithDefaults:P}=wg(O,e);y=ni(y,P),S[_]={css:R,vars:M}}),v){const{css:_,vars:O,varsWithDefaults:M}=wg(v,e);y=ni(y,M),S[u]={css:_,vars:O}}function A(_,O){let M=s;if(s==="class"&&(M=".%s"),s==="data"&&(M="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(M=`[${s}="%s"]`),_){if(M==="media")return i.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${o[_]?.palette?.mode||_})`]:{":root":O}};if(M)return i.defaultColorScheme===_?`:root, ${M.replace("%s",String(_))}`:M.replace("%s",String(_))}return":root"}return{vars:y,generateThemeVars:()=>{let _={...f};return Object.entries(S).forEach(([,{vars:O}])=>{_=ni(_,O)}),_},generateStyleSheets:()=>{const _=[],O=i.defaultColorScheme||"light";function M(B,U){Object.keys(U).length&&_.push(typeof B=="string"?{[B]:{...U}}:B)}M(t(void 0,{...p}),p);const{[O]:R,...P}=S;if(R){const{css:B}=R,U=o[O]?.palette?.mode,C=!n&&U?{colorScheme:U,...B}:{...B};M(t(O,{...C}),C)}return Object.entries(P).forEach(([B,{css:U}])=>{const C=o[B]?.palette?.mode,V=!n&&C?{colorScheme:C,...U}:{...U};M(t(B,{...V}),V)}),_}}}function jL(i){return function(t){return i==="media"?`@media (prefers-color-scheme: ${t})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${t}"] &`:i==="class"?`.${t} &`:i==="data"?`[data-${t}] &`:`${i.replace("%s",t)} &`:"&"}}const wc={black:"#000",white:"#fff"},IL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},io={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ro={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},so={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ao={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},oo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function vA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wc.white,default:wc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const FL=vA();function SA(){return{text:{primary:wc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Mw=SA();function Ow(i,e,t,n){const s=n.light||n,o=n.dark||n*1.5;i[e]||(i.hasOwnProperty(t)?i[e]=i[t]:e==="light"?i.light=oy(i.main,s):e==="dark"&&(i.dark=ay(i.main,o)))}function BL(i="light"){return i==="dark"?{main:so[200],light:so[50],dark:so[400]}:{main:so[700],light:so[400],dark:so[800]}}function zL(i="light"){return i==="dark"?{main:io[200],light:io[50],dark:io[400]}:{main:io[500],light:io[300],dark:io[700]}}function UL(i="light"){return i==="dark"?{main:ro[500],light:ro[300],dark:ro[700]}:{main:ro[700],light:ro[400],dark:ro[800]}}function HL(i="light"){return i==="dark"?{main:ao[400],light:ao[300],dark:ao[700]}:{main:ao[700],light:ao[500],dark:ao[900]}}function $L(i="light"){return i==="dark"?{main:oo[400],light:oo[300],dark:oo[700]}:{main:oo[800],light:oo[500],dark:oo[900]}}function VL(i="light"){return i==="dark"?{main:Vl[400],light:Vl[300],dark:Vl[700]}:{main:"#ed6c02",light:Vl[500],dark:Vl[900]}}function ly(i){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2,...s}=i,o=i.primary||BL(e),l=i.secondary||zL(e),u=i.error||UL(e),d=i.info||HL(e),f=i.success||$L(e),p=i.warning||VL(e);function g(w){return CL(w,Mw.text.primary)>=t?Mw.text.primary:FL.text.primary}const y=({color:w,name:A,mainShade:x=500,lightShade:L=300,darkShade:_=700})=>{if(w={...w},!w.main&&w[x]&&(w.main=w[x]),!w.hasOwnProperty("main"))throw new Error(da(11,A?` (${A})`:"",x));if(typeof w.main!="string")throw new Error(da(12,A?` (${A})`:"",JSON.stringify(w.main)));return Ow(w,"light",L,n),Ow(w,"dark",_,n),w.contrastText||(w.contrastText=g(w.main)),w};let S;return e==="light"?S=vA():e==="dark"&&(S=SA()),ni({common:{...wc},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:u,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:f,name:"success"}),grey:IL,contrastThreshold:t,getContrastText:g,augmentColor:y,tonalOffset:n,...S},s)}function GL(i){const e={};return Object.entries(i).forEach(n=>{const[s,o]=n;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function qL(i,e){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...e}}function YL(i){return Math.round(i*1e5)/1e5}const Dw={textTransform:"uppercase"},Lw='"Roboto", "Helvetica", "Arial", sans-serif';function XL(i,e){const{fontFamily:t=Lw,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:p,...g}=typeof e=="function"?e(i):e,y=n/14,S=p||(A=>`${A/d*y}rem`),v=(A,x,L,_,O)=>({fontFamily:t,fontWeight:A,fontSize:S(x),lineHeight:L,...t===Lw?{letterSpacing:`${YL(_/x)}em`}:{},...O,...f}),w={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(l,14,1.75,.4,Dw),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,Dw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ni({htmlFontSize:d,pxToRem:S,fontFamily:t,fontSize:n,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:u,...w},g,{clone:!1})}const KL=.2,WL=.14,QL=.12;function _t(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${KL})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${WL})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${QL})`].join(",")}const ZL=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],JL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nw(i){return`${Math.round(i)}ms`}function tN(i){if(!i)return 0;const e=i/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function nN(i){const e={...JL,...i.easing},t={...eN,...i.duration};return{getAutoHeightDuration:tN,create:(s=["all"],o={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:Nw(l)} ${u} ${typeof d=="string"?d:Nw(d)}`).join(",")},...i,easing:e,duration:t}}const iN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function rN(i){return Mr(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function wA(i={}){const e={...i};function t(n){const s=Object.entries(n);for(let o=0;o<s.length;o++){const[l,u]=s[o];!rN(u)||l.startsWith("unstable_")?delete n[l]:Mr(u)&&(n[l]={...u},t(n[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function lm(i={},...e){const{breakpoints:t,mixins:n={},spacing:s,palette:o={},transitions:l={},typography:u={},shape:d,...f}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(da(20));const p=ly(o),g=ry(i);let y=ni(g,{mixins:qL(g.breakpoints,n),palette:p,shadows:ZL.slice(),typography:XL(p,u),transitions:nN(l),zIndex:{...iN}});return y=ni(y,f),y=e.reduce((S,v)=>ni(S,v),y),y.unstable_sxConfig={...Th,...f?.unstable_sxConfig},y.unstable_sx=function(v){return To({sx:v,theme:this})},y.toRuntimeSource=wA,y}function cm(i){let e;return i<1?e=5.11916*i**2:e=4.5*Math.log(i+1)+2,Math.round(e*10)/1e3}const sN=[...Array(25)].map((i,e)=>{if(e===0)return"none";const t=cm(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function xA(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function AA(i){return i==="dark"?sN:[]}function aN(i){const{palette:e={mode:"light"},opacity:t,overlays:n,...s}=i,o=ly(e);return{palette:o,opacity:{...xA(o.mode),...t},overlays:n||AA(o.mode),...s}}function oN(i){return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!i[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const lN=i=>[...[...Array(25)].map((e,t)=>`--${i?`${i}-`:""}overlays-${t}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],cN=i=>(e,t)=>{const n=i.rootSelector||":root",s=i.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),i.defaultColorScheme===e){if(e==="dark"){const l={};return lN(i.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),o==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:l}}:o?{[o.replace("%s",e)]:l,[`${n}, ${o.replace("%s",e)}`]:t}:{[n]:{...t,...l}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:t}};if(o)return o.replace("%s",String(e))}return n};function uN(i,e){e.forEach(t=>{i[t]||(i[t]={})})}function ne(i,e,t){!i[e]&&t&&(i[e]=t)}function tc(i){return typeof i!="string"||!i.startsWith("hsl")?i:bA(i)}function Cr(i,e){`${e}Channel`in i||(i[`${e}Channel`]=ec(tc(i[e])))}function dN(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Xi=i=>{try{return i()}catch{}},hN=(i="mui")=>LL(i);function xg(i,e,t,n){if(!e)return;e=e===!0?{}:e;const s=n==="dark"?"dark":"light";if(!t){i[n]=aN({...e,palette:{mode:s,...e?.palette}});return}const{palette:o,...l}=lm({...t,palette:{mode:s,...e?.palette}});return i[n]={...e,palette:o,opacity:{...xA(s),...e?.opacity},overlays:e?.overlays||AA(s)},l}function fN(i={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=oN,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=i,p=Object.keys(t)[0],g=n||(t.light&&p!=="light"?"light":p),y=hN(o),{[g]:S,light:v,dark:w,...A}=t,x={...A};let L=S;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(da(21,g));const _=xg(x,L,f,g);v&&!x.light&&xg(x,v,void 0,"light"),w&&!x.dark&&xg(x,w,void 0,"dark");let O={defaultColorScheme:g,..._,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:d,getCssVar:y,colorSchemes:x,font:{...GL(_.typography),..._.font},spacing:dN(f.spacing)};Object.keys(O.colorSchemes).forEach(U=>{const C=O.colorSchemes[U].palette,V=ae=>{const ie=ae.split("-"),Z=ie[1],ue=ie[2];return y(ae,C[Z][ue])};if(C.mode==="light"&&(ne(C.common,"background","#fff"),ne(C.common,"onBackground","#000")),C.mode==="dark"&&(ne(C.common,"background","#000"),ne(C.common,"onBackground","#fff")),uN(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){ne(C.Alert,"errorColor",gt(C.error.light,.6)),ne(C.Alert,"infoColor",gt(C.info.light,.6)),ne(C.Alert,"successColor",gt(C.success.light,.6)),ne(C.Alert,"warningColor",gt(C.warning.light,.6)),ne(C.Alert,"errorFilledBg",V("palette-error-main")),ne(C.Alert,"infoFilledBg",V("palette-info-main")),ne(C.Alert,"successFilledBg",V("palette-success-main")),ne(C.Alert,"warningFilledBg",V("palette-warning-main")),ne(C.Alert,"errorFilledColor",Xi(()=>C.getContrastText(C.error.main))),ne(C.Alert,"infoFilledColor",Xi(()=>C.getContrastText(C.info.main))),ne(C.Alert,"successFilledColor",Xi(()=>C.getContrastText(C.success.main))),ne(C.Alert,"warningFilledColor",Xi(()=>C.getContrastText(C.warning.main))),ne(C.Alert,"errorStandardBg",mt(C.error.light,.9)),ne(C.Alert,"infoStandardBg",mt(C.info.light,.9)),ne(C.Alert,"successStandardBg",mt(C.success.light,.9)),ne(C.Alert,"warningStandardBg",mt(C.warning.light,.9)),ne(C.Alert,"errorIconColor",V("palette-error-main")),ne(C.Alert,"infoIconColor",V("palette-info-main")),ne(C.Alert,"successIconColor",V("palette-success-main")),ne(C.Alert,"warningIconColor",V("palette-warning-main")),ne(C.AppBar,"defaultBg",V("palette-grey-100")),ne(C.Avatar,"defaultBg",V("palette-grey-400")),ne(C.Button,"inheritContainedBg",V("palette-grey-300")),ne(C.Button,"inheritContainedHoverBg",V("palette-grey-A100")),ne(C.Chip,"defaultBorder",V("palette-grey-400")),ne(C.Chip,"defaultAvatarColor",V("palette-grey-700")),ne(C.Chip,"defaultIconColor",V("palette-grey-700")),ne(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ne(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ne(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ne(C.LinearProgress,"primaryBg",mt(C.primary.main,.62)),ne(C.LinearProgress,"secondaryBg",mt(C.secondary.main,.62)),ne(C.LinearProgress,"errorBg",mt(C.error.main,.62)),ne(C.LinearProgress,"infoBg",mt(C.info.main,.62)),ne(C.LinearProgress,"successBg",mt(C.success.main,.62)),ne(C.LinearProgress,"warningBg",mt(C.warning.main,.62)),ne(C.Skeleton,"bg",`rgba(${V("palette-text-primaryChannel")} / 0.11)`),ne(C.Slider,"primaryTrack",mt(C.primary.main,.62)),ne(C.Slider,"secondaryTrack",mt(C.secondary.main,.62)),ne(C.Slider,"errorTrack",mt(C.error.main,.62)),ne(C.Slider,"infoTrack",mt(C.info.main,.62)),ne(C.Slider,"successTrack",mt(C.success.main,.62)),ne(C.Slider,"warningTrack",mt(C.warning.main,.62));const ae=vd(C.background.default,.8);ne(C.SnackbarContent,"bg",ae),ne(C.SnackbarContent,"color",Xi(()=>C.getContrastText(ae))),ne(C.SpeedDialAction,"fabHoverBg",vd(C.background.paper,.15)),ne(C.StepConnector,"border",V("palette-grey-400")),ne(C.StepContent,"border",V("palette-grey-400")),ne(C.Switch,"defaultColor",V("palette-common-white")),ne(C.Switch,"defaultDisabledColor",V("palette-grey-100")),ne(C.Switch,"primaryDisabledColor",mt(C.primary.main,.62)),ne(C.Switch,"secondaryDisabledColor",mt(C.secondary.main,.62)),ne(C.Switch,"errorDisabledColor",mt(C.error.main,.62)),ne(C.Switch,"infoDisabledColor",mt(C.info.main,.62)),ne(C.Switch,"successDisabledColor",mt(C.success.main,.62)),ne(C.Switch,"warningDisabledColor",mt(C.warning.main,.62)),ne(C.TableCell,"border",mt(bd(C.divider,1),.88)),ne(C.Tooltip,"bg",bd(C.grey[700],.92))}if(C.mode==="dark"){ne(C.Alert,"errorColor",mt(C.error.light,.6)),ne(C.Alert,"infoColor",mt(C.info.light,.6)),ne(C.Alert,"successColor",mt(C.success.light,.6)),ne(C.Alert,"warningColor",mt(C.warning.light,.6)),ne(C.Alert,"errorFilledBg",V("palette-error-dark")),ne(C.Alert,"infoFilledBg",V("palette-info-dark")),ne(C.Alert,"successFilledBg",V("palette-success-dark")),ne(C.Alert,"warningFilledBg",V("palette-warning-dark")),ne(C.Alert,"errorFilledColor",Xi(()=>C.getContrastText(C.error.dark))),ne(C.Alert,"infoFilledColor",Xi(()=>C.getContrastText(C.info.dark))),ne(C.Alert,"successFilledColor",Xi(()=>C.getContrastText(C.success.dark))),ne(C.Alert,"warningFilledColor",Xi(()=>C.getContrastText(C.warning.dark))),ne(C.Alert,"errorStandardBg",gt(C.error.light,.9)),ne(C.Alert,"infoStandardBg",gt(C.info.light,.9)),ne(C.Alert,"successStandardBg",gt(C.success.light,.9)),ne(C.Alert,"warningStandardBg",gt(C.warning.light,.9)),ne(C.Alert,"errorIconColor",V("palette-error-main")),ne(C.Alert,"infoIconColor",V("palette-info-main")),ne(C.Alert,"successIconColor",V("palette-success-main")),ne(C.Alert,"warningIconColor",V("palette-warning-main")),ne(C.AppBar,"defaultBg",V("palette-grey-900")),ne(C.AppBar,"darkBg",V("palette-background-paper")),ne(C.AppBar,"darkColor",V("palette-text-primary")),ne(C.Avatar,"defaultBg",V("palette-grey-600")),ne(C.Button,"inheritContainedBg",V("palette-grey-800")),ne(C.Button,"inheritContainedHoverBg",V("palette-grey-700")),ne(C.Chip,"defaultBorder",V("palette-grey-700")),ne(C.Chip,"defaultAvatarColor",V("palette-grey-300")),ne(C.Chip,"defaultIconColor",V("palette-grey-300")),ne(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ne(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ne(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ne(C.LinearProgress,"primaryBg",gt(C.primary.main,.5)),ne(C.LinearProgress,"secondaryBg",gt(C.secondary.main,.5)),ne(C.LinearProgress,"errorBg",gt(C.error.main,.5)),ne(C.LinearProgress,"infoBg",gt(C.info.main,.5)),ne(C.LinearProgress,"successBg",gt(C.success.main,.5)),ne(C.LinearProgress,"warningBg",gt(C.warning.main,.5)),ne(C.Skeleton,"bg",`rgba(${V("palette-text-primaryChannel")} / 0.13)`),ne(C.Slider,"primaryTrack",gt(C.primary.main,.5)),ne(C.Slider,"secondaryTrack",gt(C.secondary.main,.5)),ne(C.Slider,"errorTrack",gt(C.error.main,.5)),ne(C.Slider,"infoTrack",gt(C.info.main,.5)),ne(C.Slider,"successTrack",gt(C.success.main,.5)),ne(C.Slider,"warningTrack",gt(C.warning.main,.5));const ae=vd(C.background.default,.98);ne(C.SnackbarContent,"bg",ae),ne(C.SnackbarContent,"color",Xi(()=>C.getContrastText(ae))),ne(C.SpeedDialAction,"fabHoverBg",vd(C.background.paper,.15)),ne(C.StepConnector,"border",V("palette-grey-600")),ne(C.StepContent,"border",V("palette-grey-600")),ne(C.Switch,"defaultColor",V("palette-grey-300")),ne(C.Switch,"defaultDisabledColor",V("palette-grey-600")),ne(C.Switch,"primaryDisabledColor",gt(C.primary.main,.55)),ne(C.Switch,"secondaryDisabledColor",gt(C.secondary.main,.55)),ne(C.Switch,"errorDisabledColor",gt(C.error.main,.55)),ne(C.Switch,"infoDisabledColor",gt(C.info.main,.55)),ne(C.Switch,"successDisabledColor",gt(C.success.main,.55)),ne(C.Switch,"warningDisabledColor",gt(C.warning.main,.55)),ne(C.TableCell,"border",gt(bd(C.divider,1),.68)),ne(C.Tooltip,"bg",bd(C.grey[700],.92))}Cr(C.background,"default"),Cr(C.background,"paper"),Cr(C.common,"background"),Cr(C.common,"onBackground"),Cr(C,"divider"),Object.keys(C).forEach(ae=>{const ie=C[ae];ae!=="tonalOffset"&&ie&&typeof ie=="object"&&(ie.main&&ne(C[ae],"mainChannel",ec(tc(ie.main))),ie.light&&ne(C[ae],"lightChannel",ec(tc(ie.light))),ie.dark&&ne(C[ae],"darkChannel",ec(tc(ie.dark))),ie.contrastText&&ne(C[ae],"contrastTextChannel",ec(tc(ie.contrastText))),ae==="text"&&(Cr(C[ae],"primary"),Cr(C[ae],"secondary")),ae==="action"&&(ie.active&&Cr(C[ae],"active"),ie.selected&&Cr(C[ae],"selected")))})}),O=e.reduce((U,C)=>ni(U,C),O);const M={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:cN(O)},{vars:R,generateThemeVars:P,generateStyleSheets:B}=PL(O,M);return O.vars=R,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([U,C])=>{O[U]=C}),O.generateThemeVars=P,O.generateStyleSheets=B,O.generateSpacing=function(){return gA(f.spacing,Jm(this))},O.getColorSchemeSelector=jL(u),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=l,O.unstable_sxConfig={...Th,...f?.unstable_sxConfig},O.unstable_sx=function(C){return To({sx:C,theme:this})},O.toRuntimeSource=wA,O}function kw(i,e,t){i.colorSchemes&&t&&(i.colorSchemes[e]={...t!==!0&&t,palette:ly({...t===!0?{}:t.palette,mode:e})})}function pN(i={},...e){const{palette:t,cssVariables:n=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...l}=i,u=o||"light",d=s?.[u],f={...s,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in i))return lm(i,...e);let p=t;"palette"in i||f[u]&&(f[u]!==!0?p=f[u].palette:u==="dark"&&(p={mode:"dark"}));const g=lm({...i,palette:p},...e);return g.defaultColorScheme=u,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},kw(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},kw(g,"light",f.light)),g}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),fN({...l,colorSchemes:f,defaultColorScheme:u,...typeof n!="boolean"&&n},...e)}const EA=pN(),_A="$$material";function cy(){const i=fL(EA);return i[_A]||i}function gN(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const mN=i=>gN(i)&&i!=="classes",Ir=bL({themeId:_A,defaultTheme:EA,rootShouldForwardProp:mN}),Lh=DL;function Ic(i){return OL(i)}function yN(i){return Po("MuiSvgIcon",i)}jc("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bN=i=>{const{color:e,fontSize:t,classes:n}=i,s={root:["root",e!=="inherit"&&`color${wi(e)}`,`fontSize${wi(t)}`]};return Lc(s,yN,n)},vN=Ir("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,t.color!=="inherit"&&e[`color${wi(t.color)}`],e[`fontSize${wi(t.fontSize)}`]]}})(Lh(({theme:i})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:i.transitions?.create?.("fill",{duration:(i.vars??i).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:i.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:i.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:i.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(i.vars??i).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(i.vars??i).palette?.action?.active}},{props:{color:"disabled"},style:{color:(i.vars??i).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),um=N.forwardRef(function(e,t){const n=Ic({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:g,viewBox:y="0 0 24 24",...S}=n,v=N.isValidElement(s)&&s.type==="svg",w={...n,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:v},A={};p||(A.viewBox=y);const x=bN(w);return T.jsxs(vN,{as:u,className:ai(x.root,o),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...S,...v&&s.props,ownerState:w,children:[v?s.props.children:s,g?T.jsx("title",{children:g}):null]})});um.muiName="SvgIcon";function ws(i,e){function t(n,s){return T.jsx(um,{"data-testid":void 0,ref:s,...n,children:i})}return t.muiName=um.muiName,N.memo(N.forwardRef(t))}function ha(i){return i&&i.ownerDocument||document}function th(i){return ha(i).defaultView||window}function Pw(i,e){typeof i=="function"?i(e):i&&(i.current=e)}let jw=0;function SN(i){const[e,t]=N.useState(i),n=i||e;return N.useEffect(()=>{e==null&&(jw+=1,t(`mui-${jw}`))},[e]),n}const wN={...Hg},Iw=wN.useId;function xN(i){if(Iw!==void 0){const e=Iw();return i??e}return SN(i)}function Fw(i){const e=N.useRef(i);return sm(()=>{e.current=i}),N.useRef((...t)=>(0,e.current)(...t)).current}function Fc(...i){const e=N.useRef(void 0),t=N.useCallback(n=>{const s=i.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,u=l(n);return typeof u=="function"?u:()=>{l(null)}}return o.current=n,()=>{o.current=null}});return()=>{s.forEach(o=>o?.())}},i);return N.useMemo(()=>i.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=t(n))},i)}const AN=ws(T.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}));function EN({goToCart:i}){const e=Mn(t=>t.shoppingCart.cart_items);return T.jsx("div",{className:"flex items-center justify-center w-1/12 h-full ",children:T.jsxs("button",{onClick:i,className:" text-[var(--on-primary)] hover:opacity-75 h-3/4 w-2/4  relative cursor-pointer",children:[T.jsx(AN,{style:{fontSize:45},className:""}),e.length>0&&T.jsx("div",{className:"rounded-xl bg-[var(--secondary)] absolute top-1 right-2 flex  px-2 text-[var(--on-primary)]",children:e.length})]})})}function _N({}){const{goToCart:i,goToHome:e,onLogIn:t,onSignIn:n}=dO();return T.jsxs("nav",{className:"font-fira bg-[var(--primary)]  flex items-center justify-start h-1/12  flex-row w-screen",children:[T.jsxs("div",{className:"flex w-1/12 h-full flex-row justify-center items-center ",children:[T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:e,className:"h-16 hover:opacity-80",children:T.jsx("img",{src:cO,alt:"Home",className:"h-full"})})}),T.jsx("div",{className:"hidden md:flex",children:T.jsx("button",{onClick:e,className:"h-16 hover:opacity-80",children:T.jsx("img",{src:uO,alt:"Home",className:"h-full"})})})]}),T.jsx(fO,{}),T.jsx(EN,{goToCart:i}),T.jsx(hO,{onLogIn:t,onSignIn:n})]})}const Nh=({children:i})=>{const{loading:e}=lO();return e?T.jsx("div",{className:"flex h-screen w-full bg-[var(--background)]",children:T.jsx("div",{className:"m-auto",children:T.jsx(yc,{size:60,color:"var(--primary)"})})}):T.jsxs("div",{className:"h-screen  w-screen flex flex-col bg-[var(--background)]",children:[T.jsx(_N,{}),T.jsx("main",{className:"h-11/12 w-full flex flex-col overflow-hidden",children:i})]})},CN=({tabs:i,title:e})=>{const[t,n]=N.useState(0);return T.jsx(Nh,{children:T.jsxs("div",{className:"font-fira flex h-full w-full overflow-y-auto",children:[T.jsxs("div",{className:"bg-[var(--secondary)]  h-full lg:w-1/8 md:w-1/4 w-1/3 flex flex-col justify-start items-center  ",children:[T.jsx("div",{className:"flex h-1/8 justify-center items-center",children:T.jsx("h1",{className:"text-[var(--on-secondary)] font-bold text-xl",children:e})}),T.jsx("div",{className:"flex flex-col justify-start items-end w-full h-7/8  ",children:T.jsx("ul",{className:"w-full px-1 ",children:i.map((s,o)=>T.jsx("li",{onClick:()=>n(o),className:` w-full py-2 pl-1 text-center font-bold bg-[var(--secondary)] \r
                                    text-[var(--on-secondary)]   hover:bg-[var(--background)] hover:text-[var(--on-background)] hover:py-4 `,children:s.label},o))})})]}),T.jsxs("div",{className:"bg-[var(--background-primary)] h-full w-full justify-start flex flex-col items-center ",children:[T.jsx("div",{className:"animate-fade-in w-full justify-start h-full flex flex-col items-center",children:i[t].content},t),T.jsx("div",{className:"h-[50px]"})]})]})})};function TN(){const[i,e]=N.useState({name:"",email:"",password:""});return{formData:i,handleChange:s=>{e({...i,[s.target.name]:s.target.value})},handleSubmit:async s=>{s.preventDefault();var o=require("generate-password");i.password=o.generate({length:10,numbers:!0}),alert("SUBMITED!")}}}const RN=ws(T.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}));function MN(){const{formData:i,handleChange:e,handleSubmit:t}=TN(),n=async()=>{alert(`Se ha copiado ${i.password} al portapapeles!`)};return T.jsxs("form",{onSubmit:t,className:"font-fira  h-full max-w-1/3 bg-[-var(--background)] border-[var(--tertiary)] border-1 rounded  m-1",children:[T.jsx("div",{className:"h-1/4 flex justify-center items-center",children:T.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Crear Persona"})}),T.jsxs("div",{className:" h-2/4 p-2",children:[T.jsx("label",{className:"font-fira font-semibold py-1",children:"Nombre"}),T.jsx("input",{type:"text",name:"name",value:i.name,onChange:e,placeholder:"Name family name",maxLength:100,className:"w-full mt-1 p-2 border my-1 border-[var(--tertiary)] focus:border-[var(--secondary)] rounded focus:outline-none resize-none"}),T.jsx("label",{className:"font-semibold py-1",children:"Correo"}),T.jsx("input",{type:"email",name:"email",value:i.email,onChange:e,placeholder:"email@mail.com",maxLength:100,className:"w-full mt-1 p-2 my-1 border border-[var(--tertiary)] focus:border-[var(--secondary)] rounded focus:outline-none resize-none"}),T.jsx("label",{className:"font-semibold py-1",children:"Contrasea"}),T.jsxs("div",{className:"flex flex-row my-1 justify-between border border-[var(--tertiary)] focus:border-[var(--secondary)] rounded w-full sm:w-auto",children:[T.jsx("input",{name:"password",readOnly:!0,value:i.password,onChange:e,className:"p-2 "}),T.jsx("button",{type:"button",onClick:n,className:"px-3 py-1 ",children:T.jsx(RN,{className:"text-[var(--secondary)] hover:text-[var(--primary)]"})})]})]}),T.jsx("div",{className:" h-1/4 justify-center flex items-center",children:T.jsx("button",{className:"px-6 py-3 bg-[var(--primary)] text-[var(--on-primary)] rounded hover:bg-[var(--secondary)] hover:text-[var(--on-secondary)] disabled:opacity-60 flex items-center gap-2",type:"submit",children:"Aadir Usuario"})})]})}function ON(){return T.jsx("div",{className:"h-full w-full bg-[-var(--background)] ",children:T.jsx(MN,{})})}const DN=()=>{const e=[{label:"General",content:T.jsx(T.Fragment,{})},{label:"Usuarios",content:T.jsx(ON,{})}].filter(t=>{if(!t.requiredPermission)return!0}).map(t=>({label:t.label,content:t.content}));return T.jsx(CN,{tabs:e,title:"Opciones"})},LN=ws([T.jsx("path",{d:"M21 14c0-.55-.45-1-1-1h-2v2h2c.55 0 1-.45 1-1m-1 3h-2v2h2c.55 0 1-.45 1-1s-.45-1-1-1m-8-3h-2v4h2c0 1.1.9 2 2 2h3v-8h-3c-1.1 0-2 .9-2 2"},"0"),T.jsx("path",{d:"M5 13c0-1.1.9-2 2-2h1.5c1.93 0 3.5-1.57 3.5-3.5S10.43 4 8.5 4H5c-.55 0-1 .45-1 1s.45 1 1 1h3.5c.83 0 1.5.67 1.5 1.5S9.33 9 8.5 9H7c-2.21 0-4 1.79-4 4s1.79 4 4 4h2v-2H7c-1.1 0-2-.9-2-2"},"1")]),NN=ws(T.jsx("path",{d:"M16.01 7 16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99"}));function kN(){const i=No();return T.jsx(Nh,{children:T.jsxs("div",{className:"font-fira bg-[var(--background)] h-full w-full flex flex-col",children:[T.jsx("div",{className:"  h-1/3 w-full flex flex-col justify-center",children:T.jsxs("div",{className:"h-2/3 w-full flex items-center justify-center flex-col",children:[T.jsx("div",{className:"w-2/3 h-1/3  shadow rounded-xl bg-gradient-to-r from-white to-gray-200 p-3 justify-center flex items-center",children:T.jsx("h1",{className:"font-bold text-2xl ",children:"Informes sencillos para informacin compleja"})}),T.jsx("div",{className:"w-2/3 h-1/2 items-center flex justify-center",children:T.jsx("p",{children:"Distintas herramientas de inteligencia artificial para generacin de reportes."})})]})}),T.jsxs("div",{className:"h-2/3 w-full grid grid-cols-6 grid-rows-2 gap-2 p-2",children:[T.jsxs("button",{onClick:()=>i("/ves"),className:"border-1 bg-white  border-[var(--tertiary)] hover:border-[var(--primary)]  rounded-xl flex flex-col justify-around items-center p-2",children:[T.jsx(LN,{sx:{fontSize:50},className:"text-[var(--tertiary)] "}),T.jsxs("div",{className:"flex flex-col justify-center items-center px-2",children:[T.jsx("h1",{className:"font-bold",children:" Sondeo Elctrico Vertical"}),T.jsx("p",{className:"font-normal",children:"Reporte de sondeo electrico vertical segn la norma chilena de electricidad a un clic."})]})]}),T.jsxs("button",{className:"border-1 bg-white border-[var(--tertiary)] hover:border-[var(--primary)] rounded-xl flex flex-col justify-around items-center p-2",children:[T.jsx(NN,{sx:{fontSize:50},className:"text-[var(--tertiary)] "}),T.jsxs("div",{className:"flex flex-col justify-center items-center px-2",children:[T.jsx("h1",{className:"font-bold",children:" Puesta a Tierra"}),T.jsx("p",{className:"font-normal",children:"Informe de puesta a tierra segn la norma electrica chilena."})]})]})]})]})})}const hn=[];for(let i=0;i<256;++i)hn.push((i+256).toString(16).slice(1));function PN(i,e=0){return(hn[i[e+0]]+hn[i[e+1]]+hn[i[e+2]]+hn[i[e+3]]+"-"+hn[i[e+4]]+hn[i[e+5]]+"-"+hn[i[e+6]]+hn[i[e+7]]+"-"+hn[i[e+8]]+hn[i[e+9]]+"-"+hn[i[e+10]]+hn[i[e+11]]+hn[i[e+12]]+hn[i[e+13]]+hn[i[e+14]]+hn[i[e+15]]).toLowerCase()}let Ag;const jN=new Uint8Array(16);function IN(){if(!Ag){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ag=crypto.getRandomValues.bind(crypto)}return Ag(jN)}const FN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bw={randomUUID:FN};function BN(i,e,t){if(Bw.randomUUID&&!i)return Bw.randomUUID();i=i||{};const n=i.random??i.rng?.()??IN();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,PN(n)}function CA(i,e){return function(){return i.apply(e,arguments)}}const{toString:zN}=Object.prototype,{getPrototypeOf:uy}=Object,{iterator:kh,toStringTag:TA}=Symbol,Ph=(i=>e=>{const t=zN.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=i=>(i=i.toLowerCase(),e=>Ph(e)===i),jh=i=>e=>typeof e===i,{isArray:jo}=Array,Mo=jh("undefined");function Bc(i){return i!==null&&!Mo(i)&&i.constructor!==null&&!Mo(i.constructor)&&zn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const RA=Ii("ArrayBuffer");function UN(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&RA(i.buffer),e}const HN=jh("string"),zn=jh("function"),MA=jh("number"),zc=i=>i!==null&&typeof i=="object",$N=i=>i===!0||i===!1,Fd=i=>{if(Ph(i)!=="object")return!1;const e=uy(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(TA in i)&&!(kh in i)},VN=i=>{if(!zc(i)||Bc(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},GN=Ii("Date"),qN=Ii("File"),YN=Ii("Blob"),XN=Ii("FileList"),KN=i=>zc(i)&&zn(i.pipe),WN=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||zn(i.append)&&((e=Ph(i))==="formdata"||e==="object"&&zn(i.toString)&&i.toString()==="[object FormData]"))},QN=Ii("URLSearchParams"),[ZN,JN,ek,tk]=["ReadableStream","Request","Response","Headers"].map(Ii),nk=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uc(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),jo(i))for(n=0,s=i.length;n<s;n++)e.call(null,i[n],n,i);else{if(Bc(i))return;const o=t?Object.getOwnPropertyNames(i):Object.keys(i),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,i[u],u,i)}}function OA(i,e){if(Bc(i))return null;e=e.toLowerCase();const t=Object.keys(i);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DA=i=>!Mo(i)&&i!==na;function dm(){const{caseless:i,skipUndefined:e}=DA(this)&&this||{},t={},n=(s,o)=>{const l=i&&OA(t,o)||o;Fd(t[l])&&Fd(s)?t[l]=dm(t[l],s):Fd(s)?t[l]=dm({},s):jo(s)?t[l]=s.slice():(!e||!Mo(s))&&(t[l]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Uc(arguments[s],n);return t}const ik=(i,e,t,{allOwnKeys:n}={})=>(Uc(e,(s,o)=>{t&&zn(s)?i[o]=CA(s,t):i[o]=s},{allOwnKeys:n}),i),rk=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),sk=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},ak=(i,e,t,n)=>{let s,o,l;const u={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),o=s.length;o-- >0;)l=s[o],(!n||n(l,i,e))&&!u[l]&&(e[l]=i[l],u[l]=!0);i=t!==!1&&uy(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},ok=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},lk=i=>{if(!i)return null;if(jo(i))return i;let e=i.length;if(!MA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},ck=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&uy(Uint8Array)),uk=(i,e)=>{const n=(i&&i[kh]).call(i);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(i,o[0],o[1])}},dk=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},hk=Ii("HTMLFormElement"),fk=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),zw=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),pk=Ii("RegExp"),LA=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};Uc(t,(s,o)=>{let l;(l=e(s,o,i))!==!1&&(n[o]=l||s)}),Object.defineProperties(i,n)},gk=i=>{LA(i,(e,t)=>{if(zn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(zn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mk=(i,e)=>{const t={},n=s=>{s.forEach(o=>{t[o]=!0})};return jo(i)?n(i):n(String(i).split(e)),t},yk=()=>{},bk=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function vk(i){return!!(i&&zn(i.append)&&i[TA]==="FormData"&&i[kh])}const Sk=i=>{const e=new Array(10),t=(n,s)=>{if(zc(n)){if(e.indexOf(n)>=0)return;if(Bc(n))return n;if(!("toJSON"in n)){e[s]=n;const o=jo(n)?[]:{};return Uc(n,(l,u)=>{const d=t(l,s+1);!Mo(d)&&(o[u]=d)}),e[s]=void 0,o}}return n};return t(i,0)},wk=Ii("AsyncFunction"),xk=i=>i&&(zc(i)||zn(i))&&zn(i.then)&&zn(i.catch),NA=((i,e)=>i?setImmediate:e?((t,n)=>(na.addEventListener("message",({source:s,data:o})=>{s===na&&o===t&&n.length&&n.shift()()},!1),s=>{n.push(s),na.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",zn(na.postMessage)),Ak=typeof queueMicrotask<"u"?queueMicrotask.bind(na):typeof process<"u"&&process.nextTick||NA,Ek=i=>i!=null&&zn(i[kh]),J={isArray:jo,isArrayBuffer:RA,isBuffer:Bc,isFormData:WN,isArrayBufferView:UN,isString:HN,isNumber:MA,isBoolean:$N,isObject:zc,isPlainObject:Fd,isEmptyObject:VN,isReadableStream:ZN,isRequest:JN,isResponse:ek,isHeaders:tk,isUndefined:Mo,isDate:GN,isFile:qN,isBlob:YN,isRegExp:pk,isFunction:zn,isStream:KN,isURLSearchParams:QN,isTypedArray:ck,isFileList:XN,forEach:Uc,merge:dm,extend:ik,trim:nk,stripBOM:rk,inherits:sk,toFlatObject:ak,kindOf:Ph,kindOfTest:Ii,endsWith:ok,toArray:lk,forEachEntry:uk,matchAll:dk,isHTMLForm:hk,hasOwnProperty:zw,hasOwnProp:zw,reduceDescriptors:LA,freezeMethods:gk,toObjectSet:mk,toCamelCase:fk,noop:yk,toFiniteNumber:bk,findKey:OA,global:na,isContextDefined:DA,isSpecCompliantForm:vk,toJSONObject:Sk,isAsyncFn:wk,isThenable:xk,setImmediate:NA,asap:Ak,isIterable:Ek};function Be(i,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const kA=Be.prototype,PA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{PA[i]={value:i}});Object.defineProperties(Be,PA);Object.defineProperty(kA,"isAxiosError",{value:!0});Be.from=(i,e,t,n,s,o)=>{const l=Object.create(kA);J.toFlatObject(i,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=i&&i.message?i.message:"Error",d=e==null&&i?i.code:e;return Be.call(l,u,d,t,n,s),i&&l.cause==null&&Object.defineProperty(l,"cause",{value:i,configurable:!0}),l.name=i&&i.name||"Error",o&&Object.assign(l,o),l};const _k=null;function hm(i){return J.isPlainObject(i)||J.isArray(i)}function jA(i){return J.endsWith(i,"[]")?i.slice(0,-2):i}function Uw(i,e,t){return i?i.concat(e).map(function(s,o){return s=jA(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function Ck(i){return J.isArray(i)&&!i.some(hm)}const Tk=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Ih(i,e,t){if(!J.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,A){return!J.isUndefined(A[w])});const n=t.metaTokens,s=t.visitor||p,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(J.isDate(v))return v.toISOString();if(J.isBoolean(v))return v.toString();if(!d&&J.isBlob(v))throw new Be("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(v)||J.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,A){let x=v;if(v&&!A&&typeof v=="object"){if(J.endsWith(w,"{}"))w=n?w:w.slice(0,-2),v=JSON.stringify(v);else if(J.isArray(v)&&Ck(v)||(J.isFileList(v)||J.endsWith(w,"[]"))&&(x=J.toArray(v)))return w=jA(w),x.forEach(function(_,O){!(J.isUndefined(_)||_===null)&&e.append(l===!0?Uw([w],O,o):l===null?w:w+"[]",f(_))}),!1}return hm(v)?!0:(e.append(Uw(A,w,o),f(v)),!1)}const g=[],y=Object.assign(Tk,{defaultVisitor:p,convertValue:f,isVisitable:hm});function S(v,w){if(!J.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(v),J.forEach(v,function(x,L){(!(J.isUndefined(x)||x===null)&&s.call(e,x,J.isString(L)?L.trim():L,w,y))===!0&&S(x,w?w.concat(L):[L])}),g.pop()}}if(!J.isObject(i))throw new TypeError("data must be an object");return S(i),e}function Hw(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function dy(i,e){this._pairs=[],i&&Ih(i,this,e)}const IA=dy.prototype;IA.append=function(e,t){this._pairs.push([e,t])};IA.toString=function(e){const t=e?function(n){return e.call(this,n,Hw)}:Hw;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Rk(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FA(i,e,t){if(!e)return i;const n=t&&t.encode||Rk;J.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=J.isURLSearchParams(e)?e.toString():new dy(e,t).toString(n),o){const l=i.indexOf("#");l!==-1&&(i=i.slice(0,l)),i+=(i.indexOf("?")===-1?"?":"&")+o}return i}class $w{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n)})}}const BA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mk=typeof URLSearchParams<"u"?URLSearchParams:dy,Ok=typeof FormData<"u"?FormData:null,Dk=typeof Blob<"u"?Blob:null,Lk={isBrowser:!0,classes:{URLSearchParams:Mk,FormData:Ok,Blob:Dk},protocols:["http","https","file","blob","url","data"]},hy=typeof window<"u"&&typeof document<"u",fm=typeof navigator=="object"&&navigator||void 0,Nk=hy&&(!fm||["ReactNative","NativeScript","NS"].indexOf(fm.product)<0),kk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pk=hy&&window.location.href||"http://localhost",jk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hy,hasStandardBrowserEnv:Nk,hasStandardBrowserWebWorkerEnv:kk,navigator:fm,origin:Pk},Symbol.toStringTag,{value:"Module"})),An={...jk,...Lk};function Ik(i,e){return Ih(i,new An.classes.URLSearchParams,{visitor:function(t,n,s,o){return An.isNode&&J.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Fk(i){return J.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bk(i){const e={},t=Object.keys(i);let n;const s=t.length;let o;for(n=0;n<s;n++)o=t[n],e[o]=i[o];return e}function zA(i){function e(t,n,s,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&J.isArray(s)?s.length:l,d?(J.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!J.isObject(s[l]))&&(s[l]=[]),e(t,n,s[l],o)&&J.isArray(s[l])&&(s[l]=Bk(s[l])),!u)}if(J.isFormData(i)&&J.isFunction(i.entries)){const t={};return J.forEachEntry(i,(n,s)=>{e(Fk(n),s,t,0)}),t}return null}function zk(i,e,t){if(J.isString(i))try{return(e||JSON.parse)(i),J.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const Hc={transitional:BA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,o=J.isObject(e);if(o&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return s?JSON.stringify(zA(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ik(e,this.formSerializer).toString();if((u=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ih(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),zk(e)):e}],transformResponse:[function(e){const t=this.transitional||Hc.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Be.from(u,Be.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],i=>{Hc.headers[i]={}});const Uk=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hk=i=>{const e={};let t,n,s;return i&&i.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!t||e[t]&&Uk[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Vw=Symbol("internals");function Gl(i){return i&&String(i).trim().toLowerCase()}function Bd(i){return i===!1||i==null?i:J.isArray(i)?i.map(Bd):String(i)}function $k(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const Vk=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Eg(i,e,t,n,s){if(J.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function Gk(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function qk(i,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(s,o,l){return this[n].call(this,e,s,o,l)},configurable:!0})})}let Un=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function o(u,d,f){const p=Gl(d);if(!p)throw new Error("header name must be a non-empty string");const g=J.findKey(s,p);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||d]=Bd(u))}const l=(u,d)=>J.forEach(u,(f,p)=>o(f,p,d));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(J.isString(e)&&(e=e.trim())&&!Vk(e))l(Hk(e),t);else if(J.isObject(e)&&J.isIterable(e)){let u={},d,f;for(const p of e){if(!J.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?J.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=Gl(e),e){const n=J.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return $k(s);if(J.isFunction(t))return t.call(this,s,n);if(J.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gl(e),e){const n=J.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Eg(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function o(l){if(l=Gl(l),l){const u=J.findKey(n,l);u&&(!t||Eg(n,n[u],u,t))&&(delete n[u],s=!0)}}return J.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const o=t[n];(!e||Eg(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,n={};return J.forEach(this,(s,o)=>{const l=J.findKey(n,o);if(l){t[l]=Bd(s),delete t[o];return}const u=e?Gk(o):String(o).trim();u!==o&&delete t[o],t[u]=Bd(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&J.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Vw]=this[Vw]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Gl(l);n[u]||(qk(s,l),n[u]=!0)}return J.isArray(e)?e.forEach(o):o(e),this}};Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Un.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});J.freezeMethods(Un);function _g(i,e){const t=this||Hc,n=e||t,s=Un.from(n.headers);let o=n.data;return J.forEach(i,function(u){o=u.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function UA(i){return!!(i&&i.__CANCEL__)}function Io(i,e,t){Be.call(this,i??"canceled",Be.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(Io,Be,{__CANCEL__:!0});function HA(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new Be("Request failed with status code "+t.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Yk(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function Xk(i,e){i=i||10;const t=new Array(i),n=new Array(i);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),t[s]=d,n[s]=f;let g=o,y=0;for(;g!==s;)y+=t[g++],g=g%i;if(s=(s+1)%i,s===o&&(o=(o+1)%i),f-l<e)return;const S=p&&f-p;return S?Math.round(y*1e3/S):void 0}}function Kk(i,e){let t=0,n=1e3/e,s,o;const l=(f,p=Date.now())=>{t=p,s=null,o&&(clearTimeout(o),o=null),i(...f)};return[(...f)=>{const p=Date.now(),g=p-t;g>=n?l(f,p):(s=f,o||(o=setTimeout(()=>{o=null,l(s)},n-g)))},()=>s&&l(s)]}const nh=(i,e,t=3)=>{let n=0;const s=Xk(50,250);return Kk(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=s(d),p=l<=u;n=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};i(g)},t)},Gw=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},qw=i=>(...e)=>J.asap(()=>i(...e)),Wk=An.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,An.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):()=>!0,Qk=An.hasStandardBrowserEnv?{write(i,e,t,n,s,o){const l=[i+"="+encodeURIComponent(e)];J.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),J.isString(n)&&l.push("path="+n),J.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zk(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Jk(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function $A(i,e,t){let n=!Zk(e);return i&&(n||t==!1)?Jk(i,e):e}const Yw=i=>i instanceof Un?{...i}:i;function fa(i,e){e=e||{};const t={};function n(f,p,g,y){return J.isPlainObject(f)&&J.isPlainObject(p)?J.merge.call({caseless:y},f,p):J.isPlainObject(p)?J.merge({},p):J.isArray(p)?p.slice():p}function s(f,p,g,y){if(J.isUndefined(p)){if(!J.isUndefined(f))return n(void 0,f,g,y)}else return n(f,p,g,y)}function o(f,p){if(!J.isUndefined(p))return n(void 0,p)}function l(f,p){if(J.isUndefined(p)){if(!J.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,g){if(g in e)return n(f,p);if(g in i)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,g)=>s(Yw(f),Yw(p),g,!0)};return J.forEach(Object.keys({...i,...e}),function(p){const g=d[p]||s,y=g(i[p],e[p],p);J.isUndefined(y)&&g!==u||(t[p]=y)}),t}const VA=i=>{const e=fa({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=Un.from(l),e.url=FA($A(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),J.isFormData(t)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(J.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,g])=>{f.includes(p.toLowerCase())&&l.set(p,g)})}}if(An.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&Wk(e.url))){const d=s&&o&&Qk.read(o);d&&l.set(s,d)}return e},eP=typeof XMLHttpRequest<"u",tP=eP&&function(i){return new Promise(function(t,n){const s=VA(i);let o=s.data;const l=Un.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,p,g,y,S,v;function w(){S&&S(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function x(){if(!A)return;const _=Un.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:_,config:i,request:A};HA(function(P){t(P),w()},function(P){n(P),w()},M),A=null}"onloadend"in A?A.onloadend=x:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(x)},A.onabort=function(){A&&(n(new Be("Request aborted",Be.ECONNABORTED,i,A)),A=null)},A.onerror=function(O){const M=O&&O.message?O.message:"Network Error",R=new Be(M,Be.ERR_NETWORK,i,A);R.event=O||null,n(R),A=null},A.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||BA;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),n(new Be(O,M.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,i,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&J.forEach(l.toJSON(),function(O,M){A.setRequestHeader(M,O)}),J.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),f&&([y,v]=nh(f,!0),A.addEventListener("progress",y)),d&&A.upload&&([g,S]=nh(d),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(p=_=>{A&&(n(!_||_.type?new Io(null,i,A):_),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const L=Yk(s.url);if(L&&An.protocols.indexOf(L)===-1){n(new Be("Unsupported protocol "+L+":",Be.ERR_BAD_REQUEST,i));return}A.send(o||null)})},nP=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,s;const o=function(f){if(!s){s=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof Be?p:new Io(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const u=()=>{i&&(l&&clearTimeout(l),l=null,i.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),i=null)};i.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>J.asap(u),d}},iP=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,s;for(;n<t;)s=n+e,yield i.slice(n,s),n=s},rP=async function*(i,e){for await(const t of sP(i))yield*iP(t,e)},sP=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Xw=(i,e,t,n)=>{const s=rP(i,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){u(),d.close();return}let g=p.byteLength;if(t){let y=o+=g;t(y)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},Kw=64*1024,{isFunction:Sd}=J,aP=(({Request:i,Response:e})=>({Request:i,Response:e}))(J.global),{ReadableStream:Ww,TextEncoder:Qw}=J.global,Zw=(i,...e)=>{try{return!!i(...e)}catch{return!1}},oP=i=>{i=J.merge.call({skipUndefined:!0},aP,i);const{fetch:e,Request:t,Response:n}=i,s=e?Sd(e):typeof fetch=="function",o=Sd(t),l=Sd(n);if(!s)return!1;const u=s&&Sd(Ww),d=s&&(typeof Qw=="function"?(v=>w=>v.encode(w))(new Qw):async v=>new Uint8Array(await new t(v).arrayBuffer())),f=o&&u&&Zw(()=>{let v=!1;const w=new t(An.origin,{body:new Ww,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),p=l&&u&&Zw(()=>J.isReadableStream(new n("").body)),g={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(w,A)=>{let x=w&&w[v];if(x)return x.call(w);throw new Be(`Response type '${v}' is not supported`,Be.ERR_NOT_SUPPORT,A)})});const y=async v=>{if(v==null)return 0;if(J.isBlob(v))return v.size;if(J.isSpecCompliantForm(v))return(await new t(An.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(J.isArrayBufferView(v)||J.isArrayBuffer(v))return v.byteLength;if(J.isURLSearchParams(v)&&(v=v+""),J.isString(v))return(await d(v)).byteLength},S=async(v,w)=>{const A=J.toFiniteNumber(v.getContentLength());return A??y(w)};return async v=>{let{url:w,method:A,data:x,signal:L,cancelToken:_,timeout:O,onDownloadProgress:M,onUploadProgress:R,responseType:P,headers:B,withCredentials:U="same-origin",fetchOptions:C}=VA(v),V=e||fetch;P=P?(P+"").toLowerCase():"text";let ae=nP([L,_&&_.toAbortSignal()],O),ie=null;const Z=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let ue;try{if(R&&f&&A!=="get"&&A!=="head"&&(ue=await S(B,x))!==0){let X=new t(w,{method:"POST",body:x,duplex:"half"}),ee;if(J.isFormData(x)&&(ee=X.headers.get("content-type"))&&B.setContentType(ee),X.body){const[te,de]=Gw(ue,nh(qw(R)));x=Xw(X.body,Kw,te,de)}}J.isString(U)||(U=U?"include":"omit");const k=o&&"credentials"in t.prototype,H={...C,signal:ae,method:A.toUpperCase(),headers:B.normalize().toJSON(),body:x,duplex:"half",credentials:k?U:void 0};ie=o&&new t(w,H);let le=await(o?V(ie,C):V(w,H));const pe=p&&(P==="stream"||P==="response");if(p&&(M||pe&&Z)){const X={};["status","statusText","headers"].forEach(Se=>{X[Se]=le[Se]});const ee=J.toFiniteNumber(le.headers.get("content-length")),[te,de]=M&&Gw(ee,nh(qw(M),!0))||[];le=new n(Xw(le.body,Kw,te,()=>{de&&de(),Z&&Z()}),X)}P=P||"text";let j=await g[J.findKey(g,P)||"text"](le,v);return!pe&&Z&&Z(),await new Promise((X,ee)=>{HA(X,ee,{data:j,headers:Un.from(le.headers),status:le.status,statusText:le.statusText,config:v,request:ie})})}catch(k){throw Z&&Z(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,v,ie),{cause:k.cause||k}):Be.from(k,k&&k.code,v,ie)}}},lP=new Map,GA=i=>{let e=i?i.env:{};const{fetch:t,Request:n,Response:s}=e,o=[n,s,t];let l=o.length,u=l,d,f,p=lP;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:oP(e)),p=f;return f};GA();const pm={http:_k,xhr:tP,fetch:{get:GA}};J.forEach(pm,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Jw=i=>`- ${i}`,cP=i=>J.isFunction(i)||i===null||i===!1,qA={getAdapter:(i,e)=>{i=J.isArray(i)?i:[i];const{length:t}=i;let n,s;const o={};for(let l=0;l<t;l++){n=i[l];let u;if(s=n,!cP(n)&&(s=pm[(u=String(n)).toLowerCase()],s===void 0))throw new Be(`Unknown adapter '${u}'`);if(s&&(J.isFunction(s)||(s=s.get(e))))break;o[u||"#"+l]=s}if(!s){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(Jw).join(`
`):" "+Jw(l[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:pm};function Cg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Io(null,i)}function ex(i){return Cg(i),i.headers=Un.from(i.headers),i.data=_g.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),qA.getAdapter(i.adapter||Hc.adapter,i)(i).then(function(n){return Cg(i),n.data=_g.call(i,i.transformResponse,n),n.headers=Un.from(n.headers),n},function(n){return UA(n)||(Cg(i),n&&n.response&&(n.response.data=_g.call(i,i.transformResponse,n.response),n.response.headers=Un.from(n.response.headers))),Promise.reject(n)})}const YA="1.12.2",Fh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Fh[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const tx={};Fh.transitional=function(e,t,n){function s(o,l){return"[Axios v"+YA+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new Be(s(l," has been removed"+(t?" in "+t:"")),Be.ERR_DEPRECATED);return t&&!tx[l]&&(tx[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Fh.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function uP(i,e,t){if(typeof i!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const o=n[s],l=e[o];if(l){const u=i[o],d=u===void 0||l(u,o,i);if(d!==!0)throw new Be("option "+o+" must be "+d,Be.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Be("Unknown option "+o,Be.ERR_BAD_OPTION)}}const zd={assertOptions:uP,validators:Fh},Ki=zd.validators;let oa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $w,response:new $w}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fa(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:o}=t;n!==void 0&&zd.assertOptions(n,{silentJSONParsing:Ki.transitional(Ki.boolean),forcedJSONParsing:Ki.transitional(Ki.boolean),clarifyTimeoutError:Ki.transitional(Ki.boolean)},!1),s!=null&&(J.isFunction(s)?t.paramsSerializer={serialize:s}:zd.assertOptions(s,{encode:Ki.function,serialize:Ki.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),zd.assertOptions(t,{baseUrl:Ki.spelling("baseURL"),withXsrfToken:Ki.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&J.merge(o.common,o[t.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),t.headers=Un.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let p,g=0,y;if(!d){const v=[ex.bind(this),void 0];for(v.unshift(...u),v.push(...f),y=v.length,p=Promise.resolve(t);g<y;)p=p.then(v[g++],v[g++]);return p}y=u.length;let S=t;for(;g<y;){const v=u[g++],w=u[g++];try{S=v(S)}catch(A){w.call(this,A);break}}try{p=ex.call(this,S)}catch(v){return Promise.reject(v)}for(g=0,y=f.length;g<y;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=fa(this.defaults,e);const t=$A(e.baseURL,e.url,e.allowAbsoluteUrls);return FA(t,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){oa.prototype[e]=function(t,n){return this.request(fa(n||{},{method:e,url:t,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(fa(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}oa.prototype[e]=t(),oa.prototype[e+"Form"]=t(!0)});let dP=class XA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new Io(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new XA(function(s){e=s}),cancel:e}}};function hP(i){return function(t){return i.apply(null,t)}}function fP(i){return J.isObject(i)&&i.isAxiosError===!0}const gm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gm).forEach(([i,e])=>{gm[e]=i});function KA(i){const e=new oa(i),t=CA(oa.prototype.request,e);return J.extend(t,oa.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return KA(fa(i,s))},t}const It=KA(Hc);It.Axios=oa;It.CanceledError=Io;It.CancelToken=dP;It.isCancel=UA;It.VERSION=YA;It.toFormData=Ih;It.AxiosError=Be;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=hP;It.isAxiosError=fP;It.mergeConfig=fa;It.AxiosHeaders=Un;It.formToJSON=i=>zA(J.isHTMLForm(i)?new FormData(i):i);It.getAdapter=qA.getAdapter;It.HttpStatusCode=gm;It.default=It;const{Axios:GB,AxiosError:qB,CanceledError:YB,isCancel:XB,CancelToken:KB,VERSION:WB,all:QB,Cancel:ZB,isAxiosError:JB,spread:e4,toFormData:t4,AxiosHeaders:n4,HttpStatusCode:i4,formToJSON:r4,getAdapter:s4,mergeConfig:a4}=It,WA=It.create({baseURL:Wm}),pP=async i=>{try{return console.log(`${Wm}/documents/generate/VES`),(await WA.post("/documents/generate/VES",{data:i},{responseType:"blob"})).data}catch(e){console.log(e)}return null},mm=(i,e)=>e.some(t=>i instanceof t);let nx,ix;function gP(){return nx||(nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ym=new WeakMap,Tg=new WeakMap,Bh=new WeakMap;function yP(i){const e=new Promise((t,n)=>{const s=()=>{i.removeEventListener("success",o),i.removeEventListener("error",l)},o=()=>{t(la(i.result)),s()},l=()=>{n(i.error),s()};i.addEventListener("success",o),i.addEventListener("error",l)});return Bh.set(e,i),e}function bP(i){if(ym.has(i))return;const e=new Promise((t,n)=>{const s=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",l),i.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",o),i.addEventListener("error",l),i.addEventListener("abort",l)});ym.set(i,e)}let bm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ym.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return la(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function QA(i){bm=i(bm)}function vP(i){return mP().includes(i)?function(...e){return i.apply(vm(this),e),la(this.request)}:function(...e){return la(i.apply(vm(this),e))}}function SP(i){return typeof i=="function"?vP(i):(i instanceof IDBTransaction&&bP(i),mm(i,gP())?new Proxy(i,bm):i)}function la(i){if(i instanceof IDBRequest)return yP(i);if(Tg.has(i))return Tg.get(i);const e=SP(i);return e!==i&&(Tg.set(i,e),Bh.set(e,i)),e}const vm=i=>Bh.get(i);function wP(i,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const l=indexedDB.open(i,e),u=la(l);return n&&l.addEventListener("upgradeneeded",d=>{n(la(l.result),d.oldVersion,d.newVersion,la(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const xP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],Rg=new Map;function rx(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=AP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||xP.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),s&&d.done]))[0]};return Rg.set(e,o),o}QA(i=>({...i,get:(e,t,n)=>rx(e,t)||i.get(e,t,n),has:(e,t)=>!!rx(e,t)||i.has(e,t)}));const EP=["continue","continuePrimaryKey","advance"],sx={},Sm=new WeakMap,ZA=new WeakMap,_P={get(i,e){if(!EP.includes(e))return i[e];let t=sx[e];return t||(t=sx[e]=function(...n){Sm.set(this,ZA.get(this)[e](...n))}),t}};async function*CP(...i){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...i)),!e)return;e=e;const t=new Proxy(e,_P);for(ZA.set(t,e),Bh.set(t,vm(e));e;)yield t,e=await(Sm.get(t)||e.continue()),Sm.delete(t)}function ax(i,e){return e===Symbol.asyncIterator&&mm(i,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&mm(i,[IDBIndex,IDBObjectStore])}QA(i=>({...i,get(e,t,n){return ax(e,t)?CP:i.get(e,t,n)},has(e,t){return ax(e,t)||i.has(e,t)}}));const $c=wP("metriclog_db",1,{upgrade(i){i.objectStoreNames.contains("report_document")||i.createObjectStore("report_document",{keyPath:"code"})}});async function JA(i){const e=await $c;if(await e.count("report_document")>=5){const n=await e.getAll("report_document");n.sort((s,o)=>s.createdAt.localeCompare(o.createdAt)),await e.delete("report_document",n[0].code)}await e.put("report_document",i)}async function eE(){return(await(await $c).getAll("report_document")).map(({code:t,name:n,locked:s,createdAt:o})=>({code:t,name:n,locked:s,createdAt:o}))}async function TP(i){return(await(await $c).get("report_document",i))?.file||null}async function RP(i){await(await $c).delete("report_document",i)}async function MP(i){const e=await $c,t=await e.get("report_document",i);t&&(t.locked=!1,await e.put("report_document",t))}const lc=X1("reports/generate",async(i,{rejectWithValue:e})=>{try{console.log(i);const t=await pP(i);if(!t)throw new Error("No se recibi el archivo PDF");const n=BN(),s={code:n,name:`${i.measured_at} ${i.client} ${i.location}`,locked:!0,createdAt:new Date().toISOString(),file:t};return await JA(s),{code:n,name:`${i.measured_at} ${i.client} ${i.location}`,locked:!0,createdAt:new Date().toISOString()}}catch(t){const n=t instanceof Error?t.message:"Error desconocido al generar el reporte";return e(n)}}),Ud=X1("reports/loadFromDB",async()=>await eE()),OP={reports:[],selectedReport:null,isGenerating:!1,generateError:null,isLoading:!1},tE=vh({name:"reports",initialState:OP,reducers:{setReports(i,e){i.reports=e.payload},selectReport(i,e){i.selectedReport=e.payload},addReport(i,e){i.reports.push(e.payload),i.selectedReport=e.payload},unlockReport(i,e){const t=i.reports.find(n=>n.code===e.payload);t&&(t.locked=!1)},clearItems(i){i.reports=[]},clearGenerateError(i){i.generateError=null}},extraReducers:i=>{i.addCase(Ud.pending,e=>{e.isLoading=!0}).addCase(Ud.fulfilled,(e,t)=>{e.isLoading=!1,e.reports=t.payload}).addCase(Ud.rejected,e=>{e.isLoading=!1}).addCase(lc.pending,e=>{e.isGenerating=!0,e.generateError=null}).addCase(lc.fulfilled,(e,t)=>{e.isGenerating=!1,e.reports.push(t.payload),e.selectedReport=t.payload}).addCase(lc.rejected,(e,t)=>{e.isGenerating=!1,e.generateError=t.payload})}}),{addReport:o4,unlockReport:l4,clearItems:DP,selectReport:LP,setReports:NP,clearGenerateError:kP}=tE.actions,PP=tE.reducer,jP=i=>i.reports.reports,IP=i=>i.reports.isGenerating,FP=i=>i.reports.generateError;function fy(){const i=ph(),e=Mn(jP),t=Mn(IP),n=Mn(FP);return{reports:e,isGenerating:t,error:n,generateSevReport:async l=>{const u=await i(lc(l));if(lc.rejected.match(u))throw new Error(u.payload);return u.payload},dismissError:()=>{i(kP())}}}const Tn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),wm=[.001,0,0,.001,0,0],Mg=1.35,Wn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ir={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nE="pdfjs_internal_editor_",je={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},We={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},iE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},wn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},cc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},zt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},po={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Vc={ERRORS:0,WARNINGS:1,INFOS:5},xc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},wd={moveTo:0,lineTo:1,curveTo:2,closePath:3},rE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let zh=Vc.WARNINGS;function BP(i){Number.isInteger(i)&&(zh=i)}function zP(){return zh}function Uh(i){zh>=Vc.INFOS&&console.log(`Info: ${i}`)}function Ie(i){zh>=Vc.WARNINGS&&console.log(`Warning: ${i}`)}function ht(i){throw new Error(i)}function Wt(i,e){i||ht(e)}function UP(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function py(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=qP(i)}catch{}const n=e?URL.parse(i,e):URL.parse(i);return UP(n)?n:null}function gy(i,e,t=!1){const n=URL.parse(i);return n?(n.hash=e,n.href):t&&py(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Xe(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const ba=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class ox extends ba{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Og extends ba{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ih extends ba{constructor(e){super(e,"InvalidPDFException")}}class Ac extends ba{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class HP extends ba{constructor(e){super(e,"FormatError")}}class kr extends ba{constructor(e){super(e,"AbortException")}}function sE(i){(typeof i!="object"||i?.length===void 0)&&ht("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),l=i.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Gc(i){typeof i!="string"&&ht("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function $P(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function VP(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function GP(){try{return new Function(""),!0}catch{return!1}}class ln{static get isLittleEndian(){return Xe(this,"isLittleEndian",VP())}static get isEvalSupported(){return Xe(this,"isEvalSupported",GP())}static get isOffscreenCanvasSupported(){return Xe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Xe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Xe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Xe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Dg=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class xe{static makeHexColor(e,t,n){return`#${Dg[e]}${Dg[t]}${Dg[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const s=e[n],o=e[n+1];e[n]=s*t[0]+o*t[2]+t[4],e[n+1]=s*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const s=t[0],o=t[1],l=t[2],u=t[3],d=t[4],f=t[5];for(let p=0;p<6;p+=2){const g=e[n+p],y=e[n+p+1];e[n+p]=g*s+y*l+d,e[n+p+1]=g*o+y*u+f}}static applyInverseTransform(e,t){const n=e[0],s=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const s=t[0],o=t[1],l=t[2],u=t[3],d=t[4],f=t[5],p=e[0],g=e[1],y=e[2],S=e[3];let v=s*p+d,w=v,A=s*y+d,x=A,L=u*g+f,_=L,O=u*S+f,M=O;if(o!==0||l!==0){const R=o*p,P=o*y,B=l*g,U=l*S;v+=B,x+=B,A+=U,w+=U,L+=R,M+=R,O+=P,_+=P}n[0]=Math.min(n[0],v,A,w,x),n[1]=Math.min(n[1],L,O,_,M),n[2]=Math.max(n[2],v,A,w,x),n[3]=Math.max(n[3],L,O,_,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],s=e[1],o=e[2],l=e[3],u=n**2+s**2,d=n*o+s*l,f=o**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));t[0]=Math.sqrt(p+g||1),t[1]=Math.sqrt(p-g||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,s,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,s,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,s),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,s)}static#e(e,t,n,s,o,l,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,y=f*f,S=y*f,v=g*(g*(g*e+3*f*t)+3*y*n)+S*s,w=g*(g*(g*o+3*f*l)+3*y*u)+S*d;p[0]=Math.min(p[0],v),p[1]=Math.min(p[1],w),p[2]=Math.max(p[2],v),p[3]=Math.max(p[3],w)}static#t(e,t,n,s,o,l,u,d,f,p,g,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#e(e,t,n,s,o,l,u,d,-g/p,y);return}const S=p**2-4*g*f;if(S<0)return;const v=Math.sqrt(S),w=2*f;this.#e(e,t,n,s,o,l,u,d,(-p+v)/w,y),this.#e(e,t,n,s,o,l,u,d,(-p-v)/w,y)}static bezierBoundingBox(e,t,n,s,o,l,u,d,f){f[0]=Math.min(f[0],e,u),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,u),f[3]=Math.max(f[3],t,d),this.#t(e,n,o,u,t,s,l,d,3*(-e+3*(n-o)+u),6*(e-2*n+o),3*(n-e),f),this.#t(e,n,o,u,t,s,l,d,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),f)}}function qP(i){return decodeURIComponent(escape(i))}let Lg=null,lx=null;function aE(i){return Lg||(Lg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lx=new Map([["","t"]])),i.replaceAll(Lg,(e,t,n)=>t?t.normalize("NFKC"):lx.get(n))}function my(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),sE(i)}const yy="pdfjs_internal_id_";function YP(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,s,...o]=t;if(!i(n)&&!Number.isInteger(n)||!e(s))return!1;const l=o.length;let u=!0;switch(s.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function xn(i,e,t){return Math.min(Math.max(i,e),t)}function oE(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(sE(i))}function XP(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Gc(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});const Tr="http://www.w3.org/2000/svg";class pa{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Fo(i,e="text"){if(nc(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class qc{constructor({viewBox:e,userUnit:t,scale:n,rotation:s,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=s,this.offsetX=o,this.offsetY=l,n*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,y,S;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,y=0,S=1;break;case 90:p=0,g=1,y=1,S=0;break;case 270:p=0,g=-1,y=-1,S=0;break;case 0:p=1,g=0,y=0,S=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,S=-S);let v,w,A,x;p===0?(v=Math.abs(f-e[1])*n+o,w=Math.abs(d-e[0])*n+l,A=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(v=Math.abs(d-e[0])*n+o,w=Math.abs(f-e[1])*n+l,A=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[p*n,g*n,y*n,S*n,v-p*n*d-y*n*f,w-g*n*d-S*n*f],this.width=A,this.height=x}get rawDims(){const e=this.viewBox;return Xe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new qc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return xe.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];xe.applyTransform(t,this.transform);const n=[e[2],e[3]];return xe.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return xe.applyInverseTransform(n,this.transform),n}}class Hh extends ba{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Yc(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function $h(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function lE(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function cE(i,e="document.pdf"){if(typeof i!="string")return e;if(Yc(i))return Ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return e;const s=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return s(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return s(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return s(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return s(d[0])}return e}class cx{started=Object.create(null);times=[];time(e){e in this.started&&Ie(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ie(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function nc(i,e){const t=e?URL.parse(i,e):URL.parse(i);return t?.protocol==="http:"||t?.protocol==="https:"}function Ai(i){i.preventDefault()}function Ht(i){i.preventDefault(),i.stopPropagation()}function KP(i){console.log("Deprecated API usage: "+i)}class by{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(n,s,o,l,u,d))}}function uE(i,{scale:e=1,rotation:t=0}){const{width:n,height:s}=i.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new qc({viewBox:o,userUnit:1,scale:e,rotation:t})}function vy(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ie(`Not a valid color format: "${i}"`),[0,0,0])}function WP(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,vy(n))}e.remove()}function Ot(i){const{a:e,b:t,c:n,d:s,e:o,f:l}=i.getTransform();return[e,t,n,s,o,l]}function Wi(i){const{a:e,b:t,c:n,d:s,e:o,f:l}=i.getTransform().invertSelf();return[e,t,n,s,o,l]}function vs(i,e,t=!1,n=!0){if(e instanceof qc){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:l}=i,u=ln.isCSSRoundSupported,d=`var(--total-scale-factor) * ${s}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&i.setAttribute("data-main-rotation",e.rotation)}class ki{constructor(){const{pixelRatio:e}=ki;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,s,o=-1){let l=1/0,u=1/0,d=1/0;n=ki.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),s!==-1&&(u=s/e,d=s/t);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const rh=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class uc{#e=null;#t=null;#n;#i=null;#s=null;#r=null;static#o=null;constructor(e){this.#n=e,uc.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Ai,{signal:t}),e.addEventListener("pointerdown",uc.#a,{signal:t});const n=this.#i=document.createElement("div");n.className="buttons",e.append(n);const s=this.#n.toolbarPosition;if(s){const{style:o}=e,l=this.#n._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#a(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,Ht(e)}#l(e){this.#n._focusEventsAllowed=!0,Ht(e)}#h(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ai,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",uc.#o[e]),this.#h(n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),this.#i.append(n)}get#u(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#i.append(t,this.#u),this.#s=e}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#h(t),this.#i.append(t,this.#u)}async addEditSignatureButton(e){const t=this.#r=await e.renderEditButton(this.#n);this.#h(t),this.#i.append(t,this.#u)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){this.#r&&(this.#r.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class QP{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ai,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#r(),e}#s(e,t){let n=0,s=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const u=o.x+(t?o.width:0);if(l>n){s=u,n=l;continue}t?u>s&&(s=u):u<s&&(s=u)}return[t?1-s:s,n]}show(e,t,n){const[s,o]=this.#s(t,n),{style:l}=this.#t||=this.#i();e.append(this.#t),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;e.addEventListener("contextmenu",Ai,{signal:n}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#e.append(e)}}function dE(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}class ZP{#e=0;get id(){return`${nE}${this.#e++}`}}class Sy{#e=my();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Xe(this,"_isSVGFittingCanvas",o)}async#i(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof t=="string"?(n.url=t,s=await Fo(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const o=Sy._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;u.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(s),await d}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){Ie(s),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return this.#i(`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return this.#i(e,e)}async getFromBlob(e,t){const n=await t;return this.#i(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class JP{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(s&&e(),this.#t)return;const d={cmd:e,undo:t,post:n,type:o};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(d);return}if(l&&this.#e[this.#i].type===o){u&&(d.undo=this.#e[this.#i].undo),this.#e[this.#i]=d;return}const f=this.#i+1;f===this.#n?this.#e.splice(0,1):(this.#i=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#i===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}cleanType(e){if(this.#i!==-1){for(let t=this.#i;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#i-t),this.#i=t;return}this.#e.length=0,this.#i=-1}}destroy(){this.#e=null}}class Xc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ln.platform;for(const[n,s,o={}]of e)for(const l of n){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(e,t)||(s.bind(e,...l,t)(),o||Ht(t))}}class wy{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return WP(e),Xe(this,"_colors",e)}convert(e){const t=vy(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,l)=>o===t[l]))return wy._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?xe.makeHexColor(...t):e}}class Pr{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#o=null;#a=new JP;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#g=new Set;_editorUndoBar=null;#c=!1;#m=!1;#y=!1;#b=null;#S=null;#w=null;#x=null;#_=!1;#T=null;#M=new ZP;#A=!1;#R=!1;#C=null;#D=null;#L=null;#N=null;#z=null;#E=je.NONE;#v=new Set;#I=null;#F=null;#$=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#k=null;#P=null;#H=null;#K=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Pr.prototype,t=l=>l.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new Xc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#P.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}constructor(e,t,n,s,o,l,u,d,f,p,g,y,S,v,w){const A=this._signal=this.#e.signal;this.#P=e,this.#H=t,this.#K=n,this.#s=s,this.#F=o,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:A}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),l._on("setpreference",this.onSetPreference.bind(this),{signal:A}),l._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:A}),this.#re(),this.#le(),this.#Q(),this.#r=u.annotationStorage,this.#b=u.filterFactory,this.#$=d,this.#x=f||null,this.#c=p,this.#m=g,this.#y=y,this.#z=S||null,this.viewParameters={realScale:pa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=w!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#g.clear(),this.#N?.clear(),this.#t=null,this.#v.clear(),this.#a.destroy(),this.#s?.destroy(),this.#F?.destroy(),this.#T?.hide(),this.#T=null,this.#L?.destroy(),this.#L=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Xe(this,"hcmFilter",this.#$?this.#b.addHCMFilter(this.#$.foreground,this.#$.background):"none")}get direction(){return Xe(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return Xe(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}getSignature(e){this.#F?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#F}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#P.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:s,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=o&&t<=o+u)return n}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#g.add(e)}removeShouldRescale(e){this.#g.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*pa.PDF_TO_CSS_UNITS;for(const t of this.#g)t.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#W(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l}=t,u=t.toString(),f=this.#Y(t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const g=this.#W(f),y=this.#E===je.NONE,S=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l,text:u}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(je.HIGHLIGHT,S);return}S()}#ne(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Y(e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#T||=new QP(this),this.#T.show(n,s,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#K;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#ie(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#T?.hide(),this.#I=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const s=this.#Y(e).closest(".textLayer");if(!s){this.#I&&(this.#T?.hide(),this.#I=null,this.#O({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#I=t,this.#O({hasSelectedText:!0}),!(this.#E!==je.HIGHLIGHT&&this.#E!==je.NONE)&&(this.#E===je.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#E===je.HIGHLIGHT?this.#W(s):null;o?.toggleDrawing();const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}}#X(e=""){this.#E===je.HIGHLIGHT?this.highlightSelection(e):this.#c&&this.#ne()}#re(){document.addEventListener("selectionchange",this.#ie.bind(this),{signal:this._signal})}#se(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ae(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#v)if(t.div.contains(e)){this.#D=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,t]=this.#D;this.#D=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const e=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#oe(){this.#C?.abort(),this.#C=null}#Z(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#J(){this.#d?.abort(),this.#d=null}#le(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#oe(),this.#J()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#v){const s=n.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of this.#p)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ie(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const d of n){const f=await s.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#ee(d);this.#te(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Ie(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==je.NONE&&!this.isEditorHandlingKeyboard&&Pr._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#O(e){Object.entries(e).some(([n,s])=>this.#G[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#E===je.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#B([[We.HIGHLIGHT_FREE,!0]]))}#B(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#se(),this.#Z(),this.#O({isEditing:this.#E!==je.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ae(),this.#J(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#p){this.#p=e;for(const t of this.#p)this.#B(t.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#A?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,s=!1){if(this.#E!==e&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=e,e===je.NONE){this.setEditingState(!1),this.#ue(),this._editorUndoBar?.hide(),this.#j.resolve();return}e===je.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ce(),this.unselectAll();for(const o of this.#i.values())o.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const o of this.#n.values())o.annotationElementId===t||o.id===t?(this.setSelected(o),s&&o.enterInEditMode()):o.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#p){switch(e){case We.CREATE:this.currentLayer.addNewEditor(t);return;case We.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(t);break;case We.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(e,t),this.showAllEditors("highlight",t);break}for(const n of this.#v)n.updateParams(e,t);for(const n of this.#p)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const o of this.#n.values())o.editorType===e&&o.show(t);(this.#V?.get(We.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#B([[We.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#R!==e){this.#R=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ce(){if(!this.#A){this.#A=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#ue(){if(this.unselectAll(),this.#A){this.#A=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#n.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#N?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ee(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#B(e.propertiesToUpdate))}get#de(){let e=null;for(e of this.#v);return e}updateUI(e){this.#de===e&&this.#B(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#B(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#v.has(e)){this.#v.delete(e),e.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#v.add(e),e.select(),this.#B(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#l?.commitOrRemove();for(const t of this.#v)t!==e&&t.unselect();this.#v.clear(),this.#v.add(e),e.select(),this.#B(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(e){return this.#v.has(e)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(e){e.unselect(),this.#v.delete(e),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#O({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(e){this.#a.add(e),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(e){this.#a.cleanType(e)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#v],n=()=>{this._editorUndoBar?.show(s,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},s=()=>{for(const o of t)this.#ee(o)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#te(e){for(const t of this.#v)t.unselect();this.#v.clear();for(const t of e)t.isEmpty()||(this.#v.add(t),t.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#v)e.commit();this.#te(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==je.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const e of this.#v)e.unselect();this.#v.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=t;const[s,o]=this.#U,l=[...this.#v],u=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(s,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-s,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#v)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:s,y:o,pageIndex:l},u]of e)u.newX=s,u.newY=o,u.newPageIndex=l,t||=s!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!t)return!1;const n=(s,o,l,u)=>{if(this.#n.has(s.id)){const d=this.#i.get(u);d?s._setParentAndPosition(d,o,l):(s.pageIndex=u,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:u}]of e)n(s,o,l,u)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:u}]of e)n(s,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return Xe(this,"imageManager",new Sy)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(f,p,g,y)=>({x:(p-s)/l,y:1-(f+g-n)/o,width:y/l,height:g/o});break;case"180":u=(f,p,g,y)=>({x:1-(f+g-n)/o,y:1-(p+y-s)/l,width:g/o,height:y/l});break;case"270":u=(f,p,g,y)=>({x:1-(p+y-s)/l,y:(f-n)/o,width:y/l,height:g/o});break;default:u=(f,p,g,y)=>({x:(f-n)/o,y:(p-s)/l,width:g/o,height:y/l});break}const d=[];for(let f=0,p=t.rangeCount;f<p;f++){const g=t.getRangeAt(f);if(!g.collapsed)for(const{x:y,y:S,width:v,height:w}of g.getClientRects())v===0||w===0||d.push(u(y,S,v,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#E===je.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const s=this.#N?.get(e);s&&(s.setCanvas(t,n),this.#N.delete(e))}addMissingCanvas(e,t){(this.#N||=new Map).set(e,t)}}class Ji{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#o=!1;#a=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,Ji.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Ji._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#i=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ji.#f.missing),t.setAttribute("data-l10n-id",Ji.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#d._uiManager._signal;e.addEventListener("contextmenu",Ai,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(this.#o=!0,s(o))},{signal:n}),await this.#g(),e}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){const t=this.#a=document.createElement("div");t.className="noAltTextBadge",this.#d.div.append(t)}this.#a.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(this.#l=n,this.#h=s),!(this.#e===e&&this.#t===t)&&(o||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#a?.remove(),this.#a=null}async#g(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Ji.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",Ji.#f[`${this.#p}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#d.id}`;const s=100,o=this.#d._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:o})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#d.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Kc{#e;#t=!1;#n=null;#i;#s;#r;#o;#a=null;#d;#l=null;#h;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#e=e,this.#n=n,this.#i=t,this.#s=s,this.#r=o,this.#o=l,this.#h=new AbortController,this.#d=AbortSignal.any([u,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ki.pixelRatio}#f(e){if(this.#i?.())return;if(e.touches.length===1){if(this.#a)return;const s=this.#a=new AbortController,o=AbortSignal.any([this.#d,s.signal]),l=this.#e,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Ht(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#u){this.#u=new AbortController;const s=AbortSignal.any([this.#d,this.#u.signal]),o=this.#e,l={signal:s,capture:!1,passive:!1};o.addEventListener("touchmove",this.#p.bind(this),l);const u=this.#g.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",Ht,l),o.addEventListener("pointermove",Ht,l),o.addEventListener("pointercancel",Ht,l),o.addEventListener("pointerup",Ht,l),this.#s?.()}if(Ht(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(e){if(!this.#l||e.touches.length!==2)return;Ht(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:s,screenY:o}=t,{screenX:l,screenY:u}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:y}=d,S=g-f,v=y-p,w=l-s,A=u-o,x=Math.hypot(w,A)||1,L=Math.hypot(S,v)||1;if(!this.#t&&Math.abs(L-x)<=Kc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=s,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#t){this.#t=!0;return}const _=[(s+l)/2,(o+u)/2];this.#r?.(_,L,x)}#g(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(Ht(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#a?.abort(),this.#a=null}}class Ee{#e=null;#t=null;#n=null;#i=!1;#s=null;#r="";#o=!1;#a=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#g=!1;#c=!1;#m=!1;#y=null;#b=0;#S=0;#w=null;#x=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=Ee._zIndex++;static _borderLineWidth=-1;static _colorManager=new wy;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ee.prototype._resizeWithKeyboard,t=Pr.TRANSLATE_SMALL,n=Pr.TRANSLATE_BIG;return Xe(this,"_resizerKeyboardManager",new Xc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ee.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ej({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ee._l10n??=e,Ee._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ee._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ee._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ht("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(e){this.#_=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#H(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,s]=this.parentDimensions;this.setAt(e*n,t*s,this.width*n,this.height*s),this._onTranslated()}#M([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#M(this.parentDimensions,e,t)}translateInPage(e,t){this.#p||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,o]}=this;if(this.x+=e/s,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ee,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,s]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=s,o*=n,l*=s,this._mustFixPosition)switch(e){case 0:o=xn(o,0,n-u),l=xn(l,0,s-d);break;case 90:o=xn(o,0,n-d),l=xn(l,u,s);break;case 180:o=xn(o,u,n),l=xn(l,d,s);break;case 270:o=xn(o,d,n),l=xn(l,0,s-u);break}this.x=o/=n,this.y=l/=s;const[f,p]=this.getBaseTranslation();o+=f,l+=p,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#A(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ee.#A(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ee.#A(e,t,360-this.parentRotation)}#R(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,this.#o||(o.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!this.#o&&t.endsWith("%");if(s&&o)return;const[l,u]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!this.#o&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");this.#a.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#D.bind(this,n),{signal:t}),s.addEventListener("contextmenu",Ai,{signal:t}),s.tabIndex=-1}this.div.prepend(this.#a)}#D(e,t){t.preventDefault();const{isMac:n}=ln.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#d=[t.screenX,t.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Ht,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ai,{signal:l}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#L(e,t,n,s){this.width=n,this.height=s,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*s),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#l)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=this.#l;this.#l=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===e&&l===t&&u===n&&d===s||this.addCommands({cmd:this.#L.bind(this,o,l,u,d),undo:this.#L.bind(this,e,t,n,s),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#z(e,t){const[n,s]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=Ee.MIN_SIZE/n,p=Ee.MIN_SIZE/s,g=this.#R(this.rotation),y=(k,H)=>[g[0]*k+g[2]*H,g[1]*k+g[3]*H],S=this.#R(360-this.rotation),v=(k,H)=>[S[0]*k+S[2]*H,S[1]*k+S[3]*H];let w,A,x=!1,L=!1;switch(e){case"topLeft":x=!0,w=(k,H)=>[0,0],A=(k,H)=>[k,H];break;case"topMiddle":w=(k,H)=>[k/2,0],A=(k,H)=>[k/2,H];break;case"topRight":x=!0,w=(k,H)=>[k,0],A=(k,H)=>[0,H];break;case"middleRight":L=!0,w=(k,H)=>[k,H/2],A=(k,H)=>[0,H/2];break;case"bottomRight":x=!0,w=(k,H)=>[k,H],A=(k,H)=>[0,0];break;case"bottomMiddle":w=(k,H)=>[k/2,H],A=(k,H)=>[k/2,0];break;case"bottomLeft":x=!0,w=(k,H)=>[0,H],A=(k,H)=>[k,0];break;case"middleLeft":L=!0,w=(k,H)=>[0,H/2],A=(k,H)=>[k,H/2];break}const _=w(u,d),O=A(u,d);let M=y(...O);const R=Ee._round(o+M[0]),P=Ee._round(l+M[1]);let B=1,U=1,C,V;if(t.fromKeyboard)({deltaX:C,deltaY:V}=t);else{const{screenX:k,screenY:H}=t,[le,pe]=this.#d;[C,V]=this.screenToPageTranslation(k-le,H-pe),this.#d[0]=k,this.#d[1]=H}if([C,V]=v(C/n,V/s),x){const k=Math.hypot(u,d);B=U=Math.max(Math.min(Math.hypot(O[0]-_[0]-C,O[1]-_[1]-V)/k,1/u,1/d),f/u,p/d)}else L?B=xn(Math.abs(O[0]-_[0]-C),f,1)/u:U=xn(Math.abs(O[1]-_[1]-V),p,1)/d;const ae=Ee._round(u*B),ie=Ee._round(d*U);M=y(...A(ae,ie));const Z=R-M[0],ue=P-M[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=ae,this.height=ie,this.x=Z,this.y=ue,this.setDims(n*ae,s*ie),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new uc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Ji.initialize(Ee._l10n),this.#n=new Ji(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#i?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#V();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),dE(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#x||=new Kc({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#v.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#v(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=this.#R(this.rotation),u=(R,P)=>[l[0]*R+l[2]*P,l[1]*R+l[3]*P],[d,f]=this.parentDimensions,p=this.x,g=this.y,y=this.width,S=this.height,v=Ee.MIN_SIZE/d,w=Ee.MIN_SIZE/f;o=Math.max(Math.min(o,1/y,1/S),v/y,w/S);const A=Ee._round(y*o),x=Ee._round(S*o);if(A===y&&x===S)return;this.#p||=[p,g,y,S];const L=u(y/2,S/2),_=Ee._round(p+L[0]),O=Ee._round(g+L[1]),M=u(A/2,x/2);this.x=_-M[0],this.y=O-M[1],this.width=A,this.height=x,this.setDims(d*A,f*x),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(e){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#$(e);return}this.#F(e)}#F(e){const{isMac:t}=ln.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#$(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:o},u=f=>{s.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(f),n&&this._onStopDragging()};t&&(this.#b=e.clientX,this.#S=e.clientY,this.#s=e.pointerId,this.#r=e.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:g,pointerId:y}=f;if(y!==this.#s){Ht(f);return}const[S,v]=this.screenToPageTranslation(p-this.#b,g-this.#S);this.#b=p,this.#S=g,this._uiManager.dragSelectedEditors(S,v)},l),window.addEventListener("touchmove",Ht,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#r&&(this.#x||f.isPrimary)&&u(f),Ht(f)},l));const d=f=>{if(!this.#s||this.#s===f.pointerId){u(f);return}Ht(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=e/s,p=t/s,g=this.x*o,y=this.y*l,S=this.width*o,v=this.height*l;switch(n){case 0:return[g+f+u,l-y-p-v+d,g+f+S+u,l-y-p+d];case 90:return[g+p+u,l-y+f+d,g+p+v+u,l-y+f+S+d];case 180:return[g-f-S+u,l-y+p+d,g-f+u,l-y+p+v+d];case 270:return[g-p-v+u,l-y-f-S+d,g-p+u,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,l]=e,u=o-n,d=l-s;switch(this.rotation){case 0:return[n,t-l,u,d];case 90:return[n,t-s,d,u];case 180:return[o,t-s,u,d];case 270:return[o,t-l,d,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&s>0&&e<o&&n>0}#V(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#V()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){ht("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});s.rotation=e.rotation,s.#e=e.accessibilityData,s._isCopy=e.isCopy||!1;const[o,l]=s.pageDimensions,[u,d,f,p]=s.getRectInCurrentCoords(e.rect,l);return s.x=u/o,s.y=d/l,s.width=f/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#H(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#x?.destroy(),this.#x=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#a.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#a.children;if(!this.#t){this.#t=Array.from(t);const l=this.#G.bind(this),u=this.#U.bind(this),d=this._uiManager._signal;for(const f of this.#t){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#k.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Ee._l10nResizer[p])}}const n=this.#t[0];let s=0;for(const l of t){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==s){if(o<s)for(let u=0;u<s-o;u++)this.#a.append(this.#a.firstChild);else if(o>s)for(let u=0;u<o-s;u++)this.#a.firstChild.before(this.#a.lastChild);let l=0;for(const u of t){const f=this.#t[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ee._l10nResizer[f])}}this.#P(0),this.#m=!0,this.#a.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Ee._resizerKeyboardManager.exec(this,e)}#U(e){this.#m&&e.relatedTarget?.parentNode!==this.#a&&this.#H()}#k(e){this.#u=this.#m?e:""}#P(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#m&&this.#z(this.#u,{deltaX:e,deltaY:t,fromKeyboard:!0})}#H(){this.#m=!1,this.#P(-1),this.#N()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#o=!0;const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#w||=new Map;const{action:n}=e;let s=this.#w.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(n),this.#w.size===0&&(this.#w=null)},Ee._telemetryTimeout),this.#w.set(n,s);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class ej extends Ee{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ux=3285377520,yi=4294901760,Qi=65535;class hE{constructor(e){this.h1=e?e&4294967295:ux,this.h2=e?e&4294967295:ux}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let w=0,A=e.length;w<A;w++){const x=e.charCodeAt(w);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(t.buffer,0,s);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,y=461845907,S=g&Qi,v=y&Qi;for(let w=0;w<s;w++)w&1?(u=l[w],u=u*g&yi|u*S&Qi,u=u<<15|u>>>17,u=u*y&yi|u*v&Qi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[w],d=d*g&yi|d*S&Qi,d=d<<15|d>>>17,d=d*y&yi|d*v&Qi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=t[s*4+2]<<16;case 2:u^=t[s*4+1]<<8;case 1:u^=t[s*4],u=u*g&yi|u*S&Qi,u=u<<15|u>>>17,u=u*y&yi|u*v&Qi,s&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&yi|e*36045&Qi,t=t*4283543511&yi|((t<<16|e>>>16)*2950163797&yi)>>>16,e^=t>>>1,e=e*444984403&yi|e*60499&Qi,t=t*3301882366&yi|((t<<16|e>>>16)*3120437893&yi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const xm=Object.freeze({map:null,hash:"",transfer:void 0});class xy{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof Ee)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(s=!0,n[o]=l);else s=!0,this.#n.set(e,t);s&&this.#i(),t instanceof Ee&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fE(this)}get serializable(){if(this.#n.size===0)return xm;const e=new Map,t=new hE,n=[],s=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof Ee?u.serialize(!1,s):u;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:xm}get editorStats(){let e=null;const t=new Map;for(const n of this.#n.values()){if(!(n instanceof Ee))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[u,d]of Object.entries(s)){if(u==="type")continue;let f=l.get(u);f||(f=new Map,l.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Ee)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class fE extends xy{#e;constructor(e){super();const{map:t,hash:n,transfer:s}=e.serializable,o=structuredClone(t,s?{transfer:s}:null);this.#e={map:o,hash:n,transfer:s}}get print(){ht("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Xe(this,"modifiedIds",{ids:new Set,hash:""})}}class tj{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Wt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:l}=e,u=new FontFace(s,o,l);this.addNativeFontFace(u);try{await u.load(),this.#e.add(s),n?.(e)}catch{Ie(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ht("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Ie(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Xe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Xe(this,"isSyncFontLoadingSupported",Tn||ln.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Wt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Xe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(O,M){return O.charCodeAt(M)<<24|O.charCodeAt(M+1)<<16|O.charCodeAt(M+2)<<8|O.charCodeAt(M+3)&255}function s(O,M,R,P){const B=O.substring(0,M),U=O.substring(M+R);return B+P+U}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(O,M){if(++f>30){Ie("Load test font never loaded."),M();return}if(d.font="30px "+O,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,O,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,g.length,g);const v=16,w=1482184792;let A=n(y,v);for(o=0,l=g.length-3;o<l;o+=4)A=A-w+n(g,o)|0;o<g.length&&(A=A-w+n(g+"XXX",o)|0),y=s(y,v,4,$P(A));const x=`url(data:font/opentype;base64,${btoa(y)});`,L=`@font-face {font-family:"${g}";src:${x}}`;this.insertRule(L);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const O of[e.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=O,_.append(M)}this._document.body.append(_),p(g,()=>{_.remove(),t.complete()})}}class nj{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${oE(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let s;try{s=e.get(n)}catch(l){Ie(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(s||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function ij(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Tn)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function rj(i){if(Tn&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Gc(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xd(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Am=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,sj=i=>typeof i=="object"&&typeof i?.name=="string",pE=YP.bind(null,Am,sj);class aj{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[s]of this.#e)s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ie("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#e.set(t,s)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Ad={DATA:1,ERROR:2},Xt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dx(){}function Fn(i){if(i instanceof kr||i instanceof ih||i instanceof ox||i instanceof Ac||i instanceof Og)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||ht('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new kr(i.message);case"InvalidPDFException":return new ih(i.message);case"PasswordException":return new ox(i.message,i.code);case"ResponseException":return new Ac(i.message,i.status,i.missing);case"UnknownErrorException":return new Og(i.message,i.details)}return new Og(i.message,i.toString())}class ic{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#i(e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Ad.DATA)s.resolve(e.data);else if(e.callback===Ad.ERROR)s.reject(Fn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:Ad.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:Ad.ERROR,callbackId:e.callbackId,reason:Fn(l)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:e,streamId:o,data:t,desiredSize:f.desiredSize},s),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Xt.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Wt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Xt.CANCEL,streamId:o,reason:Fn(f)}),p.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this,u=this.actionHandler[e.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:Xt.ENQUEUE,streamId:t,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Xt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Wt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Xt.ERROR,streamId:t,reason:Fn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(u,e.data,d).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Xt.START_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:Xt.START_COMPLETE,streamId:t,reason:Fn(f)})})}#i(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Xt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Fn(e.reason));break;case Xt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Fn(e.reason));break;case Xt.PULL:if(!u){o.postMessage({sourceName:n,targetName:s,stream:Xt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||dx).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Xt.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:Xt.PULL_COMPLETE,streamId:t,reason:Fn(f)})});break;case Xt.ENQUEUE:if(Wt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Xt.CLOSE:if(Wt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#s(l,t);break;case Xt.ERROR:Wt(l,"error should have stream controller"),l.controller.error(Fn(e.reason)),this.#s(l,t);break;case Xt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Fn(e.reason)),this.#s(l,t);break;case Xt.CANCEL:if(!u)break;const d=Fn(e.reason);Promise.try(u.onCancel||dx,d).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:Xt.CANCEL_COMPLETE,streamId:t,reason:Fn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class gE{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ht("Abstract method `_createCanvas` called.")}}class oj extends gE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class mE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ht("Abstract method `_fetch` called.")}}class hx extends mE{async _fetch(e){const t=await Fo(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Gc(t)}}class yE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}class lj extends yE{#e;#t;#n;#i;#s;#r;#o=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#i=e,this.#s=t}get#a(){return this.#t||=new Map}get#d(){return this.#r||=new Map}get#l(){if(!this.#n){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#s.createElementNS(Tr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Tr,"defs"),e.append(n),n.append(this.#n),this.#s.body.append(e)}return this.#n}#h(e){if(e.length===1){const d=e[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[t,n,s]=e,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=t[d]/255,l[d]=n[d]/255,u[d]=s[d]/255;return[o.join(","),l.join(","),u.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(Yc(t)?Ie('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=gy(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#a.get(e);if(t)return t;const[n,s,o]=this.#h(e),l=e.length===1?n:`${n}${s}${o}`;if(t=this.#a.get(l),t)return this.#a.set(e,t),t;const u=`g_${this.#i}_transfer_map_${this.#o++}`,d=this.#u(u);this.#a.set(e,d),this.#a.set(l,d);const f=this.#g(u);return this.#m(n,s,o,f),d}addHCMFilter(e,t){const n=`${e}-${t}`,s="base";let o=this.#d.get(s);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#d.set(s,o)),!e||!t))return o.url;const l=this.#b(e);e=xe.makeHexColor(...l);const u=this.#b(t);if(t=xe.makeHexColor(...u),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;const d=new Array(256);for(let S=0;S<=255;S++){const v=S/255;d[S]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#i}_hcm_filter`,g=o.filter=this.#g(p);this.#m(f,f,f,g),this.#p(g);const y=(S,v)=>{const w=l[S]/255,A=u[S]/255,x=new Array(v+1);for(let L=0;L<=v;L++)x[L]=w+L/v*(A-w);return x.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),g),o.url=this.#u(p),o.url}addAlphaFilter(e){let t=this.#a.get(e);if(t)return t;const[n]=this.#h([e]),s=`alpha_${n}`;if(t=this.#a.get(s),t)return this.#a.set(e,t),t;const o=`g_${this.#i}_alpha_map_${this.#o++}`,l=this.#u(o);this.#a.set(e,l),this.#a.set(s,l);const u=this.#g(o);return this.#y(n,u),l}addLuminosityFilter(e){let t=this.#a.get(e||"luminosity");if(t)return t;let n,s;if(e?([n]=this.#h([e]),s=`luminosity_${n}`):s="luminosity",t=this.#a.get(s),t)return this.#a.set(e,t),t;const o=`g_${this.#i}_luminosity_map_${this.#o++}`,l=this.#u(o);this.#a.set(e,l),this.#a.set(s,l);const u=this.#g(o);return this.#f(u),e&&this.#y(n,u),l}addHighlightHCMFilter(e,t,n,s,o){const l=`${t}-${n}-${s}-${o}`;let u=this.#d.get(e);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#d.set(e,u)),!t||!n))return u.url;const[d,f]=[t,n].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,S]=[s,o].map(this.#b.bind(this));g<p&&([p,g,y,S]=[g,p,S,y]),this.#l.style.color="";const v=(x,L,_)=>{const O=new Array(256),M=(g-p)/_,R=x/255,P=(L-x)/(255*_);let B=0;for(let U=0;U<=_;U++){const C=Math.round(p+U*M),V=R+U*P;for(let ae=B;ae<=C;ae++)O[ae]=V;B=C+1}for(let U=B;U<256;U++)O[U]=O[B-1];return O.join(",")},w=`g_${this.#i}_hcm_${e}_filter`,A=u.filter=this.#g(w);return this.#p(A),this.#m(v(y[0],S[0],5),v(y[1],S[1],5),v(y[2],S[2],5),A),u.url=this.#u(w),u.url}destroy(e=!1){e&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#o=0)}#f(e){const t=this.#s.createElementNS(Tr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#s.createElementNS(Tr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(Tr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#c(e,t,n){const s=this.#s.createElementNS(Tr,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),e.append(s)}#m(e,t,n,s){const o=this.#s.createElementNS(Tr,"feComponentTransfer");s.append(o),this.#c(o,"feFuncR",e),this.#c(o,"feFuncG",t),this.#c(o,"feFuncB",n)}#y(e,t){const n=this.#s.createElementNS(Tr,"feComponentTransfer");t.append(n),this.#c(n,"feFuncA",e)}#b(e){return this.#l.style.color=e,vy(getComputedStyle(this.#l).getPropertyValue("color"))}}class bE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ht("Abstract method `_fetch` called.")}}class fx extends bE{async _fetch(e){const t=await Fo(e,"arraybuffer");return new Uint8Array(t)}}class vE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){ht("Abstract method `_fetch` called.")}}class px extends vE{async _fetch(e){const t=await Fo(e,"arraybuffer");return new Uint8Array(t)}}Tn&&Ie("Please use the `legacy` build in Node.js environments.");async function Ay(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class cj extends yE{}class uj extends gE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class dj extends mE{async _fetch(e){return Ay(e)}}class hj extends bE{async _fetch(e){return Ay(e)}}class fj extends vE{async _fetch(e){return Ay(e)}}const pn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Em(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),i.clip(s)}class Ey{isModifyingCurrentTransform(){return!1}getPattern(){ht("Abstract method `getPattern` called.")}}class pj extends Ey{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===pn.STROKE||s===pn.FILL){const l=t.current.getClippedPathBoundingBox(s,Ot(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=xe.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Em(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else Em(e,this._bbox),o=this._createGradient(e);return o}}function Ng(i,e,t,n,s,o,l,u){const d=e.coords,f=e.colors,p=i.data,g=i.width*4;let y;d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),d[n+1]>d[s+1]&&(y=n,n=s,s=y,y=l,l=u,u=y),d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const S=(d[t]+e.offsetX)*e.scaleX,v=(d[t+1]+e.offsetY)*e.scaleY,w=(d[n]+e.offsetX)*e.scaleX,A=(d[n+1]+e.offsetY)*e.scaleY,x=(d[s]+e.offsetX)*e.scaleX,L=(d[s+1]+e.offsetY)*e.scaleY;if(v>=L)return;const _=f[o],O=f[o+1],M=f[o+2],R=f[l],P=f[l+1],B=f[l+2],U=f[u],C=f[u+1],V=f[u+2],ae=Math.round(v),ie=Math.round(L);let Z,ue,k,H,le,pe,j,X;for(let ee=ae;ee<=ie;ee++){if(ee<A){const Oe=ee<v?0:(v-ee)/(v-A);Z=S-(S-w)*Oe,ue=_-(_-R)*Oe,k=O-(O-P)*Oe,H=M-(M-B)*Oe}else{let Oe;ee>L?Oe=1:A===L?Oe=0:Oe=(A-ee)/(A-L),Z=w-(w-x)*Oe,ue=R-(R-U)*Oe,k=P-(P-C)*Oe,H=B-(B-V)*Oe}let te;ee<v?te=0:ee>L?te=1:te=(v-ee)/(v-L),le=S-(S-x)*te,pe=_-(_-U)*te,j=O-(O-C)*te,X=M-(M-V)*te;const de=Math.round(Math.min(Z,le)),Se=Math.round(Math.max(Z,le));let fe=g*ee+de*4;for(let Oe=de;Oe<=Se;Oe++)te=(Z-Oe)/(Z-le),te<0?te=0:te>1&&(te=1),p[fe++]=ue-(ue-pe)*te|0,p[fe++]=k-(k-j)*te|0,p[fe++]=H-(H-X)*te|0,p[fe++]=255}}function gj(i,e,t){const n=e.coords,s=e.colors;let o,l;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let g=0;g<f;g++,p++)Ng(i,t,n[p],n[p+1],n[p+u],s[p],s[p+1],s[p+u]),Ng(i,t,n[p+u+1],n[p+1],n[p+u],s[p+u+1],s[p+1],s[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Ng(i,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class mj extends Ey{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),S=f/g,v=p/y,w={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/S,scaleY:1/v},A=g+2*2,x=y+2*2,L=n.getCanvas("mesh",A,x),_=L.context,O=_.createImageData(g,y);if(t){const R=O.data;for(let P=0,B=R.length;P<B;P+=4)R[P]=t[0],R[P+1]=t[1],R[P+2]=t[2],R[P+3]=255}for(const R of this._figures)gj(O,R,w);return _.putImageData(O,2,2),{canvas:L.canvas,offsetX:u-2*S,offsetY:d-2*v,scaleX:S,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,s){Em(e,this._bbox);const o=new Float32Array(2);if(s===pn.SHADING)xe.singularValueDecompose2dScale(Ot(e),o);else if(this.matrix){xe.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;xe.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=u,o[1]*=d}else xe.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,s===pn.SHADING?null:this._background,t.cachedCanvases);return s!==pn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class yj extends Ey{getPattern(){return"hotpink"}}function bj(i){switch(i[0]){case"RadialAxial":return new pj(i);case"Mesh":return new mj(i);case"Dummy":return new yj}throw new Error(`Unknown IR type: ${i[0]}`)}const gx={COLORED:1,UNCOLORED:2};class _y{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Uh("TilingType: "+o);const p=t[0],g=t[1],y=t[2],S=t[3],v=y-p,w=S-g,A=new Float32Array(2);xe.singularValueDecompose2dScale(this.matrix,A);const[x,L]=A;xe.singularValueDecompose2dScale(this.baseTransform,A);const _=x*A[0],O=L*A[1];let M=v,R=w,P=!1,B=!1;const U=Math.ceil(d*_),C=Math.ceil(f*O),V=Math.ceil(v*_),ae=Math.ceil(w*O);U>=V?M=d:P=!0,C>=ae?R=f:B=!0;const ie=this.getSizeAndScale(M,this.ctx.canvas.width,_),Z=this.getSizeAndScale(R,this.ctx.canvas.height,O),ue=e.cachedCanvases.getCanvas("pattern",ie.size,Z.size),k=ue.context,H=u.createCanvasGraphics(k);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,s,l),k.translate(-ie.scale*p,-Z.scale*g),H.transform(ie.scale,0,0,Z.scale,0,0),k.save(),this.clipBbox(H,p,g,y,S),H.baseTransform=Ot(H.ctx),H.executeOperatorList(n),H.endDrawing(),k.restore(),P||B){const le=ue.canvas;P&&(M=d),B&&(R=f);const pe=this.getSizeAndScale(M,this.ctx.canvas.width,_),j=this.getSizeAndScale(R,this.ctx.canvas.height,O),X=pe.size,ee=j.size,te=e.cachedCanvases.getCanvas("pattern-workaround",X,ee),de=te.context,Se=P?Math.floor(v/d):0,fe=B?Math.floor(w/f):0;for(let Oe=0;Oe<=Se;Oe++)for(let ze=0;ze<=fe;ze++)de.drawImage(le,X*Oe,ee*ze,X,ee,0,0,X,ee);return{canvas:te.canvas,scaleX:pe.scale,scaleY:j.scale,offsetX:p,offsetY:g}}return{canvas:ue.canvas,scaleX:ie.scale,scaleY:Z.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const s=Math.max(_y.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const l=s-t,u=o-n;e.ctx.rect(t,n,l,u),xe.axialAlignedBoundingBox([t,n,s,o],Ot(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case gx.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;s.fillStyle=o.fillColor=l,s.strokeStyle=o.strokeColor=u;break;case gx.UNCOLORED:s.fillStyle=s.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new HP(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,s){let o=n;s!==pn.SHADING&&(o=xe.transform(o,t.baseTransform),this.matrix&&(o=xe.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(u),d}}function vj({src:i,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=ln.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,g=n&7,y=i.length;t=new Uint32Array(t.buffer);let S=0;for(let v=0;v<s;v++){for(const A=e+p;e<A;e++){const x=e<y?i[e]:255;t[S++]=x&128?f:d,t[S++]=x&64?f:d,t[S++]=x&32?f:d,t[S++]=x&16?f:d,t[S++]=x&8?f:d,t[S++]=x&4?f:d,t[S++]=x&2?f:d,t[S++]=x&1?f:d}if(g===0)continue;const w=e<y?i[e++]:255;for(let A=0;A<g;A++)t[S++]=w&1<<7-A?f:d}return{srcPos:e,destPos:S}}const mx=16,yx=100,Sj=15,bx=10,Bn=16,kg=new DOMMatrix,ei=new Float32Array(2),yo=new Float32Array([1/0,1/0,-1/0,-1/0]);function wj(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},i.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},i.transform=function(t,n,s,o,l,u){e.transform(t,n,s,o,l,u),this.__originalTransform(t,n,s,o,l,u)},i.setTransform=function(t,n,s,o,l,u){e.setTransform(t,n,s,o,l,u),this.__originalSetTransform(t,n,s,o,l,u)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,s,o,l,u){e.bezierCurveTo(t,n,s,o,l,u),this.__originalBezierCurveTo(t,n,s,o,l,u)},i.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class xj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ed(i,e,t,n,s,o,l,u,d,f){const[p,g,y,S,v,w]=Ot(i);if(g===0&&y===0){const L=l*p+v,_=Math.round(L),O=u*S+w,M=Math.round(O),R=(l+d)*p+v,P=Math.abs(Math.round(R)-_)||1,B=(u+f)*S+w,U=Math.abs(Math.round(B)-M)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(S),_,M),i.drawImage(e,t,n,s,o,0,0,P,U),i.setTransform(p,g,y,S,v,w),[P,U]}if(p===0&&S===0){const L=u*y+v,_=Math.round(L),O=l*g+w,M=Math.round(O),R=(u+f)*y+v,P=Math.abs(Math.round(R)-_)||1,B=(l+d)*g+w,U=Math.abs(Math.round(B)-M)||1;return i.setTransform(0,Math.sign(g),Math.sign(y),0,_,M),i.drawImage(e,t,n,s,o,0,0,U,P),i.setTransform(p,g,y,S,v,w),[U,P]}i.drawImage(e,t,n,s,o,l,u,d,f);const A=Math.hypot(p,g),x=Math.hypot(y,S);return[A*d,x*f]}class vx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=wm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=wn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=yo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=pn.FILL,t=null){const n=this.minMax.slice();if(e===pn.STROKE){t||ht("Stroke bounding box must include transform."),xe.singularValueDecompose2dScale(t,ei);const s=ei[0]*this.lineWidth/2,o=ei[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=xe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(yo,0)}getClippedPathBoundingBox(e=pn.FILL,t=null){return xe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Sx(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Bn,o=(t-s)/Bn,l=s===0?o:o+1,u=i.createImageData(n,Bn);let d=0,f;const p=e.data,g=u.data;let y,S,v,w;if(e.kind===cc.GRAYSCALE_1BPP){const A=p.byteLength,x=new Uint32Array(g.buffer,0,g.byteLength>>2),L=x.length,_=n+7>>3,O=4294967295,M=ln.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(v=y<o?Bn:s,f=0,S=0;S<v;S++){const R=A-d;let P=0;const B=R>_?n:R*8-7,U=B&-8;let C=0,V=0;for(;P<U;P+=8)V=p[d++],x[f++]=V&128?O:M,x[f++]=V&64?O:M,x[f++]=V&32?O:M,x[f++]=V&16?O:M,x[f++]=V&8?O:M,x[f++]=V&4?O:M,x[f++]=V&2?O:M,x[f++]=V&1?O:M;for(;P<B;P++)C===0&&(V=p[d++],C=128),x[f++]=V&C?O:M,C>>=1}for(;f<L;)x[f++]=0;i.putImageData(u,0,y*Bn)}}else if(e.kind===cc.RGBA_32BPP){for(S=0,w=n*Bn*4,y=0;y<o;y++)g.set(p.subarray(d,d+w)),d+=w,i.putImageData(u,0,S),S+=Bn;y<l&&(w=n*s*4,g.set(p.subarray(d,d+w)),i.putImageData(u,0,S))}else if(e.kind===cc.RGB_24BPP)for(v=Bn,w=n*v,y=0;y<l;y++){for(y>=o&&(v=s,w=n*v),f=0,S=w;S--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;i.putImageData(u,0,y*Bn)}else throw new Error(`bad image kind: ${e.kind}`)}function wx(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Bn,o=(t-s)/Bn,l=s===0?o:o+1,u=i.createImageData(n,Bn);let d=0;const f=e.data,p=u.data;for(let g=0;g<l;g++){const y=g<o?Bn:s;({srcPos:d}=vj({src:f,srcPos:d,dest:p,width:n,height:y,nonBlackColor:0})),i.putImageData(u,0,g*Bn)}}function ql(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function _d(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function xx(i,e){if(e)return!0;xe.singularValueDecompose2dScale(i,ei);const t=Math.fround(ki.pixelRatio*pa.PDF_TO_CSS_UNITS);return ei[0]<=t&&ei[1]<=t}const Aj=["butt","round","square"],Ej=["miter","round","bevel"],_j={},Ax={};class xo{constructor(e,t,n,s,o,{optionalContentConfig:l,markedContentStack:u=null},d,f){this.ctx=e,this.current=new vx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new xj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Ot(this.compositeCtx))}this.ctx.save(),_d(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ot(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,l=e.fnArray;let u=t||0;const d=o.length;if(d===u)return u;const f=d-u>bx&&typeof n=="function",p=f?Date.now()+Sj:0;let g=0;const y=this.commonObjs,S=this.objs;let v;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,n),u;if(v=l[u],v!==xc.dependency)this[v].apply(this,o[u]);else for(const w of o[u]){const A=w.startsWith("g_")?y:S;if(!A.has(w))return A.get(w,n),u}if(u++,u===d)return u;if(f&&++g>bx){if(Date.now()>p)return n(),u;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=n,d=s,f="prescale1",p,g;for(;o>2&&u>1||l>2&&d>1;){let y=u,S=d;o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/y),l>2&&d>1&&(S=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/S),p=this.cachedCanvases.getCanvas(f,y,S),g=p.context,g.clearRect(0,0,y,S),g.drawImage(e,0,0,u,d,0,0,y,S),e=p.canvas,u=y,d=S,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,u=Ot(t);let d,f,p,g;if((e.bitmap||e.data)&&e.count>1){const U=e.bitmap||e.data.buffer;f=JSON.stringify(l?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(U),d||(d=new Map,this._cachedBitmapsMap.set(U,d));const C=d.get(f);if(C&&!l){const V=Math.round(Math.min(u[0],u[2])+u[4]),ae=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:C,offsetX:V,offsetY:ae}}p=C}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),wx(g.context,e));let y=xe.transform(u,[1/n,0,0,-1/s,0,0]);y=xe.transform(y,[1,0,0,1,0,-s]);const S=yo.slice();xe.axialAlignedBoundingBox([0,0,n,s],y,S);const[v,w,A,x]=S,L=Math.round(A-v)||1,_=Math.round(x-w)||1,O=this.cachedCanvases.getCanvas("fillCanvas",L,_),M=O.context,R=v,P=w;M.translate(-R,-P),M.transform(...y),p||(p=this._scaleImage(g.canvas,Wi(M)),p=p.img,d&&l&&d.set(f,p)),M.imageSmoothingEnabled=xx(Ot(M),e.interpolate),Ed(M,p,0,0,p.width,p.height,0,0,n,s),M.globalCompositeOperation="source-in";const B=xe.transform(Wi(M),[1,0,0,1,-R,-P]);return M.fillStyle=l?o.getPattern(t,this,B,pn.FILL):o,M.fillRect(0,0,n,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,O.canvas)),{canvas:O.canvas,offsetX:Math.round(R),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Aj[e]}setLineJoin(e){this.ctx.lineJoin=Ej[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),ql(this.suspendedCtx,o),wj(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ql(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],l=s[1],u=s[2]-o,d=s[3]-l;u===0||d===0||(this.genericComposeSMask(t.context,n,u,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,l,u,d,f,p,g){let y=e.canvas,S=d-p,v=f-g;if(l)if(S<0||v<0||S+n>y.width||v+s>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,s),x=A.context;x.drawImage(y,-S,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=l,x.fillRect(0,0,n,s),x.globalCompositeOperation="source-over",y=A.canvas,S=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(S,v,n,s),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(S,v,n,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const w=new Path2D;w.rect(d,f,n,s),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(y,S,v,n,s,d,f,n,s),t.restore()}save(){this.inSMaskMode&&ql(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ql(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,s,o,l){this.ctx.transform(e,t,n,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[s]=t;if(!n){s||=t[0]=new Path2D,this[e](s);return}if(!(s instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,u=s.length;l<u;)switch(s[l++]){case wd.moveTo:o.moveTo(s[l++],s[l++]);break;case wd.lineTo:o.lineTo(s[l++],s[l++]);break;case wd.curveTo:o.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case wd.closePath:o.closePath();break;default:Ie(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=o}xe.axialAlignedBoundingBox(n,Ot(this.ctx),this.current.minMax),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,s=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=s.getPattern(n,this,Wi(n),pn.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(pn.STROKE,Ot(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const d=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=s.getPattern(n,this,Wi(n),pn.FILL),d){const f=new Path2D;f.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=f}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=_j}eoClip(){this.pendingClip=Ax}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,s=t.getTransform().invertSelf();for(const{transform:o,x:l,y:u,fontSize:d,path:f}of e)n.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(l,u).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||wm,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ie("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=n.systemFontInfo?.css||`"${o}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const d=n.italic?"italic":"normal";let f=t;t<mx?f=mx:t>yx&&(f=yx),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${u} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,n){const s=new Path2D;return s.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),s}paintChar(e,t,n,s,o){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&wn.FILL_STROKE_MASK,y=!!(f&wn.ADD_TO_PATH_FLAG),S=u.patternFill&&!d.missingFile,v=u.patternStroke&&!d.missingFile;let w;if((d.disableFontFace||y||S||v)&&(w=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||S||v){l.save(),l.translate(t,n),l.scale(p,-p);let A;if((g===wn.FILL||g===wn.FILL_STROKE)&&(s?(A=l.getTransform(),l.setTransform(...s),l.fill(this.#n(w,A,s))):l.fill(w)),g===wn.STROKE||g===wn.FILL_STROKE)if(o){A||=l.getTransform(),l.setTransform(...o);const{a:x,b:L,c:_,d:O}=A,M=xe.inverseTransform(o),R=xe.transform([x,L,_,O,0,0],M);xe.singularValueDecompose2dScale(R,ei),l.lineWidth*=Math.max(ei[0],ei[1])/p,l.stroke(this.#n(w,A,o))}else l.lineWidth/=p,l.stroke(w);l.restore()}else(g===wn.FILL||g===wn.FILL_STROKE)&&l.fillText(e,t,n),(g===wn.STROKE||g===wn.FILL_STROKE)&&l.strokeText(e,t,n);y&&(this.pendingTextPaths||=[]).push({transform:Ot(l),x:t,y:n,fontSize:p,path:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Xe(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,l=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,g=e.length,y=n.vertical,S=y?1:-1,v=n.defaultVMetrics,w=s*t.fontMatrix[0],A=t.textRenderingMode===wn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),f>0?o.scale(p,-1):o.scale(p,1);let x,L;if(t.patternFill){o.save();const P=t.fillColor.getPattern(o,this,Wi(o),pn.FILL);x=Ot(o),o.restore(),o.fillStyle=P}if(t.patternStroke){o.save();const P=t.strokeColor.getPattern(o,this,Wi(o),pn.STROKE);L=Ot(o),o.restore(),o.strokeStyle=P}let _=t.lineWidth;const O=t.textMatrixScale;if(O===0||_===0){const P=t.textRenderingMode&wn.FILL_STROKE_MASK;(P===wn.STROKE||P===wn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=O;if(l!==1&&(o.scale(l,l),_/=l),o.lineWidth=_,n.isInvalidPDFjsFont){const P=[];let B=0;for(const U of e)P.push(U.unicode),B+=U.width;o.fillText(P.join(""),0,0),t.x+=B*w*p,o.restore(),this.compose();return}let M=0,R;for(R=0;R<g;++R){const P=e[R];if(typeof P=="number"){M+=S*P*s/1e3;continue}let B=!1;const U=(P.isSpace?d:0)+u,C=P.fontChar,V=P.accent;let ae,ie,Z=P.width;if(y){const k=P.vmetric||v,H=-(P.vmetric?k[1]:Z*.5)*w,le=k[2]*w;Z=k?-k[0]:Z,ae=H/l,ie=(M+le)/l}else ae=M/l,ie=0;if(n.remeasure&&Z>0){const k=o.measureText(C).width*1e3/s*l;if(Z<k&&this.isFontSubpixelAAEnabled){const H=Z/k;B=!0,o.save(),o.scale(H,1),ae/=H}else Z!==k&&(ae+=(Z-k)/2e3*s/l)}if(this.contentVisible&&(P.isInFont||n.missingFile)){if(A&&!V)o.fillText(C,ae,ie);else if(this.paintChar(C,ae,ie,x,L),V){const k=ae+s*V.offset.x/l,H=ie-s*V.offset.y/l;this.paintChar(V.fontChar,k,H,x,L)}}const ue=y?Z*w-U*f:Z*w+U*f;M+=ue,B&&o.restore()}y?t.y-=M:t.x+=M*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,l=n.fontDirection,u=s.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,p=n.textHScale*l,g=n.fontMatrix||wm,y=e.length,S=n.textRenderingMode===wn.INVISIBLE;let v,w,A,x;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(p,l),v=0;v<y;++v){if(w=e[v],typeof w=="number"){x=u*w*o/1e3,this.ctx.translate(x,0),n.x+=x*p;continue}const L=(w.isSpace?f:0)+d,_=s.charProcOperatorList[w.operatorListId];_?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...g),this.executeOperatorList(_),this.restore()):Ie(`Type3 character "${w.operatorListId}" is not available.`);const O=[w.width,0];xe.applyTransform(O,g),A=O[0]*o+L,t.translate(A,0),n.x+=A*p}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,l){const u=new Path2D;u.rect(n,s,o-n,l-s),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Ot(this.ctx),s={createCanvasGraphics:o=>new xo(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new _y(e,this.ctx,s,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=bj(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Wi(t),pn.SHADING);const s=Wi(t);if(s){const{width:o,height:l}=t.canvas,u=yo.slice();xe.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,f,p,g]=u;this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ht("Should not call beginInlineImage")}beginImageData(){ht("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ot(this.ctx),t)){xe.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,s,o,l]=t,u=new Path2D;u.rect(n,s,o-n,l-s),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Uh("TODO: Support non-isolated groups."),e.knockout&&Ie("Knockout groups not supported.");const n=Ot(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=yo.slice();xe.axialAlignedBoundingBox(e.bbox,Ot(t),s);const o=[0,0,t.canvas.width,t.canvas.height];s=xe.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),u=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,f),y=g.context;y.translate(-l,-u),y.transform(...n);let S=new Path2D;const[v,w,A,x]=e.bbox;if(S.rect(v,w,A-v,x-w),e.matrix){const L=new Path2D;L.addPath(S,new DOMMatrix(e.matrix)),S=L}y.clip(S),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),ql(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Ot(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=yo.slice();xe.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(this.#e(),_d(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u,xe.singularValueDecompose2dScale(Ot(this.ctx),ei);const{viewportScale:d}=this,f=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ei[0],0,0,-ei[1],0,u*ei[1]),_d(this.ctx)}else{_d(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,u),this.ctx.clip(d)}}this.current=new vx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=Ot(u);u.transform(t,n,s,o,0,0);const f=this._createMaskCanvas(e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,g=l.length;p<g;p+=2){const y=xe.transform(d,[t,n,s,o,l[p],l[p+1]]);u.drawImage(f.canvas,y[4],y[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:l,width:u,height:d,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),g=p.context;g.save();const y=this.getObject(l,o);wx(g,y),g.globalCompositeOperation="source-in",g.fillStyle=s?n.getPattern(g,this,Wi(t),pn.FILL):n,g.fillRect(0,0,u,d),g.restore(),t.save(),t.transform(...f),t.scale(1,-1),Ed(t,p.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ie("Dependent image isn't ready yet");return}const l=o.width,u=o.height,d=[];for(let f=0,p=s.length;f<p;f+=2)d.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;this.save();const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Sx(f,e),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,Wi(s));s.imageSmoothingEnabled=xx(Ot(s),e.interpolate),Ed(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;Sx(d,e),s=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Ed(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===Ax?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ot(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let l,u;if(n===0&&s===0){const d=Math.abs(t),f=Math.abs(o);if(d===f)if(e===0)l=u=1/d;else{const p=d*e;l=u=p<1?1/p:1}else if(e===0)l=1/d,u=1/f;else{const p=d*e,g=f*e;l=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(t*o-n*s),f=Math.hypot(t,n),p=Math.hypot(s,o);if(e===0)l=p/d,u=f/d;else{const g=e*d;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:s}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(s||1)*o,n.stroke(e);return}const u=n.getLineDash();t&&n.save(),n.scale(o,l),kg.a=1/o,kg.d=1/l;const d=new Path2D;if(d.addPath(e,kg),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=s||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const i in xc)xo.prototype[i]!==void 0&&(xo.prototype[xc[i]]=xo.prototype[i]);class gs{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Cj{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const go=Symbol("INTERNAL");class Tj{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:n,usage:s,rbGroups:o}){this.#e=!!(e&Wn.DISPLAY),this.#t=!!(e&Wn.PRINT),this.name=t,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==go&&ht("Internal method `_setVisible` called."),this.#n=n,this.#i=t}}class Rj{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=Wn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(const n of e.groups)this.#t.set(n.id,new Tj(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(go,!1);for(const n of e.on)this.#t.get(n)._setVisible(go,!0);for(const n of e.off)this.#t.get(n)._setVisible(go,!1);this.#n=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let l;if(Array.isArray(o))l=this.#s(o);else if(this.#t.has(o))l=this.#t.get(o).visible;else return Ie(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Uh("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ie(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Ie(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Ie(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Ie(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Ie(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ie(`Unknown optional content policy ${e.policy}.`),!0}return Ie(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const s=this.#t.get(e);if(!s){Ie(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==e&&this.#t.get(l)?._setVisible(go,!1,!0);s._setVisible(go,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=this.#t.get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new hE;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Mj{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Wt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Oj(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Dj(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Oj{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=$h(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Dj{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Lj(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let p=u(t);return p=unescape(p),p=d(p),p=f(p),o(p)}if(t=l(i),t){const p=f(t);return o(p)}if(t=n("filename","i").exec(i),t){t=t[1];let p=u(t);return p=f(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(p,{fatal:!0}),S=Gc(g);g=y.decode(S),e=!1}catch{}}return g}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function l(p){const g=[];let y;const S=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=S.exec(p))!==null;){let[,w,A,x]=y;if(w=parseInt(w,10),w in g){if(w===0)break;continue}g[w]=[A,x]}const v=[];for(let w=0;w<g.length&&w in g;++w){let[A,x]=g[w];x=u(x),A&&(x=unescape(x),w===0&&(x=d(x))),v.push(x)}return v.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let y=0;y<g.length;++y){const S=g[y].indexOf('"');S!==-1&&(g[y]=g[y].slice(0,S),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const y=p.slice(0,g),v=p.slice(g+1).replace(/^[^']*'/,"");return s(y,v)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,S,v){if(S==="q"||S==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,A){return String.fromCharCode(parseInt(A,16))}),s(y,v);try{v=atob(v)}catch{}return s(y,v)})}return""}function SE(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Vh(i){return URL.parse(i)?.origin??null}function wE({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(i.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function xE(i){const e=i.get("Content-Disposition");if(e){let t=Lj(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($h(t))return t}return null}function Wc(i,e){return new Ac(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function AE(i){return i===200||i===206}function EE(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function _E(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Ie(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class Nj{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=SE(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Pj(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class kj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,EE(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=Vh(o.url),!AE(o.status))throw Wc(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=wE({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=xE(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_E(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Pj{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,EE(o,this._withCredentials,this._abortController)).then(u=>{const d=Vh(u.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!AE(u.status))throw Wc(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:_E(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Pg=200,jg=206;function jj(i){const e=i.response;return typeof e!="string"?e:Gc(e).buffer}class Ij{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=SE(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=jg):s.expectedStatus=Pg,t.responseType="arraybuffer",Wt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){n.onError(s.status);return}const o=s.status||Pg;if(!(o===Pg&&n.expectedStatus===jg)&&o!==n.expectedStatus){n.onError(s.status);return}const u=jj(s);if(o===jg){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(Ie('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Fj{constructor(e){this._source=e,this._manager=new Ij(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Bj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new zj(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Bj{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Vh(t.responseURL);const n=t.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=wE({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=xE(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class zj{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Vh(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Wc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Uj=/^[a-z][a-z0-9\-+.]+:/i;function Hj(i){if(Uj.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class $j{constructor(e){this.source=e,this.url=Hj(e.url),Wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Vj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Gj(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Vj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Wc(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Gj{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Yl=Symbol("INITIAL_DATA");class CE{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Yl}}get(e,t=null){if(t){const s=this.#t(e);return s.promise.then(()=>t(s.data)),null}const n=this.#e[e];if(!n||n.data===Yl)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Yl}delete(e){const t=this.#e[e];return!t||t.data===Yl?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Yl&&(yield[e,t])}}}const qj=1e5,Ex=30;let Ec=class bi{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#o=0;#a=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#g=null;#c=[];#m=new WeakMap;#y=null;static#b=new Map;static#S=new Map;static#w=new WeakMap;static#x=null;static#_=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=n.scale*ki.pixelRatio,this.#h=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#a=s,this.#o=o,bi.#D(),vs(t,n),this.#e.promise.finally(()=>{bi.#_.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ln.platform;return Xe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#f,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#d=this.#g.getReader(),bi.#_.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*ki.pixelRatio,s=e.rotation;if(s!==this.#h&&(t?.(),this.#h=s,vs(this.#l,{rotation:s})),n!==this.#u){t?.(),this.#u=n;const o={div:null,properties:null,ctx:bi.#R(this.#s)};for(const l of this.#c)o.properties=this.#m.get(l),o.div=l,this.#A(o)}}cancel(){const e=new kr("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#T(e){if(this.#n)return;this.#r.ctx??=bi.#R(this.#s);const t=this.#c,n=this.#p;for(const s of e){if(t.length>qj){Ie("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),s.id!==null&&this.#t.setAttribute("id",`${s.id}`),o.append(this.#t)}else s.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(s.str),this.#M(s)}}#M(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(t);const s=xe.transform(this.#y,e.transform);let o=Math.atan2(s[1],s[0]);const l=this.#f[e.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#i&&l.fontSubstitution||l.fontFamily;u=bi.fontFamilyMap.get(u)||u;const d=Math.hypot(s[2],s[3]),f=d*bi.#L(u,l,this.#s);let p,g;o===0?(p=s[4],g=s[5]-f):(p=s[4]+f*Math.sin(o),g=s[5]-f*Math.cos(o));const y="calc(var(--total-scale-factor) *",S=t.style;this.#t===this.#l?(S.left=`${(100*p/this.#a).toFixed(2)}%`,S.top=`${(100*g/this.#o).toFixed(2)}%`):(S.left=`${y}${p.toFixed(2)}px)`,S.top=`${y}${g.toFixed(2)}px)`),S.fontSize=`${y}${(bi.#x*d).toFixed(2)}px)`,S.fontFamily=u,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);w!==A&&Math.max(w,A)/Math.min(w,A)>1.5&&(v=!0)}if(v&&(n.canvasWidth=l.vertical?e.height:e.width),this.#m.set(t,n),this.#r.div=t,this.#r.properties=n,this.#A(this.#r),n.hasText&&this.#t.append(t),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#t.append(w)}}#A(e){const{div:t,properties:n,ctx:s}=e,{style:o}=t;let l="";if(bi.#x>1&&(l=`scale(${1/bi.#x})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;bi.#C(s,f*this.#u,u);const{width:p}=s.measureText(t.textContent);p>0&&(l=`scaleX(${d*this.#u/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:e}of this.#S.values())e.remove();this.#S.clear()}}static#R(e=null){let t=this.#S.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#S.set(e,t),this.#w.set(t,{size:0,family:""})}return t}static#C(e,t,n){const s=this.#w.get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)}static#D(){if(this.#x!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#x=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const s=this.#b.get(e);if(s)return s;const o=this.#R(n);o.canvas.width=o.canvas.height=Ex,this.#C(o,Ex,e);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(ln.platform.isFirefox&&Ie("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#b.set(e,f),f}};class _c{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(_c.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const d of o.children)s(d)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Yj=100;function Cy(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new Ty,{docId:t}=e,n=i.url?ij(i.url):null,s=i.data?rj(i.data):null,o=i.httpHeaders||null,l=i.withCredentials===!0,u=i.password??null,d=i.range instanceof Ry?i.range:null,f=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let p=i.worker instanceof Oo?i.worker:null;const g=i.verbosity,y=typeof i.docBaseUrl=="string"&&!Yc(i.docBaseUrl)?i.docBaseUrl:null,S=xd(i.cMapUrl),v=i.cMapPacked!==!1,w=i.CMapReaderFactory||(Tn?dj:hx),A=xd(i.iccUrl),x=xd(i.standardFontDataUrl),L=i.StandardFontDataFactory||(Tn?hj:fx),_=xd(i.wasmUrl),O=i.WasmFactory||(Tn?fj:px),M=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,P=i.isEvalSupported!==!1,B=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Tn,U=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Tn&&(ln.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,V=typeof i.disableFontFace=="boolean"?i.disableFontFace:Tn,ae=i.fontExtraProperties===!0,ie=i.enableXfa===!0,Z=i.ownerDocument||globalThis.document,ue=i.disableRange===!0,k=i.disableStream===!0,H=i.disableAutoFetch===!0,le=i.pdfBug===!0,pe=i.CanvasFactory||(Tn?uj:oj),j=i.FilterFactory||(Tn?cj:lj),X=i.enableHWA===!0,ee=i.useWasm!==!1,te=d?d.length:i.length??NaN,de=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Tn&&!V,Se=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(w===hx&&L===fx&&O===px&&S&&x&&_&&nc(S,document.baseURI)&&nc(x,document.baseURI)&&nc(_,document.baseURI)),fe=null;BP(g);const Oe={canvasFactory:new pe({ownerDocument:Z,enableHWA:X}),filterFactory:new j({docId:t,ownerDocument:Z}),cMapReaderFactory:Se?null:new w({baseUrl:S,isCompressed:v}),standardFontDataFactory:Se?null:new L({baseUrl:x}),wasmFactory:Se?null:new O({baseUrl:_})};p||(p=Oo.create({verbosity:g,port:gs.workerPort}),e._worker=p);const ze={docId:t,apiVersion:"5.3.93",data:s,password:u,disableAutoFetch:H,rangeChunkSize:f,length:te,docBaseUrl:y,enableXfa:ie,evaluatorOptions:{maxImageSize:R,disableFontFace:V,ignoreErrors:M,isEvalSupported:P,isOffscreenCanvasSupported:B,isImageDecoderSupported:U,canvasMaxAreaInBytes:C,fontExtraProperties:ae,useSystemFonts:de,useWasm:ee,useWorkerFetch:Se,cMapUrl:S,iccUrl:A,standardFontDataUrl:x,wasmUrl:_}},bt={ownerDocument:Z,pdfBug:le,styleElement:fe,loadingParams:{disableAutoFetch:H,enableXfa:ie}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _e=p.messageHandler.sendWithPromise("GetDocRequest",ze,s?[s.buffer]:null);let ft;if(d)ft=new Mj(d,{disableRange:ue,disableStream:k});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const tn=nc(n)?Nj:Tn?$j:Fj;ft=new tn({url:n,length:te,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:ue,disableStream:k})}return _e.then(tn=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Fe=new ic(t,tn,p.port),Ke=new Wj(Fe,e,ft,bt,Oe);e._transport=Ke,Fe.send("Ready",null)})}).catch(e._capability.reject),e}class Ty{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Ty.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Ry=class{#e=Promise.withResolvers();#t=[];#n=[];#i=[];#s=[];constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#i.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#s)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#i)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){ht("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Xj{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Kj{#e=!1;constructor(e,t,n,s=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new cx:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new CE,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new qc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=ir.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(n,s,p,g),{renderingIntent:S,cacheKey:v}=y;this.#e=!1,u||=this._transport.getOptionalContentConfig(S);let w=this._intentStates.get(v);w||(w=Object.create(null),this._intentStates.set(v,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const A=!!(S&Wn.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const x=O=>{w.renderTasks.delete(L),A&&(this.#e=!0),this.#t(),O?(L.capability.reject(O),this._abortOperatorList({intentState:w,reason:O instanceof Error?O:new Error(O)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new bo({callback:x,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f});(w.renderTasks||=new Set).add(L);const _=L.task;return Promise.all([w.displayReadyCapability.promise,u]).then(([O,M])=>{if(this.destroyed){x();return}if(this._stats?.time("Rendering"),!(M.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:O,optionalContentConfig:M}),L.operatorListChanged()}).catch(x),_}getOperatorList({intent:e="display",annotationMode:t=ir.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_c.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},s)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new cx),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Hh){let s=Yj;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new kr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var ps,Li,Rr,ra,lh,sa,aa,Rn,Hd,TE,RE,rc,_o,$d;const Ct=class Ct{constructor({name:e=null,port:t=null,verbosity:n=zP()}={}){qi(this,Rn);qi(this,ps,Promise.withResolvers());qi(this,Li,null);qi(this,Rr,null);qi(this,ra,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Et(Ct,aa).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Et(Ct,aa).set(t,this),Yi(this,Rn,TE).call(this,t)}else Yi(this,Rn,RE).call(this)}get promise(){return Et(this,ps).promise}get port(){return Et(this,Rr)}get messageHandler(){return Et(this,Li)}destroy(){this.destroyed=!0,Et(this,ra)?.terminate(),jn(this,ra,null),Et(Ct,aa).delete(Et(this,Rr)),jn(this,Rr,null),Et(this,Li)?.destroy(),jn(this,Li,null)}static create(e){const t=Et(this,aa).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ct(e)}static get workerSrc(){if(gs.workerSrc)return gs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xe(this,"_setupFakeWorkerGlobal",(async()=>Et(this,_o,$d)?Et(this,_o,$d):(await import(this.workerSrc)).WorkerMessageHandler)())}};ps=new WeakMap,Li=new WeakMap,Rr=new WeakMap,ra=new WeakMap,lh=new WeakMap,sa=new WeakMap,aa=new WeakMap,Rn=new WeakSet,Hd=function(){Et(this,ps).resolve(),Et(this,Li).send("configure",{verbosity:this.verbosity})},TE=function(e){jn(this,Rr,e),jn(this,Li,new ic("main","worker",e)),Et(this,Li).on("ready",()=>{}),Yi(this,Rn,Hd).call(this)},RE=function(){if(Et(Ct,sa)||Et(Ct,_o,$d)){Yi(this,Rn,rc).call(this);return}let{workerSrc:e}=Ct;try{Ct._isSameOrigin(window.location,e)||(e=Ct._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new ic("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?Et(this,ps).reject(new Error("Worker was destroyed")):Yi(this,Rn,rc).call(this)},o=new AbortController;t.addEventListener("error",()=>{Et(this,ra)||s()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){s();return}jn(this,Li,n),jn(this,Rr,t),jn(this,ra,t),Yi(this,Rn,Hd).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{Yi(this,Rn,rc).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Uh("The worker has been disabled.")}Yi(this,Rn,rc).call(this)},rc=function(){Et(Ct,sa)||(Ie("Setting up fake worker."),jn(Ct,sa,!0)),Ct._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Et(this,ps).reject(new Error("Worker was destroyed"));return}const t=new aj;jn(this,Rr,t);const n=`fake${gS(Ct,lh)._++}`,s=new ic(n+"_worker",n,t);e.setup(s,t),jn(this,Li,new ic(n,n+"_worker",t)),Yi(this,Rn,Hd).call(this)}).catch(e=>{Et(this,ps).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},_o=new WeakSet,$d=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},qi(Ct,_o),qi(Ct,lh,0),qi(Ct,sa,!1),qi(Ct,aa,new WeakMap),Tn&&(jn(Ct,sa,!0),gs.workerSrc||="./pdf.worker.mjs"),Ct._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const s=new URL(t,n);return n.origin===s.origin},Ct._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ct.fromPort=e=>{if(KP("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ct.create(e)};let Oo=Ct;class Wj{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,n,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new CE,this.fontLoader=new tj({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(e,t=null){const n=this.#e.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,s),s}get annotationStorage(){return Xe(this,"annotationStorage",new xy)}getRenderingIntent(e,t=ir.ENABLE,n=null,s=!1,o=!1){let l=Wn.DISPLAY,u=xm;switch(e){case"any":l=Wn.ANY;break;case"display":break;case"print":l=Wn.PRINT;break;default:Ie(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Wn.PRINT&&n instanceof fE?n:this.annotationStorage;switch(t){case ir.DISABLE:l+=Wn.ANNOTATIONS_DISABLE;break;case ir.ENABLE:break;case ir.ENABLE_FORMS:l+=Wn.ANNOTATIONS_FORMS;break;case ir.ENABLE_STORAGE:l+=Wn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ie(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=Wn.IS_EDITING),o&&(l+=Wn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Ec.cleanup(),this._networkStream?.cancelAllRequests(new kr("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}Wt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{t.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{Wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){s.close();return}Wt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Xj(n,this))}),e.on("DocException",n=>{t._capability.reject(Fn(n))}),e.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!t.onPassword)throw Fn(n);const s=o=>{o instanceof Error?this.#s.reject(o):this.#s.resolve({password:o})};t.onPassword(s,n.code)}catch(s){this.#s.reject(s)}return this.#s.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in o){const f=o.error;Ie(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new nj(o,l);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:d}=o;Wt(d,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,p]of f.objs)if(p?.ref===d)return p.dataLen?(this.commonObjs.resolve(n,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,l])=>{if(this.destroyed)return;const u=this.#t.get(s);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,e);const l=new Kj(t,o,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#n.set(t,s),s}getPageIndex(e){return Am(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new Rj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new Cj(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Ec.cleanup()}}cachedPageNumber(e){if(!Am(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}}class Qj{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class bo{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:y=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Qj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(bo.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");bo.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:l}=this.params;this.gfx=new xo(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),bo.#t.delete(this._canvas),e||=new Hh(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),bo.#t.delete(this._canvas),this.callback())))}}const ME="5.3.93",OE="cbeef3233";function _x(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Xl(i){return Math.max(0,Math.min(255,255*i))}class Cx{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Xl(e),[e,e,e]}static G_HTML([e]){const t=_x(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Xl)}static RGB_HTML(e){return`#${e.map(_x).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[Xl(1-Math.min(1,e+s)),Xl(1-Math.min(1,n+s)),Xl(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,l=1-n,u=Math.min(s,o,l);return["CMYK",s,o,l,u]}}class Zj{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ht("Abstract method `_createSVG` called.")}}class Cc extends Zj{_createSVG(e){return document.createElementNS(Tr,e)}}class My{static setupStorage(e,t,n,s,o){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{s.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}u&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const u=o!=="richText",d=e.div;if(d.append(l),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=g}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const g=document.createTextNode(s.value);l.append(g),u&&_c.shouldBuildText(s.name)&&f.push(g)}return{textDivs:f}}const p=[[s,-1,l]];for(;p.length>0;){const[g,y,S]=p.at(-1);if(y+1===g.children.length){p.pop();continue}const v=g.children[++p.at(-1)[1]];if(v===null)continue;const{name:w}=v;if(w==="#text"){const x=document.createTextNode(v.value);f.push(x),S.append(x);continue}const A=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,w):document.createElement(w);if(S.append(A),v.attributes&&this.setAttributes({html:A,element:v,storage:t,intent:o,linkService:n}),v.children?.length>0)p.push([v,-1,A]);else if(v.value){const x=document.createTextNode(v.value);u&&_c.shouldBuildText(w)&&f.push(x),A.append(x)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Jj=9,ga=new WeakSet;class Tx{static create(e){switch(e.data.annotationType){case zt.LINK:return new DE(e);case zt.TEXT:return new eI(e);case zt.WIDGET:switch(e.data.fieldType){case"Tx":return new tI(e);case"Btn":return e.data.radioButton?new LE(e):e.data.checkBox?new iI(e):new rI(e);case"Ch":return new sI(e);case"Sig":return new nI(e)}return new va(e);case zt.POPUP:return new _m(e);case zt.FREETEXT:return new NE(e);case zt.LINE:return new oI(e);case zt.SQUARE:return new lI(e);case zt.CIRCLE:return new cI(e);case zt.POLYLINE:return new kE(e);case zt.CARET:return new dI(e);case zt.INK:return new Oy(e);case zt.POLYGON:return new uI(e);case zt.HIGHLIGHT:return new PE(e);case zt.UNDERLINE:return new hI(e);case zt.SQUIGGLY:return new fI(e);case zt.STRIKEOUT:return new pI(e);case zt.STAMP:return new jE(e);case zt.FILEATTACHMENT:return new gI(e);default:return new $t(e)}}}class $t{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $t._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,s===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(s)}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof va||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof _m){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:u,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(w>0||A>0){const L=`calc(${w}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;l.borderRadius=L}else if(this instanceof LE){const L=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=L}switch(t.borderStyle.style){case po.SOLID:l.borderStyle="solid";break;case po.DASHED:l.borderStyle="dashed";break;case po.BEVELED:Ie("Unimplemented border style: beveled");break;case po.INSET:Ie("Unimplemented border style: inset");break;case po.UNDERLINE:l.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(this.#t=!0,l.borderColor=xe.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const f=xe.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:y,pageY:S}=s.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-S)/g}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(l.width=`${100*u/p}%`,l.height=`${100*d/g}%`):this.setRotation(v,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],l=o[0],u=o.slice(1);s.target.style[n]=Cx[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:Cx[`${l}_rgb`](u)})};return Xe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail))(e[s]||n[s])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const l=n[s];if(l){const u={detail:{[s]:o},target:e};l(u),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,A,x,L]=e.subarray(2,6);if(s===w&&o===A&&t===x&&n===L)return}const{style:l}=this.container;let u;if(this.#t){const{borderColor:w,borderWidth:A}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const d=s-t,f=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const y=p.createElement("defs");g.append(y);const S=p.createElement("clipPath"),v=`clippath_${this.data.id}`;S.setAttribute("id",v),S.setAttribute("clipPathUnits","objectBoundingBox"),y.append(S);for(let w=2,A=e.length;w<A;w+=8){const x=e[w],L=e[w+1],_=e[w+2],O=e[w+3],M=p.createElement("rect"),R=(_-t)/d,P=(o-L)/f,B=(x-_)/d,U=(L-O)/f;M.setAttribute("x",R),M.setAttribute("y",P),M.setAttribute("width",B),M.setAttribute("height",U),S.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${P}" width="${B}" height="${U}"/>`)}this.#t&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=this.#n=new _m({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){ht("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:l,exportValues:u}of s){if(o===-1||l===t)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!ga.has(f)){Ie(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==t&&ga.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class DE extends $t{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(n,e.action),s=!0):e.attachment?(this.#t(n,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(this.#n(n,e.setOCGState),s=!0):e.dest?(this._bindLink(n,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),s=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,n=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const o=n.get(s);o&&(e[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:s,refs:o,include:l}=t,u=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const g of s){const y=this._fieldObjects[g]||[];for(const{id:S}of y)p.add(S)}for(const g of Object.values(this._fieldObjects))for(const y of g)p.has(y.id)===l&&u.push(y)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const S=p.defaultValue||"";d.setValue(g,{value:S});break}case"checkbox":case"radiobutton":{const S=p.defaultValue===p.exportValues;d.setValue(g,{value:S});break}case"combobox":case"listbox":{const S=p.defaultValue||"";d.setValue(g,{value:S});break}default:continue}const y=document.querySelector(`[data-element-id="${g}"]`);if(y){if(!ga.has(y)){Ie(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class eI extends $t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class va extends $t{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ln.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}})})}_setEventListeners(e,t,n,s){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,o,l,s),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":xe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Jj,o=e.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Mg*s))||1,g=f/p;l=Math.min(s,d(g/Mg))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(s,d(f/Mg))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=xe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class tI extends va{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[s]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ga.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const f=this.data.dateFormat||this.data.timeFormat;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(n,"value",g.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";n.value=d.userValue=y,d.formattedValue=null});let p=g=>{const{formattedValue:y}=d;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(d.focused)return;const{target:S}=y;d.userValue&&(S.value=d.userValue),d.lastCommittedValue=S.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const S={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:w}=v.detail;d.formattedValue=w,w!=null&&v.target!==document.activeElement&&(v.target.value=w),e.setValue(t,{formattedValue:w})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:w}=v.detail,{target:A}=v;if(w===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",w);let x=d.userValue;!x||x.length<=w||(x=x.slice(0,w),A.value=d.userValue=x,e.setValue(t,{value:x}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(S,y)}),n.addEventListener("keydown",y=>{d.commitKey=1;let S=-1;if(y.key==="Escape"?S=0:y.key==="Enter"&&!this.data.multiLine?S=2:y.key==="Tab"&&(d.commitKey=3),S===-1)return;const{value:v}=y.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:S,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,n.addEventListener("blur",y=>{if(!d.focused||!y.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:S}=y.target;d.userValue=S,d.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),g(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{d.lastCommittedValue=null;const{data:S,target:v}=y,{value:w,selectionStart:A,selectionEnd:x}=v;let L=A,_=x;switch(y.inputType){case"deleteWordBackward":{const O=w.substring(0,A).match(/\w*[^\w]*$/);O&&(L-=O[0].length);break}case"deleteWordForward":{const O=w.substring(A).match(/^[^\w]*\w*/);O&&(_+=O[0].length);break}case"deleteContentBackward":A===x&&(L-=1);break;case"deleteContentForward":A===x&&(_+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:S||"",willCommit:!1,selStart:L,selEnd:_}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class nI extends va{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class iI extends va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ga.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class LE extends va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(ga.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const y=p&&g.id===n;g.domElement&&(g.domElement.checked=y),e.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class rI extends DE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class sI extends va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");ga.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),s.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:y,multiple:S}=s;return S?Array.prototype.filter.call(y,v=>v.selected).map(v=>v[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(y){l?.();const S=y.detail.value,v=new Set(Array.isArray(S)?S:[S]);for(const w of s.options)w.selected=v.has(w.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(y){s.multiple=!0},remove(y){const S=s.options,v=y.detail.remove;S[v].selected=!1,s.remove(v),S.length>0&&Array.prototype.findIndex.call(S,A=>A.selected)===-1&&(S[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},clear(y){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(y){const{index:S,displayValue:v,exportValue:w}=y.detail.insert,A=s.children[S],x=document.createElement("option");x.textContent=v,x.value=w,A?A.before(x):s.append(x),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},items(y){const{items:S}=y.detail;for(;s.length!==0;)s.remove(0);for(const v of S){const{displayValue:w,exportValue:A}=v,x=document.createElement("option");x.textContent=w,x.value=A,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},indices(y){const S=new Set(y.detail.indices);for(const v of y.target.options)v.selected=S.has(v.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{const g=u(!0),y=u(!1);e.setValue(t,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class _m extends $t{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:$t._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new aI({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${yy}${s}`).join(",")),this.container}}class aI{#e=this.#T.bind(this);#t=this.#C.bind(this);#n=this.#R.bind(this);#i=this.#A.bind(this);#s=null;#r=null;#o=null;#a=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#g=null;#c=null;#m=null;#y=null;#b=!1;constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:g}){this.#r=e,this.#m=s,this.#o=l,this.#c=u,this.#l=d,this.#s=t,this.#g=f,this.#h=p,this.#d=n,this.#a=by.toDateObject(o),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",this.#i),y.addEventListener("mouseenter",this.#n),y.addEventListener("mouseleave",this.#t),y.classList.add("popupTriggerArea");for(const y of n)y.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,g&&this.#A()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#s){const o=e.style.outlineColor=xe.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=this.#m,e.append(t),this.#a){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),o.dateTime=this.#a.toISOString(),t.append(o)}const s=this.#S;if(s)My.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#o);e.append(o)}this.#r.append(e)}get#S(){const e=this.#c,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#c.html||null}get#w(){return this.#S?.attributes?.style?.fontSize||0}get#x(){return this.#S?.attributes?.style?.color||null}#_(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:this.#x,fontSize:this.#w?`calc(${this.#w}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const u=s[o];n.append(document.createTextNode(u)),o<l-1&&n.append(document.createElement("br"))}return n}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#A()}updateEdited({rect:e,popupContent:t}){this.#y||={contentsObj:this.#o,richText:this.#c},e&&(this.#p=null),t&&(this.#c=this.#_(t),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#o,richText:this.#c}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#p=null)}#M(){if(this.#p!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=this.#l;let l=!!this.#h,u=l?this.#h:this.#g;for(const v of this.#d)if(!u||xe.intersect(v.data.rect,u)!==null){u=v.data.rect,l=!0;break}const d=xe.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=l?u[2]-u[0]+5:0,g=d[0]+p,y=d[1];this.#p=[100*(g-s)/t,100*(y-o)/n];const{style:S}=this.#r;S.left=`${this.#p[0]}%`,S.top=`${this.#p[1]}%`}#A(){this.#u=!this.#u,this.#u?(this.#R(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#C(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#r.classList.add("focused"):(this.#M(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#C(){this.#r.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#r.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#R(),this.#b=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class NE extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=je.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class oI extends $t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class lI extends $t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),o=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",t-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class cI extends $t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),o=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",n/2),l.setAttribute("rx",t/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class kE extends $t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:s},width:o,height:l}=this;if(!t)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,g=t.length;p<g;p+=2){const y=t[p]-e[0],S=e[3]-t[p+1];d.push(`${y},${S}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class uI extends kE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dI extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Oy extends $t{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?je.HIGHLIGHT:je.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:s,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#n(t,e),f=this.svgFactory.create(u,d,!0),p=this.#e=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,y=n.length;g<y;g++){const S=this.svgFactory.createElement(this.svgElementName);this.#t.push(S),S.setAttribute("points",n[g].join(",")),p.append(S)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:s}=e,o=this.#e;if(t>=0&&o.setAttribute("stroke-width",t||1),n)for(let l=0,u=this.#t.length;l<u;l++)this.#t[l].setAttribute("points",n[l].join(","));if(s){const{transform:l,width:u,height:d}=this.#n(this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class PE extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=je.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class hI extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class fI extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class pI extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class jE extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=je.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class gI extends $t{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:s}=ln.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Dy=class IE{#e=null;#t=null;#n=new Map;#i=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:u}){this.div=e,this.#e=t,this.#t=n,this.#i=u||null,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#n.size>0}async#s(e,t,n){const s=e.firstChild||e,o=s.id=`${yy}${t}`,l=await this.#i?.getAriaAttributes(o);if(l)for(const[u,d]of l)s.setAttribute(u,d);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,s,!1))}async render(e){const{annotations:t}=e,n=this.div;vs(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Cc,annotationStorage:e.annotationStorage||new xy,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===zt.POPUP;if(u){const p=s.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=Tx.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=s.get(l.popupRef);p?p.push(d):s.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#s(f,l.id,o.elements),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#r()}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Cc,parent:this};for(const s of e){s.borderStyle||=IE._defaultBorderStyle,n.data=s;const o=Tx.create(n);if(!o.isRenderable)continue;const l=o.render();await this.#s(l,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,vs(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,s.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return Xe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:po.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Cd=/\r\n?|\n/g;class Jt extends Ee{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Jt.prototype,t=o=>o.isEmpty(),n=Pr.TRANSLATE_SMALL,s=Pr.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new Xc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}static _type="freetext";static _editorType=je.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Jt._defaultColor||Ee._defaultLineColor,this.#s=e.fontSize||Jt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Ee.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case We.FREETEXT_SIZE:Jt._defaultFontSize=t;break;case We.FREETEXT_COLOR:Jt._defaultColor=t;break}}updateParams(e,t){switch(e){case We.FREETEXT_SIZE:this.#r(t);break;case We.FREETEXT_COLOR:this.#o(t);break}}static get defaultPropertiesToUpdate(){return[[We.FREETEXT_SIZE,Jt._defaultFontSize],[We.FREETEXT_COLOR,Jt._defaultColor||Ee._defaultLineColor]]}get propertiesToUpdate(){return[[We.FREETEXT_SIZE,this.#s],[We.FREETEXT_COLOR,this.#e]]}#r(e){const t=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#s)*this.parentScale),this.#s=s,this.#d()},n=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(e){const t=s=>{this.#e=this.editorDiv.style.color=s},n=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Jt._internalPadding*e,-(Jt._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Jt.#l(n)),t=n);return e.join(`
`)}#d(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#a().trimEnd();if(e===t)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Jt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,y]=this.pageTranslation;let S,v;switch(this.rotation){case 0:S=e+(l[0]-g)/f,v=t+this.height-(l[1]-y)/p;break;case 90:S=e+(l[0]-g)/f,v=t-(l[1]-y)/p,[u,d]=[d,-u];break;case 180:S=e-this.width+(l[0]-g)/f,v=t-(l[1]-y)/p,[u,d]=[-u,-d];break;case 270:S=e+(l[0]-g-this.height*p)/f,v=t+(l[1]-y-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(S*s,v*o,u,d)}else this._moveAfterPaste(e,t);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Cd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const s=Jt.#f(t.getData("text")||"").replaceAll(Cd,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const S=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Cd,"")),S!==this.editorDiv){let v=f;for(const w of this.editorDiv.childNodes){if(w===S){v=p;continue}v.push(Jt.#l(w))}}f.push(u.nodeValue.slice(0,d).replaceAll(Cd,""))}else if(u===this.editorDiv){let S=f,v=0;for(const w of this.editorDiv.childNodes)v++===d&&(S=p),S.push(Jt.#l(w))}this.#t=`${f.join(`
`)}${s}${p.join(`
`)}`,this.#h();const g=new Range;let y=Math.sumPrecise(f.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const v=S.nodeValue.length;if(y<=v){g.setStart(S,y),g.setEnd(S,y);break}y-=v}o.removeAllRanges(),o.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(""," ")}static#f(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let s=null;if(e instanceof NE){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:g},textContent:y,textPosition:S,parent:{page:{pageNumber:v}}}=e;if(!y||y.length===0)return null;s=e={annotationType:je.FREETEXT,color:Array.from(u),fontSize:l,value:y.join(`
`),position:S,pageIndex:v-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g}}const o=await super.deserialize(e,t,n);return o.#s=e.fontSize,o.#e=xe.makeHexColor(...e.color),o.#t=Jt.#f(e.value),o._initialData=s,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Jt._internalPadding*this.parentScale,n=this.getRect(t,t),s=Ee._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:je.FREETEXT,color:s,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!this.#p(o)?null:(o.id=this.annotationElementId,o)}#p(e){const{value:t,fontSize:n,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((l,u)=>l!==s[u])||e.pageIndex!==o}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,t.replaceChildren();for(const o of this.#t.split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),t.append(l)}const s=Jt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ge{static PRECISION=1e-4;toSVGPath(){ht("Abstract method `toSVGPath` must be implemented.")}get box(){ht("Abstract getter `box` must be implemented.")}serialize(e,t){ht("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,s,o,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u]*s,l[u+1]=n+e[u+1]*o;return l}static _rescaleAndSwap(e,t,n,s,o,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u+1]*s,l[u+1]=n+e[u]*o;return l}static _translate(e,t,n,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o],s[o+1]=n+e[o+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,s,o){switch(o){case 90:return[1-t/n,e/s];case 180:return[1-e/n,1-t/s];case 270:return[t/n,1-e/s];default:return[e/n,t/s]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,s,o,l){return[(e+5*n)/6,(t+5*s)/6,(5*n+o)/6,(5*s+l)/6,(n+o)/2,(s+l)/2]}}class ia{#e;#t=[];#n;#i;#s=[];#r=new Float32Array(18);#o;#a;#d;#l;#h;#u;#f=[];static#p=8;static#g=2;static#c=ia.#p+ia.#g;constructor({x:e,y:t},n,s,o,l,u=0){this.#e=n,this.#u=o*s,this.#i=l,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=u,this.#l=ia.#p*s,this.#d=ia.#c*s,this.#h=s,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[n,s,o,l]=this.#e;return[(this.#o+(e[0]-t[0])/2-n)/o,(this.#a+(e[1]-t[1])/2-s)/l,(this.#o+(t[0]-e[0])/2-n)/o,(this.#a+(t[1]-e[1])/2-s)/l]}add({x:e,y:t}){this.#o=e,this.#a=t;const[n,s,o,l]=this.#e;let[u,d,f,p]=this.#r.subarray(8,12);const g=e-f,y=t-p,S=Math.hypot(g,y);if(S<this.#d)return!1;const v=S-this.#l,w=v/S,A=w*g,x=w*y;let L=u,_=d;u=f,d=p,f+=A,p+=x,this.#f?.push(e,t);const O=-x/v,M=A/v,R=O*this.#u,P=M*this.#u;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([f+R,p+P],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([f-R,p-P],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([u+R,d+P],2),this.#s.push(NaN,NaN,NaN,NaN,(u+R-n)/o,(d+P-s)/l),this.#r.set([u-R,d-P],14),this.#t.push(NaN,NaN,NaN,NaN,(u-R-n)/o,(d-P-s)/l)),this.#r.set([L,_,u,d,f,p],6),!this.isEmpty()):(this.#r.set([L,_,u,d,f,p],6),Math.abs(Math.atan2(_-d,L-u)-Math.atan2(x,A))<Math.PI/2?([u,d,f,p]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-s)/l),[u,d,L,_]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((L+u)/2-n)/o,((_+d)/2-s)/l),!0):([L,_,u,d,f,p]=this.#r.subarray(0,6),this.#s.push(((L+5*u)/6-n)/o,((_+5*d)/6-s)/l,((5*u+f)/6-n)/o,((5*d+p)/6-s)/l,((u+f)/2-n)/o,((d+p)/2-s)/l),[f,p,u,d,L,_]=this.#r.subarray(12,18),this.#t.push(((L+5*u)/6-n)/o,((_+5*d)/6-s)/l,((5*u+f)/6-n)/o,((5*d+p)/6-s)/l,((u+f)/2-n)/o,((d+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);this.#S(n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return this.#b(n),n.join(" ")}#y(){const[e,t,n,s]=this.#e,[o,l,u,d]=this.#m();return`M${(this.#r[2]-e)/n} ${(this.#r[3]-t)/s} L${(this.#r[4]-e)/n} ${(this.#r[5]-t)/s} L${o} ${l} L${u} ${d} L${(this.#r[16]-e)/n} ${(this.#r[17]-t)/s} L${(this.#r[14]-e)/n} ${(this.#r[15]-t)/s} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#S(e){const[t,n,s,o]=this.#e,l=this.#r.subarray(4,6),u=this.#r.subarray(16,18),[d,f,p,g]=this.#m();e.push(`L${(l[0]-t)/s} ${(l[1]-n)/o} L${d} ${f} L${p} ${g} L${(u[0]-t)/s} ${(u[1]-n)/o}`)}newFreeDrawOutline(e,t,n,s,o,l){return new FE(e,t,n,s,o,l)}getOutlines(){const e=this.#s,t=this.#t,n=this.#r,[s,o,l,u]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,y=d.length-2;g<y;g+=2)d[g]=(this.#f[g]-s)/l,d[g+1]=(this.#f[g+1]-o)/u;if(d[d.length-2]=(this.#o-s)/l,d[d.length-1]=(this.#a-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#w(d);const f=new Float32Array(this.#s.length+24+this.#t.length);let p=e.length;for(let g=0;g<p;g+=2){if(isNaN(e[g])){f[g]=f[g+1]=NaN;continue}f[g]=e[g],f[g+1]=e[g+1]}p=this.#_(f,p);for(let g=t.length-6;g>=6;g-=6)for(let y=0;y<6;y+=2){if(isNaN(t[g+y])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[g+y],f[p+1]=t[g+y+1],p+=2}return this.#x(f,p),this.newFreeDrawOutline(f,d,this.#e,this.#h,this.#n,this.#i)}#w(e){const t=this.#r,[n,s,o,l]=this.#e,[u,d,f,p]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-s)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-s)/l],0),this.newFreeDrawOutline(g,e,this.#e,this.#h,this.#n,this.#i)}#x(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#_(e,t){const n=this.#r.subarray(4,6),s=this.#r.subarray(16,18),[o,l,u,d]=this.#e,[f,p,g,y]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-l)/d],t),t+=24}}class FE extends ge{#e;#t=new Float32Array(4);#n;#i;#s;#r;#o;constructor(e,t,n,s,o,l){super(),this.#o=e,this.#s=t,this.#e=n,this.#r=s,this.#n=o,this.#i=l,this.lastPoint=[NaN,NaN],this.#a(l);const[u,d,f,p]=this.#t;for(let g=0,y=e.length;g<y;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p;for(let g=0,y=t.length;g<y;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-d)/p}toSVGPath(){const e=[`M${this.#o[4]} ${this.#o[5]}`];for(let t=6,n=this.#o.length;t<n;t+=6){if(isNaN(this.#o[t])){e.push(`L${this.#o[t+4]} ${this.#o[t+5]}`);continue}e.push(`C${this.#o[t]} ${this.#o[t+1]} ${this.#o[t+2]} ${this.#o[t+3]} ${this.#o[t+4]} ${this.#o[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,s],o){const l=n-e,u=s-t;let d,f;switch(o){case 0:d=ge._rescale(this.#o,e,s,l,-u),f=ge._rescale(this.#s,e,s,l,-u);break;case 90:d=ge._rescaleAndSwap(this.#o,e,t,l,u),f=ge._rescaleAndSwap(this.#s,e,t,l,u);break;case 180:d=ge._rescale(this.#o,n,t,-l,u),f=ge._rescale(this.#s,n,t,-l,u);break;case 270:d=ge._rescaleAndSwap(this.#o,n,s,-l,-u),f=ge._rescaleAndSwap(this.#s,n,s,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#a(e){const t=this.#o;let n=t[4],s=t[5];const o=[n,s,n,s];let l=n,u=s;const d=e?Math.max:Math.min;for(let p=6,g=t.length;p<g;p+=6){const y=t[p+4],S=t[p+5];if(isNaN(t[p]))xe.pointBoundingBox(y,S,o),u<S?(l=y,u=S):u===S&&(l=d(l,y));else{const v=[1/0,1/0,-1/0,-1/0];xe.bezierBoundingBox(n,s,...t.slice(p,p+6),v),xe.rectBoundingBox(...v,o),u<v[3]?(l=v[2],u=v[3]):u===v[3]&&(l=d(l,v[2]))}n=y,s=S}const f=this.#t;f[0]=o[0]-this.#n,f[1]=o[1]-this.#n,f[2]=o[2]-o[0]+2*this.#n,f[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[l,u]}get box(){return this.#t}newOutliner(e,t,n,s,o,l=0){return new ia(e,t,n,s,o,l)}getNewOutline(e,t){const[n,s,o,l]=this.#t,[u,d,f,p]=this.#e,g=o*f,y=l*p,S=n*f+u,v=s*p+d,w=this.newOutliner({x:this.#s[0]*g+S,y:this.#s[1]*y+v},this.#e,this.#r,e,this.#i,t??this.#n);for(let A=2;A<this.#s.length;A+=2)w.add({x:this.#s[A]*g+S,y:this.#s[A+1]*y+v});return w.getOutlines()}}class Cm{#e;#t;#n=[];#i=[];constructor(e,t=0,n=0,s=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:v,width:w,height:A}of e){const x=Math.floor((S-t)/l)*l,L=Math.ceil((S+w+t)/l)*l,_=Math.floor((v-t)/l)*l,O=Math.ceil((v+A+t)/l)*l,M=[x,_,O,!0],R=[L,_,O,!1];this.#n.push(M,R),xe.rectBoundingBox(x,_,L,O,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n,g=this.#n.at(s?-1:-2),y=[g[0],g[2]];for(const S of this.#n){const[v,w,A]=S;S[0]=(v-f)/u,S[1]=(w-p)/d,S[2]=(A-p)/d}this.#e=new Float32Array([f,p,u,d]),this.#t=y}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#d(t)),this.#o(t)):(this.#a(t),e.push(...this.#d(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const l of e){const[u,d,f]=l;t.push([u,d,l],[u,f,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,g]=l;n.delete(l);let y=u,S=d;for(o=[u,f],s.push(o);;){let v;if(n.has(p))v=p;else if(n.has(g))v=g;else break;n.delete(v),[u,d,f,p,g]=v,y!==u&&(o.push(y,S,u,S===d?d:f),y=u),S=S===d?f:d}o.push(y,S)}return new mI(s,this.#e,this.#t)}#r(e){const t=this.#i;let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:s=o-1}return s+1}#o([,e,t]){const n=this.#r(e);this.#i.splice(n,0,[e,t])}#a([,e,t]){const n=this.#r(e);for(let s=n;s<this.#i.length;s++){const[o,l]=this.#i[s];if(o!==e)break;if(o===e&&l===t){this.#i.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=this.#i[s];if(o!==e)break;if(o===e&&l===t){this.#i.splice(s,1);return}}}#d(e){const[t,n,s]=e,o=[[t,n,s]],l=this.#r(s);for(let u=0;u<l;u++){const[d,f]=this.#i[u];for(let p=0,g=o.length;p<g;p++){const[,y,S]=o[p];if(!(f<=y||S<=d)){if(y>=d){if(S>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,S>f&&o.push([t,f,S])}}}return o}}class mI extends ge{#e;#t;constructor(e,t,n){super(),this.#t=e,this.#e=t,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#t){let[n,s]=t;e.push(`M${n} ${s}`);for(let o=2;o<t.length;o+=2){const l=t[o],u=t[o+1];l===n?(e.push(`V${u}`),s=u):u===s&&(e.push(`H${l}`),n=l)}e.push("Z")}return e.join(" ")}serialize([e,t,n,s],o){const l=[],u=n-e,d=s-t;for(const f of this.#t){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=e+f[g]*u,p[g+1]=s-f[g+1]*d;l.push(p)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Tm extends ia{newFreeDrawOutline(e,t,n,s,o,l){return new yI(e,t,n,s,o,l)}}class yI extends FE{newOutliner(e,t,n,s,o,l=0){return new Tm(e,t,n,s,o,l)}}class Qn{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#o=null;#a;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return Xe(this,"_keyboardManager",new Xc([[["Escape","mac+Escape"],Qn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Qn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Qn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Qn.prototype._moveToPrevious],[["Home","mac+Home"],Qn.prototype._moveToBeginning],[["End","mac+End"],Qn.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#h=We.HIGHLIGHT_COLOR,this.#o=e):(this.#r=!0,this.#h=We.HIGHLIGHT_DEFAULT_COLOR),this.#l=e?._uiManager||t,this.#a=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Qn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#o&&(e.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#c.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#i=this.#f();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#f(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Ai,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(e.id=`${this.#o.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",Qn.#u[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.ariaSelected=s===this.#n,o.addEventListener("click",this.#p.bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#p(e,t){t.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#c(e);return}const t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#y){this.#c(e);return}if(e.target===this.#e){this.#i.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#i?.firstChild||e.target===this.#e){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#c(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#y){this.#c(e);return}this.#i.firstChild?.focus()}_moveToEnd(e){if(!this.#y){this.#c(e);return}this.#i.lastChild?.focus()}#g(e){Qn._keyboardManager.exec(this,e)}#c(e){if(this.#y){this.hideDropdown();return}if(this.#s=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#e.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const t=this.#i=this.#f();this.#e.append(t)}#m(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#y){this.#o?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#i)return;const t=this.#l.highlightColors.values();for(const n of this.#i.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}}class Ut extends Ee{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#o=null;#a=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#g=null;#c="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=je.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ut.prototype;return Xe(this,"_keyboardManager",new Xc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ut._defaultColor,this.#m=e.thickness||Ut._defaultThickness,this.#p=e.opacity||Ut._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#S(e),this.#M()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#o=e.focusNode,this.#a=e.focusOffset,this.#b(),this.#M(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new Cm(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Cm(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#S({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const s=1.5;if(this.#r=e.getNewOutline(this.#m/2+s,.0025),t>=0)this.#h=t,this.#i=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Ut.#A(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Ut.#A(this.#r.box,p),path:{d:this.#r.toSVGPath()}})}const[o,l,u,d]=e.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[p,g]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*g/p,this.height=d*p/g;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*g/p,this.height=d*p/g;break}}const{lastPoint:f}=this.#r;this.#f=[(f[0]-o)/u,(f[1]-l)/d]}static initialize(e,t){Ee.initialize(e,t),Ut._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case We.HIGHLIGHT_DEFAULT_COLOR:Ut._defaultColor=t;break;case We.HIGHLIGHT_THICKNESS:Ut._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case We.HIGHLIGHT_COLOR:this.#w(t);break;case We.HIGHLIGHT_THICKNESS:this.#x(t);break}}static get defaultPropertiesToUpdate(){return[[We.HIGHLIGHT_DEFAULT_COLOR,Ut._defaultColor],[We.HIGHLIGHT_THICKNESS,Ut._defaultThickness]]}get propertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,this.color||Ut._defaultColor],[We.HIGHLIGHT_THICKNESS,this.#m||Ut._defaultThickness],[We.HIGHLIGHT_FREE,this.#u]]}#w(e){const t=(o,l)=>{this.color=o,this.#p=l,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:o,"fill-opacity":l}}),this.#s?.updateColor(o)},n=this.color,s=this.#p;this.addCommands({cmd:t.bind(this,e,Ut._defaultOpacity),undo:t.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#x(e){const t=this.#m,n=s=>{this.#m=s,this.#_(s)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Qn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#D())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#M(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#_(e){if(!this.#u)return;this.#S({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#M(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#A([e,t,n,s],o){switch(o){case 90:return[1-t-s,e,s,n];case 180:return[1-e-n,1-t-s,n,s];case 270:return[t,1-e-n,s,n]}return[e,t,n,s]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#u?(e=(e-this.rotation+360)%360,n=Ut.#A(this.#l.box,e)):n=Ut.#A([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:Ut.#A(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),dE(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#R(e){Ut._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#o,this.#a)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#D(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[e,t]=this.pageDimensions,[n,s]=this.pageTranslation,o=this.#n,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of o){const y=d*e+n,S=(1-f)*t+s;l[u]=l[u+4]=y,l[u+1]=l[u+3]=S,l[u+2]=l[u+6]=y+p*e,l[u+5]=l[u+7]=S-g*t,u+=8}return l}#N(e){return this.#l.serialize(e,this.#D())}static startHighlighting(e,t,{target:n,x:s,y:o}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,g=e.combinedSignal(p),y=S=>{p.abort(),this.#E(e,S)};window.addEventListener("blur",y,{signal:g}),window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("pointerdown",Ht,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ai,{signal:g}),n.addEventListener("pointermove",this.#z.bind(this,e),{signal:g}),this._freeHighlight=new Tm({x:s,y:o},[l,u,d,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let s=null;if(e instanceof PE){const{data:{quadPoints:v,rect:w,rotation:A,id:x,color:L,opacity:_,popupRef:O},parent:{page:{pageNumber:M}}}=e;s=e={annotationType:je.HIGHLIGHT,color:Array.from(L),opacity:_,quadPoints:v,boxes:null,pageIndex:M-1,rect:w.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:O}}else if(e instanceof Oy){const{data:{inkLists:v,rect:w,rotation:A,id:x,color:L,borderStyle:{rawWidth:_},popupRef:O},parent:{page:{pageNumber:M}}}=e;s=e={annotationType:je.HIGHLIGHT,color:Array.from(L),thickness:_,inkLists:v,boxes:null,pageIndex:M-1,rect:w.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:O}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=e,f=await super.deserialize(e,t,n);f.color=xe.makeHexColor(...o),f.#p=d||1,u&&(f.#m=e.thickness),f._initialData=s;const[p,g]=f.pageDimensions,[y,S]=f.pageTranslation;if(l){const v=f.#n=[];for(let w=0;w<l.length;w+=8)v.push({x:(l[w]-y)/p,y:1-(l[w+1]-S)/g,width:(l[w+2]-l[w])/p,height:(l[w+1]-l[w+5])/g});f.#b(),f.#M(),f.rotate(f.rotation)}else if(u){f.#u=!0;const v=u[0],w={x:v[0]-y,y:g-(v[1]-S)},A=new Tm(w,[0,0,p,g],1,f.#m/2,!0,.001);for(let _=0,O=v.length;_<O;_+=2)w.x=v[_]-y,w.y=g-(v[_+1]-S),A.add(w);const{id:x,clipPathId:L}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);f.#S({highlightOutlines:A.getOutlines(),highlightId:x,clipPathId:L}),f.#M(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=Ee._colorManager.convert(this.color),s={annotationType:je.HIGHLIGHT,color:n,opacity:this.#p,thickness:this.#m,quadPoints:this.#L(),outlines:this.#N(t),pageIndex:this.pageIndex,rect:t,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#v(s)?null:(s.id=this.annotationElementId,s)}#v(e){const{color:t}=this._initialData;return e.color.some((n,s)=>n!==t[s])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class BE{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){ht("Not implemented")}}class Me extends Ee{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#o=null;static#a=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#c(e.box)}#h(e,t){const{id:n}=t.drawLayer.draw(Me._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[s,o]of Object.entries(t))n.has(s)?Object.assign(e[s],o):e[s]=o;return e}static getDefaultDrawingOptions(e){ht("Not implemented")}static get typesMap(){ht("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Me.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)e.push([n,t[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,s]of this.constructor.typesMap)e.push([n,t[s]]);return e}_updateProperty(e,t,n){const s=this._drawingOptions,o=s[t],l=u=>{s.updateProperty(t,u);const d=this.#e.updateProperty(t,u);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#g()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#g()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#g(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#p([e,t,n,s]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[t,1-e,n*(l/o),s*(o/l)];case 180:return[1-e,1-t,n,s];case 270:return[1-t,e,n*(l/o),s*(o/l)];default:return[e,t,n,s]}}#g(){const{x:e,y:t,width:n,height:s,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-t,e,n*(o/l),s*(l/o)];case 180:return[1-e,1-t,n,s];case 270:return[t,1-e,n*(o/l),s*(l/o)];default:return[e,t,n,s]}}#c(e){if([this.x,this.y,this.width,this.height]=this.#p(e),this.div){this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}this._onResized()}#m(){const{x:e,y:t,width:n,height:s,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-t-s,e,s,n];case 2:return[1-e-n,1-t-s,n,s];case 3:return[t,1-e-n,s,n];case 4:return[e,t-n*(u/d),s*(d/u),n*(u/d)];case 5:return[1-t,e,n*(u/d),s*(d/u)];case 6:return[1-e-s*(d/u),1-t,s*(d/u),n*(u/d)];case 7:return[t-n*(u/d),1-e-s*(d/u),n*(u/d),s*(d/u)];case 8:return[e-n,t-s,n,s];case 9:return[1-t,e-n,s,n];case 10:return[1-e,1-t,n,s];case 11:return[t-s,1-e,s,n];case 12:return[e-s*(d/u),t,s*(d/u),n*(u/d)];case 13:return[1-t-n*(u/d),e-s*(d/u),n*(u/d),s*(d/u)];case 14:return[1-e,1-t-n*(u/d),s*(d/u),n*(u/d)];case 15:return[t,1-e,n*(u/d),s*(d/u)];default:return[e,t,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,s,o){ht("Not implemented")}static startDrawing(e,t,n,s){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=s;if(Me.#o&&Me.#o!==f)return;const{viewport:{rotation:p}}=e,{width:g,height:y}=o.getBoundingClientRect(),S=Me.#i=new AbortController,v=e.combinedSignal(S);if(Me.#r||=d,Me.#o??=f,window.addEventListener("pointerup",w=>{Me.#r===w.pointerId?this._endDraw(w):Me.#a?.delete(w.pointerId)},{signal:v}),window.addEventListener("pointercancel",w=>{Me.#r===w.pointerId?this._currentParent.endDrawingSession():Me.#a?.delete(w.pointerId)},{signal:v}),window.addEventListener("pointerdown",w=>{Me.#o===w.pointerType&&((Me.#a||=new Set).add(w.pointerId),Me.#n.isCancellable()&&(Me.#n.removeLastElement(),Me.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ai,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",w=>{w.timeStamp===Me.#d&&Ht(w)},{signal:v}),e.toggleDrawing(),t._editorUndoBar?.hide(),Me.#n){e.drawLayer.updateProperties(this._currentDrawId,Me.#n.startNew(l,u,g,y,p));return}t.updateUIForDefaultProperties(this),Me.#n=this.createDrawerInstance(l,u,g,y,p),Me.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Me.#s.toSVGProperties(),Me.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Me.#d=-1,!Me.#n)return;const{offsetX:t,offsetY:n,pointerId:s}=e;if(Me.#r===s){if(Me.#a?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Me.#n.add(t,n)),Me.#d=e.timeStamp,Ht(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Me.#n=null,Me.#s=null,Me.#o=null,Me.#d=NaN),Me.#i&&(Me.#i.abort(),Me.#i=null,Me.#r=NaN,Me.#a=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Me.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Me.#n,s=this._currentDrawId,o=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(s,n.setLastElement(o))},undo:()=>{t.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:We.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(We.DRAW_STEP),!Me.#n.isEmpty()){const{pageDimensions:[n,s],scale:o}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Me.#n.getOutlines(n*o,s*o,o,this._INNER_MARGIN),drawingOptions:Me.#s,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,s,o,l){ht("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:u}}=t.viewport,d=this.deserializeDraw(l,u,s,o,this._INNER_MARGIN,e),f=await super.deserialize(e,t,n);return f.createDrawingOptions(e),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,n]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#e.serialize([t,n,s,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class bI{#e=new Float64Array(6);#t;#n;#i;#s;#r;#o="";#a=0;#d=new Qc;#l;#h;constructor(e,t,n,s,o,l){this.#l=n,this.#h=s,this.#i=o,this.#s=l,[e,t]=this.#u(e,t);const u=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#n=[{line:u,points:this.#r}],this.#e.set(u,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#u(e,t){return ge._normalizePoint(e,t,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#u(e,t);const[n,s,o,l]=this.#e.subarray(2,6),u=e-o,d=t-l;return Math.hypot(this.#l*u,this.#h*d)<=2?null:(this.#r.push(e,t),isNaN(n)?(this.#e.set([o,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,s,o,l,e,t],0),this.#t.push(...ge.createBezierPoints(n,s,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,s,o){this.#l=n,this.#h=s,this.#i=o,[e,t]=this.#u(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:l,points:this.#r}),this.#e.set(l,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#r=e.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:s}=this.#n[e];this.#t=n,this.#r=s,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const e=ge.svgRound(this.#t[4]),t=ge.svgRound(this.#t[5]);if(this.#r.length===2)return this.#o=`${this.#o} M ${e} ${t} Z`,this.#o;if(this.#r.length<=6){const s=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,s)} M ${e} ${t}`,this.#a=6}if(this.#r.length===4){const s=ge.svgRound(this.#t[10]),o=ge.svgRound(this.#t[11]);return this.#o=`${this.#o} L ${s} ${o}`,this.#a=12,this.#o}const n=[];this.#a===0&&(n.push(`M ${e} ${t}`),this.#a=6);for(let s=this.#a,o=this.#t.length;s<o;s+=6){const[l,u,d,f,p,g]=this.#t.slice(s,s+6).map(ge.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}return this.#o+=n.join(" "),this.#a=this.#t.length,this.#o}getOutlines(e,t,n,s){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#d.build(this.#n,e,t,n,this.#i,this.#s,s),this.#e=null,this.#t=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Qc extends ge{#e;#t=0;#n;#i;#s;#r;#o;#a;#d;build(e,t,n,s,o,l,u){this.#s=t,this.#r=n,this.#o=s,this.#a=o,this.#d=l,this.#n=u??0,this.#i=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#i.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#i){if(e.push(`M${ge.svgRound(t[4])} ${ge.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ge.svgRound(t[10])} ${ge.svgRound(t[11])}`);continue}for(let n=6,s=t.length;n<s;n+=6){const[o,l,u,d,f,p]=t.subarray(n,n+6).map(ge.svgRound);e.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,t,n,s],o){const l=[],u=[],[d,f,p,g]=this.#h();let y,S,v,w,A,x,L,_,O;switch(this.#a){case 0:O=ge._rescale,y=e,S=t+s,v=n,w=-s,A=e+d*n,x=t+(1-f-g)*s,L=e+(d+p)*n,_=t+(1-f)*s;break;case 90:O=ge._rescaleAndSwap,y=e,S=t,v=n,w=s,A=e+f*n,x=t+d*s,L=e+(f+g)*n,_=t+(d+p)*s;break;case 180:O=ge._rescale,y=e+n,S=t,v=-n,w=s,A=e+(1-d-p)*n,x=t+f*s,L=e+(1-d)*n,_=t+(f+g)*s;break;case 270:O=ge._rescaleAndSwap,y=e+n,S=t+s,v=-n,w=-s,A=e+(1-f-g)*n,x=t+(1-d-p)*s,L=e+(1-f)*n,_=t+(1-d)*s;break}for(const{line:M,points:R}of this.#i)l.push(O(M,y,S,v,w,o?new Array(M.length):null)),u.push(O(R,y,S,v,w,o?new Array(R.length):null));return{lines:l,points:u,rect:[A,x,L,_]}}static deserialize(e,t,n,s,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let g,y,S,v,w;switch(d){case 0:w=ge._rescale,g=-e/n,y=t/s+1,S=1/n,v=-1/s;break;case 90:w=ge._rescaleAndSwap,g=-t/s,y=-e/n,S=1/s,v=1/n;break;case 180:w=ge._rescale,g=e/n+1,y=-t/s,S=-1/n,v=1/s;break;case 270:w=ge._rescaleAndSwap,g=t/s+1,y=e/n+1,S=-1/s,v=-1/n;break}if(!l){l=[];for(const x of u){const L=x.length;if(L===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(L===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const _=new Float32Array(3*(L-2));l.push(_);let[O,M,R,P]=x.subarray(0,4);_.set([NaN,NaN,NaN,NaN,O,M],0);for(let B=4;B<L;B+=2){const U=x[B],C=x[B+1];_.set(ge.createBezierPoints(O,M,R,P,U,C),(B-2)*3),[O,M,R,P]=[R,P,U,C]}}}for(let x=0,L=l.length;x<L;x++)p.push({line:w(l[x].map(_=>_??NaN),g,y,S,v),points:w(u[x].map(_=>_??NaN),g,y,S,v)});const A=new this.prototype.constructor;return A.build(p,n,s,1,d,f,o),A}#l(e=this.#d){const t=this.#n+e/2*this.#o;return this.#a%180===0?[t/this.#s,t/this.#r]:[t/this.#r,t/this.#s]}#h(){const[e,t,n,s]=this.#e,[o,l]=this.#l(0);return[e+o,t+l,n-2*o,s-2*l]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#i){if(s.length<=12){for(let u=4,d=s.length;u<d;u+=6)xe.pointBoundingBox(s[u],s[u+1],e);continue}let o=s[4],l=s[5];for(let u=6,d=s.length;u<d;u+=6){const[f,p,g,y,S,v]=s.subarray(u,u+6);xe.bezierBoundingBox(o,l,f,p,g,y,S,v,e),o=S,l=v}}const[t,n]=this.#l();e[0]=xn(e[0]-t,0,1),e[1]=xn(e[1]-n,0,1),e[2]=xn(e[2]+t,0,1),e[3]=xn(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#l();this.#d=e;const[s,o]=this.#l(),[l,u]=[s-t,o-n],d=this.#e;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([e,t],n){const[s,o]=this.#l();this.#s=e,this.#r=t,this.#o=n;const[l,u]=this.#l(),d=l-s,f=u-o,p=this.#e;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ge.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,s=0,o=0,l=0,u=0,d=0;switch(this.#t){case 90:s=t/e,o=-e/t,u=e;break;case 180:n=-1,l=-1,u=e,d=t;break;case 270:s=-t/e,o=e/t,d=t;break;default:return""}return`matrix(${n} ${s} ${o} ${l} ${ge.svgRound(u)} ${ge.svgRound(d)})`}getPathResizingSVGProperties([e,t,n,s]){const[o,l]=this.#l(),[u,d,f,p]=this.#e;if(Math.abs(f-o)<=ge.PRECISION||Math.abs(p-l)<=ge.PRECISION){const w=e+n/2-(u+f/2),A=t+s/2-(d+p/2);return{path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(t)}`,transform:`${this.rotationTransform} translate(${w} ${A})`}}}const g=(n-2*o)/(f-2*o),y=(s-2*l)/(p-2*l),S=f/n,v=p/s;return{path:{"transform-origin":`${ge.svgRound(u)} ${ge.svgRound(d)}`,transform:`${this.rotationTransform} scale(${S} ${v}) translate(${ge.svgRound(o)} ${ge.svgRound(l)}) scale(${g} ${y}) translate(${ge.svgRound(-o)} ${ge.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,n,s]){const[o,l]=this.#l(),u=this.#e,[d,f,p,g]=u;if(u[0]=e,u[1]=t,u[2]=n,u[3]=s,Math.abs(p-o)<=ge.PRECISION||Math.abs(g-l)<=ge.PRECISION){const A=e+n/2-(d+p/2),x=t+s/2-(f+g/2);for(const{line:L,points:_}of this.#i)ge._translate(L,A,x,L),ge._translate(_,A,x,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(n-2*o)/(p-2*o),S=(s-2*l)/(g-2*l),v=-y*(d+o)+e+o,w=-S*(f+l)+t+l;if(y!==1||S!==1||v!==0||w!==0)for(const{line:A,points:x}of this.#i)ge._rescale(A,v,w,y,S,A),ge._rescale(x,v,w,y,S,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[s,o]=n,l=this.#e,u=e-l[0],d=t-l[1];if(this.#s===s&&this.#r===o)for(const{line:f,points:p}of this.#i)ge._translate(f,u,d,f),ge._translate(p,u,d,p);else{const f=this.#s/s,p=this.#r/o;this.#s=s,this.#r=o;for(const{line:g,points:y}of this.#i)ge._rescale(g,u,d,f,p,g),ge._rescale(y,u,d,f,p,y);l[2]*=f,l[3]*=p}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ge.svgRound(e[0])} ${ge.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Gh extends BE{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ee._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Gh(this._viewParameters);return e.updateAll(this),e}}class Ly extends Me{static _type="ink";static _editorType=je.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Ee.initialize(e,t),this._defaultDrawingOptions=new Gh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Xe(this,"typesMap",new Map([[We.INK_THICKNESS,"stroke-width"],[We.INK_COLOR,"stroke"],[We.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,s,o){return new bI(e,t,n,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,s,o,l){return Qc.deserialize(e,t,n,s,o,l)}static async deserialize(e,t,n){let s=null;if(e instanceof Oy){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:y},popupRef:S},parent:{page:{pageNumber:v}}}=e;s=e={annotationType:je.INK,color:Array.from(p),thickness:y,opacity:g,paths:{points:l},boxes:null,pageIndex:v-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:S}}const o=await super.deserialize(e,t,n);return o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Ly.getDefaultDrawingOptions({stroke:xe.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:s}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":u}}=this,d={annotationType:je.INK,color:Ee._colorManager.convert(o),opacity:l,thickness:u,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(d.isCopy=!0,d):this.annotationElementId&&!this.#e(d)?null:(d.id=this.annotationElementId,d)}#e(e){const{color:t,thickness:n,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((l,u)=>l!==t[u])||e.thickness!==n||e.opacity!==s||e.pageIndex!==o}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}}class Rm extends Qc{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Td=8,Kl=3;class Js{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,s){return n-=e,s-=t,n===0?s>0?0:4:n===1?s+6:2-s}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(e,t,n,s,o,l,u){const d=this.#t(n,s,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=this.#n[2*p],y=this.#n[2*p+1];if(e[(n+g)*t+(s+y)]!==0)return p}return-1}static#s(e,t,n,s,o,l,u){const d=this.#t(n,s,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=this.#n[2*p],y=this.#n[2*p+1];if(e[(n+g)*t+(s+y)]!==0)return p}return-1}static#r(e,t,n,s){const o=e.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=e[p]<=s?1:0;for(let p=1;p<n-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let g=1;g<t-1;g++){const y=p*t+g,S=l[y];if(S===0)continue;let v=p,w=g;if(S===1&&l[y-1]===0)u+=1,w-=1;else if(S>=1&&l[y+1]===0)u+=1,w+=1,S>1&&(d=S);else{S!==1&&(d=Math.abs(S));continue}const A=[g,p],x=w===g+1,L={isHole:x,points:A,id:u,parent:0};f.push(L);let _;for(const V of f)if(V.id===d){_=V;break}_?_.isHole?L.parent=x?_.parent:d:L.parent=x?d:_.parent:L.parent=x?d:0;const O=this.#i(l,t,p,g,v,w,0);if(O===-1){l[y]=-u,l[y]!==1&&(d=Math.abs(l[y]));continue}let M=this.#n[2*O],R=this.#n[2*O+1];const P=p+M,B=g+R;v=P,w=B;let U=p,C=g;for(;;){const V=this.#s(l,t,U,C,v,w,1);M=this.#n[2*V],R=this.#n[2*V+1];const ae=U+M,ie=C+R;A.push(ie,ae);const Z=U*t+C;if(l[Z+1]===0?l[Z]=-u:l[Z]===1&&(l[Z]=u),ae===p&&ie===g&&U===P&&C===B){l[y]!==1&&(d=Math.abs(l[y]));break}else v=U,w=C,U=ae,C=ie}}}return f}static#o(e,t,n,s){if(n-t<=4){for(let P=t;P<n-2;P+=2)s.push(e[P],e[P+1]);return}const o=e[t],l=e[t+1],u=e[n-4]-o,d=e[n-3]-l,f=Math.hypot(u,d),p=u/f,g=d/f,y=p*l-g*o,S=d/u,v=1/f,w=Math.atan(S),A=Math.cos(w),x=Math.sin(w),L=v*(Math.abs(A)+Math.abs(x)),_=v*(1-L+L**2),O=Math.max(Math.atan(Math.abs(x+A)*_),Math.atan(Math.abs(x-A)*_));let M=0,R=t;for(let P=t+2;P<n-2;P+=2){const B=Math.abs(y-p*e[P+1]+g*e[P]);B>M&&(R=P,M=B)}M>(f*O)**2?(this.#o(e,t,R+2,s),this.#o(e,R,n,s)):s.push(o,l)}static#a(e){const t=[],n=e.length;return this.#o(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#d(e,t,n,s,o,l){const u=new Float32Array(l**2),d=-2*s**2,f=l>>1;for(let w=0;w<l;w++){const A=(w-f)**2;for(let x=0;x<l;x++)u[w*l+x]=Math.exp((A+(x-f)**2)/d)}const p=new Float32Array(256),g=-2*o**2;for(let w=0;w<256;w++)p[w]=Math.exp(w**2/g);const y=e.length,S=new Uint8Array(y),v=new Uint32Array(256);for(let w=0;w<n;w++)for(let A=0;A<t;A++){const x=w*t+A,L=e[x];let _=0,O=0;for(let R=0;R<l;R++){const P=w+R-f;if(!(P<0||P>=n))for(let B=0;B<l;B++){const U=A+B-f;if(U<0||U>=t)continue;const C=e[P*t+U],V=u[R*l+B]*p[Math.abs(C-L)];_+=C*V,O+=V}}const M=S[x]=Math.round(_/O);v[M]++}return[S,v]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#h(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let s=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){if(e[(u<<2)+3]===0){s=n[u]=255;continue}const p=n[u]=e[u<<2];p>s&&(s=p),p<o&&(o=p)}const l=255/(s-o);for(let u=0;u<t;u++)n[u]=(n[u]-o)*l;return n}static#u(e){let t,n=-1/0,s=-1/0;const o=e.findIndex(d=>d!==0);let l=o,u=o;for(t=o;t<256;t++){const d=e[t];d>n&&(t-l>s&&(s=t-l,u=t-1),n=d,l=t)}for(t=u-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:s}=e,{maxDim:o}=this.#e;let l=n,u=s;if(n>o||s>o){let y=n,S=s,v=Math.log2(Math.max(n,s)/o);const w=Math.floor(v);v=v===w?w-1:w;for(let x=0;x<v;x++){l=Math.ceil(y/2),u=Math.ceil(S/2);const L=new OffscreenCanvas(l,u);L.getContext("2d").drawImage(e,0,0,y,S,0,0,l,u),y=l,S=u,e!==t&&e.close(),e=L.transferToImageBitmap()}const A=Math.min(o/l,o/u);l=Math.round(l*A),u=Math.round(u*A)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:s},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,y=p.font=`${n} ${s} ${g}px ${t}`,{actualBoundingBoxLeft:S,actualBoundingBoxRight:v,actualBoundingBoxAscent:w,actualBoundingBoxDescent:A,fontBoundingBoxAscent:x,fontBoundingBoxDescent:L,width:_}=p.measureText(e),O=1.5,M=Math.ceil(Math.max(Math.abs(S)+Math.abs(v)||0,_)*O),R=Math.ceil(Math.max(Math.abs(w)+Math.abs(A)||g,Math.abs(x)+Math.abs(L)||g)*O);f=new OffscreenCanvas(M,R),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,R),p.fillStyle="black",p.fillText(e,M*(O-1)/2,R*(3-O)/2);const P=this.#h(p.getImageData(0,0,M,R).data),B=this.#l(P),U=this.#u(B),C=this.#r(P,M,R,U);return this.processDrawnLines({lines:{curves:C,width:M,height:R},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,s,o){const[l,u,d]=this.#f(e),[f,p]=this.#d(l,u,d,Math.hypot(u,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),g=this.#u(p),y=this.#r(f,u,d,g);return this.processDrawnLines({lines:{curves:y,width:u,height:d},pageWidth:t,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:l,areContours:u}){s%180!==0&&([t,n]=[n,t]);const{curves:d,width:f,height:p}=e,g=e.thickness??0,y=[],S=Math.min(t/f,n/p),v=S/t,w=S/n,A=[];for(const{points:L}of d){const _=l?this.#a(L):L;if(!_)continue;A.push(_);const O=_.length,M=new Float32Array(O),R=new Float32Array(3*(O===2?2:O-2));if(y.push({line:R,points:M}),O===2){M[0]=_[0]*v,M[1]=_[1]*w,R.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[P,B,U,C]=_;P*=v,B*=w,U*=v,C*=w,M.set([P,B,U,C],0),R.set([NaN,NaN,NaN,NaN,P,B],0);for(let V=4;V<O;V+=2){const ae=M[V]=_[V]*v,ie=M[V+1]=_[V+1]*w;R.set(ge.createBezierPoints(P,B,U,C,ae,ie),(V-2)*3),[P,B,U,C]=[U,C,ae,ie]}}if(y.length===0)return null;const x=u?new Rm:new Qc;return x.build(y,t,n,1,s,u?0:g,o),{outline:x,newCurves:A,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:s,height:o}){let l=1/0,u=-1/0,d=0;for(const _ of e){d+=_.length;for(let O=2,M=_.length;O<M;O++){const R=_[O]-_[O-2];l=Math.min(l,R),u=Math.max(u,R)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=e.length,g=Td+Kl*p,y=new Uint32Array(g);let S=0;y[S++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[S++]=0,y[S++]=s,y[S++]=o,y[S++]=t?0:1,y[S++]=Math.max(0,Math.floor(n??0)),y[S++]=p,y[S++]=f.BYTES_PER_ELEMENT;for(const _ of e)y[S++]=_.length-2,y[S++]=_[0],y[S++]=_[1];const v=new CompressionStream("deflate-raw"),w=v.writable.getWriter();await w.ready,w.write(y);const A=f.prototype.constructor;for(const _ of e){const O=new A(_.length-2);for(let M=2,R=_.length;M<R;M++)O[M-2]=_[M]-_[M-2];w.write(O)}w.close();const x=await new Response(v.readable).arrayBuffer(),L=new Uint8Array(x);return oE(L)}static async decompressSignature(e){try{const t=XP(e),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),o=s.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const _ of n)l||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),l.set(_,u),u+=_.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],y=d[4]===0,S=d[5],v=d[6],w=d[7],A=[],x=(Td+Kl*v)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(w){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(l.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(l.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(l.buffer,x);break}u=0;for(let _=0;_<v;_++){const O=d[Kl*_+Td],M=new Float32Array(O+2);A.push(M);for(let R=0;R<Kl-1;R++)M[R]=d[Kl*_+Td+R+1];for(let R=0;R<O;R++)M[R+2]=M[R]+L[u++]}return{areContours:y,thickness:S,outlines:A,width:p,height:g}}catch(t){return Ie(`decompressSignature: ${t}`),null}}}class Ny extends BE{constructor(){super(),super.updateProperties({fill:Ee._defaultLineColor,"stroke-width":0})}clone(){const e=new Ny;return e.updateAll(this),e}}class ky extends Gh{constructor(e){super(e),super.updateProperties({stroke:Ee._defaultLineColor,"stroke-width":1})}clone(){const e=new ky(this._viewParameters);return e.updateAll(this),e}}class Zi extends Me{#e=!1;#t=null;#n=null;#i=null;static _type="signature";static _editorType=je.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Ee.initialize(e,t),this._defaultDrawingOptions=new Ny,this._defaultDrawnSignatureOptions=new ky(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Xe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:s,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:g},rotation:y}=this.parent.viewport,S=Js.processDrawnLines({lines:s,pageWidth:p,pageHeight:g,rotation:y,innerMargin:Zi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(S,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#i=e,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:s,height:o}=this.#n,l=Math.max(s,o),u=Js.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:n,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,s){const{x:o,y:l}=this,{outline:u}=this.#n=e;this.#e=u instanceof Rm,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let d;this.#e?d=Zi.getDefaultDrawingOptions():(d=Zi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[f,p]=this.parentDimensions,[,g]=this.pageDimensions;let y=t/g;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(f*this.width,p*this.height),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:s}=this.parent.viewport;return Js.process(e,t,n,s,Zi._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:o}=this.parent.viewport;return Js.extractContoursFromText(e,t,n,s,o,Zi._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:s}=this.parent.viewport;return Js.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:s,innerMargin:Zi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Zi.getDefaultDrawingOptions():(this._drawingOptions=Zi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n,rect:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,l={annotationType:je.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.paths={lines:t,points:n},l.uuid=this.#i,l.isCopy=!0):l.lines=t,this.#t&&(l.accessibilityData={type:"Figure",alt:this.#t}),l}static deserializeDraw(e,t,n,s,o,l){return l.areContours?Rm.deserialize(e,t,n,s,o,l):Qc.deserialize(e,t,n,s,o,l)}static async deserialize(e,t,n){const s=await super.deserialize(e,t,n);return s.#e=e.areContours,s.#t=e.accessibilityData?.alt||"",s.#i=e.uuid,s}}class vI extends Ee{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#o=null;#a=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=je.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#i=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Ee.initialize(e,t)}static isHandlingMimeForPasting(e){return rh.includes(e)}static paste(e,t){t.pasteEditor({mode:je.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#r=e.file.name),this.#g()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=e||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#u(s)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(s=>this.#u(s)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=rh.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(s)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#e?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,s&&(this.#e=s),this.#a=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[s,o]=this.pageDimensions,l=.75;if(this.width)t=this.width*s,n=this.height*o;else if(t>l*s||n>l*o){const p=Math.min(l*s/t,l*o/n);t*=p,n*=p}const[u,d]=this.parentDimensions;this.setDims(t*u/s,n*d/o),this._uiManager.enableWaiting(!1);const f=this.#o=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=t/s,this.height=n/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:s,height:o}=this.#e,l=new ki;let u=this.#e,d=s,f=o,p=null;if(t){if(s>t||o>t){const R=Math.min(t/s,t/o);d=Math.floor(s*R),f=Math.floor(o*R)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*l.sx),S=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#c(y,S));const v=p.getContext("2d");v.filter=this._uiManager.hcmFilter;let w="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",A="#42414d");const x=15,L=x*l.sx,_=x*l.sy,O=new OffscreenCanvas(L*2,_*2),M=O.getContext("2d");M.fillStyle=w,M.fillRect(0,0,L*2,_*2),M.fillStyle=A,M.fillRect(0,0,L,_),M.fillRect(L,_,L,_),v.fillStyle=v.createPattern(O,"repeat"),v.fillRect(0,0,y,S),v.drawImage(u,0,0,u.width,u.height,0,0,y,S)}let g=null;if(n){let y,S;if(l.symmetric&&u.width<e&&u.height<e)y=u.width,S=u.height;else if(u=this.#e,s>e||o>e){const A=Math.min(e/s,e/o);y=Math.floor(s*A),S=Math.floor(o*A),this.#l||(u=this.#c(y,S))}const w=new OffscreenCanvas(y,S).getContext("2d",{willReadFrequently:!0});w.drawImage(u,0,0,u.width,u.height,0,0,y,S),g={width:y,height:S,data:w.getImageData(0,0,y,S).data}}return{canvas:p,width:d,height:f,imageData:g}}#c(e,t){const{width:n,height:s}=this.#e;let o=n,l=s,u=this.#e;for(;o>2*e||l>2*t;){const d=o,f=l;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#m(){const[e,t]=this.parentDimensions,{width:n,height:s}=this,o=new ki,l=Math.ceil(n*e*o.sx),u=Math.ceil(s*t*o.sy),d=this.#o;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#e:this.#c(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(e){if(e){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#t);if(s)return s}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,s=Math.round(this.width*t*pa.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*pa.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let s=null,o=!1;if(e instanceof jE){const{data:{rect:w,rotation:A,id:x,structParent:L,popupRef:_},container:O,parent:{page:{pageNumber:M}},canvas:R}=e;let P,B;R?(delete e.canvas,{id:P,bitmap:B}=n.imageManager.getFromCanvas(O.id,R),R.remove()):(o=!0,e._hasNoCanvas=!0);const U=(await t._structTree.getAriaAttributes(`${yy}${x}`))?.get("aria-label")||"";s=e={annotationType:je.STAMP,bitmapId:P,bitmap:B,pageIndex:M-1,rect:w.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:L,popupRef:_}}const l=await super.deserialize(e,t,n),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:y}=e;o?(n.addMissingCanvas(e.id,l),l.#a=!0):p&&n.imageManager.isValidId(p)?(l.#t=p,d&&(l.#e=d)):l.#i=f,l.#l=g;const[S,v]=l.pageDimensions;return l.width=(u[2]-u[0])/S,l.height=(u[3]-u[1])/v,y&&(l.altTextData=y),l._initialData=s,l.#h=!!s,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:je.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(n);if(u.isSame)return null;u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,t===null)return n;t.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=t.stamps.get(this.#t);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#b(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,s=e.pageIndex===t,o=(e.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class er{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#o=!1;#a=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#g=-1;#c;static _initialized=!1;static#m=new Map([Jt,Ly,vI,Ut,Zi].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const g=[...er.#m.values()];if(!er._initialized){er._initialized=!0;for(const y of g)y.initialize(p,e)}e.registerEditorTypes(g),this.#c=e,this.pageIndex=t,this.div=n,this.#e=o,this.#n=l,this.viewport=f,this.#u=d,this.drawLayer=u,this._structTree=s,this.#c.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===je.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#x(),e){case je.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case je.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case je.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of er.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const e=new Set;for(const n of this.#r.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#n){this.#d=!1;return}const t=this.#n.getEditableAnnotations();for(const n of t){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#d=!1}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const s=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",o=>{const{clientX:u,clientY:d,timeStamp:f}=o,p=this.#g;if(f-p>500){this.#g=f;return}this.#g=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const y=document.elementsFromPoint(u,d);if(g.toggle("getElements",!1),!this.div.contains(y[0]))return;let S;const v=new RegExp(`^${nE}[0-9]+$`);for(const A of y)if(v.test(A.id)){S=A.id;break}if(!S)return;const w=this.#r.get(S);w?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),w.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of this.#r.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const o of s){const{id:l}=o.data;if(this.#c.isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=e.get(l),u&&(this.#c.addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of er.#m.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#c.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:n}=ln.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ut.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const e=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#c.isDeletedAnnotationElement(t)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),Ee.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return this.#c.getId()}get#b(){return er.#m.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#S(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:n,offsetY:s}=this.#w(),o=this.getNextId(),l=this.#S({parent:this,id:o,x:n,y:s,uiManager:this.#c,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await er.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=this.#S({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:t,...n});return o&&this.add(o),o}#w(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+s),f=(o+u)/2-e,p=(l+d)/2-t,[g,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:y}}addNewEditor(e={}){this.createAndAddNewEditor(this.#w(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#o||(this.#o=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#c.getMode();if(n===je.STAMP||n===je.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===je.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#o=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#c.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const s=this.#c.findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#c.removeLayer(this)}#x(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,vs(this.div,e);for(const t of this.#c.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#x();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,vs(this.div,{rotation:n}),t!==n)for(const s of this.#r.values())s.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#c.viewParameters.realScale}}class on{#e=null;#t=new Map;#n=new Map;static#i=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Xe(this,"_svgFactory",new Cc)}static#s(e,[t,n,s,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*o}%`}#r(){const e=on._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#o(e,t){const n=on._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=on._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s}#a(e,t){for(const[n,s]of Object.entries(t))s===null?e.removeAttribute(n):e.setAttribute(n,s)}draw(e,t=!1,n=!1){const s=on.#i++,o=this.#r(),l=on._svgFactory.createElement("defs");o.append(l);const u=on._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(s,u);const f=n?this.#o(l,d):null,p=on._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,e),this.#t.set(s,o),{id:s,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=on.#i++,s=this.#r(),o=on._svgFactory.createElement("defs");s.append(o);const l=on._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const g=on._svgFactory.createElement("mask");o.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const y=on._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const S=on._svgFactory.createElement("use");g.append(S),S.setAttribute("href",`#${u}`),S.setAttribute("stroke","none"),S.setAttribute("fill","black"),S.setAttribute("fill-rule","nonzero"),S.classList.add("mask")}const f=on._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,e),this.#t.set(n,s),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:s,rootClass:o,path:l}=t,u=typeof e=="number"?this.#t.get(e):e;if(u){if(n&&this.#a(u,n),s&&on.#s(u,s),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#a(f,l)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Cm};globalThis.pdfjsLib={AbortException:kr,AnnotationEditorLayer:er,AnnotationEditorParamsType:We,AnnotationEditorType:je,AnnotationEditorUIManager:Pr,AnnotationLayer:Dy,AnnotationMode:ir,AnnotationType:zt,build:OE,ColorPicker:Qn,createValidAbsoluteUrl:py,DOMSVGFactory:Cc,DrawLayer:on,FeatureTest:ln,fetchData:Fo,getDocument:Cy,getFilenameFromUrl:lE,getPdfFilenameFromUrl:cE,getUuid:my,getXfaPageViewport:uE,GlobalWorkerOptions:gs,ImageKind:cc,InvalidPDFException:ih,isDataScheme:Yc,isPdfFile:$h,isValidExplicitDest:pE,MathClamp:xn,noContextMenu:Ai,normalizeUnicode:aE,OPS:xc,OutputScale:ki,PasswordResponses:rE,PDFDataRangeTransport:Ry,PDFDateString:by,PDFWorker:Oo,PermissionFlag:iE,PixelsPerInch:pa,RenderingCancelledException:Hh,ResponseException:Ac,setLayerDimensions:vs,shadow:Xe,SignatureExtractor:Js,stopEvent:Ht,SupportedImageMimeTypes:rh,TextLayer:Ec,TouchManager:Kc,updateUrlHash:gy,Util:xe,VerbosityLevel:Vc,version:ME,XfaLayer:My};const SI=Object.freeze(Object.defineProperty({__proto__:null,AbortException:kr,AnnotationEditorLayer:er,AnnotationEditorParamsType:We,AnnotationEditorType:je,AnnotationEditorUIManager:Pr,AnnotationLayer:Dy,AnnotationMode:ir,AnnotationType:zt,ColorPicker:Qn,DOMSVGFactory:Cc,DrawLayer:on,FeatureTest:ln,GlobalWorkerOptions:gs,ImageKind:cc,InvalidPDFException:ih,MathClamp:xn,OPS:xc,OutputScale:ki,PDFDataRangeTransport:Ry,PDFDateString:by,PDFWorker:Oo,PasswordResponses:rE,PermissionFlag:iE,PixelsPerInch:pa,RenderingCancelledException:Hh,ResponseException:Ac,SignatureExtractor:Js,SupportedImageMimeTypes:rh,TextLayer:Ec,TouchManager:Kc,Util:xe,VerbosityLevel:Vc,XfaLayer:My,build:OE,createValidAbsoluteUrl:py,fetchData:Fo,getDocument:Cy,getFilenameFromUrl:lE,getPdfFilenameFromUrl:cE,getUuid:my,getXfaPageViewport:uE,isDataScheme:Yc,isPdfFile:$h,isValidExplicitDest:pE,noContextMenu:Ai,normalizeUnicode:aE,setLayerDimensions:vs,shadow:Xe,stopEvent:Ht,updateUrlHash:gy,version:ME},Symbol.toStringTag,{value:"Module"}));var Rx=Object.prototype.hasOwnProperty;function Mx(i,e,t){for(t of i.keys())if(Ao(t,e))return t}function Ao(i,e){var t,n,s;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&Ao(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=Mx(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=Mx(e,s),!s)||!Ao(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(Rx.call(i,t)&&++n&&!Rx.call(e,t)||!(t in e)||!Ao(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}function Zc(i){let e=!1;return{promise:new Promise((n,s)=>{i.then(o=>!e&&n(o)).catch(o=>!e&&s(o))}),cancel(){e=!0}}}const wI=["onCopy","onCut","onPaste"],xI=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],AI=["onFocus","onBlur"],EI=["onInput","onInvalid","onReset","onSubmit"],_I=["onLoad","onError"],CI=["onKeyDown","onKeyPress","onKeyUp"],TI=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],RI=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],MI=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],OI=["onSelect"],DI=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],LI=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],NI=["onScroll"],kI=["onWheel"],PI=["onAnimationStart","onAnimationEnd","onAnimationIteration"],jI=["onTransitionEnd"],II=["onToggle"],FI=["onChange"],BI=[...wI,...xI,...AI,...EI,..._I,...CI,...TI,...RI,...MI,...OI,...DI,...LI,...NI,...kI,...PI,...jI,...FI,...II];function zE(i,e){const t={};for(const n of BI){const s=i[n];s&&(e?t[n]=o=>s(o,e(n)):t[n]=s)}return t}var zI="Invariant failed";function yt(i,e){if(!i)throw new Error(zI)}var Ig,Ox;function UI(){if(Ox)return Ig;Ox=1;var i=function(){};return Ig=i,Ig}var HI=UI();const En=ch(HI),UE=N.createContext(null),$I="noopener noreferrer nofollow";class VI{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return yt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){yt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{yt(this.pdfDocument),yt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{yt(Array.isArray(t));const n=t[0];new Promise(s=>{yt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{yt(!1)}):typeof n=="number"?s(n):yt(!1)}).then(s=>{const o=s+1;yt(this.pdfViewer),yt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;yt(this.pdfViewer),yt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||$I,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Eo({children:i,type:e}){return T.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const Dx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function GI(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Do(){return N.useReducer(GI,{value:void 0,error:void 0})}const qh=typeof window<"u",HE=qh&&window.location.protocol==="file:";function qI(i){return typeof i<"u"}function Ys(i){return qI(i)&&i!==null}function YI(i){return typeof i=="string"}function XI(i){return i instanceof ArrayBuffer}function KI(i){return yt(qh),i instanceof Blob}function Mm(i){return YI(i)&&/^data:/.test(i)}function Lx(i){yt(Mm(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function WI(){return qh&&window.devicePixelRatio||1}const $E="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Nx(){En(!HE,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${$E}`)}function QI(){En(!HE,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${$E}`)}function ma(i){i?.cancel&&i.cancel()}function Om(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function ZI(i){return i.name==="RenderingCancelledException"}function JI(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:e3}=SI,t3=(i,e)=>{switch(e){case Dx.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case Dx.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function kx(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const n3=N.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:y,onLoadProgress:S,onLoadSuccess:v,onPassword:w=t3,onSourceError:A,onSourceSuccess:x,options:L,renderMode:_,rotate:O,scale:M,...R},P){const[B,U]=Do(),{value:C,error:V}=B,[ae,ie]=Do(),{value:Z,error:ue}=ae,k=N.useRef(new VI),H=N.useRef([]),le=N.useRef(void 0),pe=N.useRef(void 0);l&&l!==le.current&&kx(l)&&(En(!Ao(l,le.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),le.current=l),L&&L!==pe.current&&(En(!Ao(L,pe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),pe.current=L);const j=N.useRef({scrollPageIntoView:Fe=>{const{dest:Ke,pageNumber:Tt,pageIndex:Dt=Tt-1}=Fe;if(g){g({dest:Ke,pageIndex:Dt,pageNumber:Tt});return}const Gt=H.current[Dt];if(Gt){Gt.scrollIntoView();return}En(!1,`An internal link leading to page ${Tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(P,()=>({linkService:k,pages:H,viewer:j}),[]);function X(){x&&x()}function ee(){V&&(En(!1,V.toString()),A&&A(V))}function te(){U({type:"RESET"})}N.useEffect(te,[l,U]);const de=N.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Mm(l)?{data:Lx(l)}:(Nx(),{url:l});if(l instanceof e3)return{range:l};if(XI(l))return{data:l};if(qh&&KI(l))return{data:await JI(l)};if(yt(typeof l=="object"),yt(kx(l)),"url"in l&&typeof l.url=="string"){if(Mm(l.url)){const{url:Fe,...Ke}=l;return{data:Lx(Fe),...Ke}}Nx()}return l},[l]);N.useEffect(()=>{const Fe=Zc(de());return Fe.promise.then(Ke=>{U({type:"RESOLVE",value:Ke})}).catch(Ke=>{U({type:"REJECT",error:Ke})}),()=>{ma(Fe)}},[de,U]),N.useEffect(()=>{if(!(typeof C>"u")){if(C===!1){ee();return}X()}},[C]);function Se(){Z&&(v&&v(Z),H.current=new Array(Z.numPages),k.current.setDocument(Z))}function fe(){ue&&(En(!1,ue.toString()),y&&y(ue))}N.useEffect(function(){ie({type:"RESET"})},[ie,C]),N.useEffect(function(){if(!C)return;const Ke=L?{...C,...L}:C,Tt=Cy(Ke);S&&(Tt.onProgress=S),w&&(Tt.onPassword=w);const Dt=Tt,Gt=Dt.promise.then(cr=>{ie({type:"RESOLVE",value:cr})}).catch(cr=>{Dt.destroyed||ie({type:"REJECT",error:cr})});return()=>{Gt.finally(()=>Dt.destroy())}},[L,ie,C]),N.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){fe();return}Se()}},[Z]),N.useEffect(function(){k.current.setViewer(j.current),k.current.setExternalLinkRel(s),k.current.setExternalLinkTarget(o)},[s,o]);const Oe=N.useCallback((Fe,Ke)=>{H.current[Fe]=Ke},[]),ze=N.useCallback(Fe=>{delete H.current[Fe]},[]),bt=N.useMemo(()=>({imageResourcesPath:d,linkService:k.current,onItemClick:g,pdf:Z,registerPage:Oe,renderMode:_,rotate:O,scale:M,unregisterPage:ze}),[d,g,Z,Oe,_,O,M,ze]),_e=N.useMemo(()=>zE(R,()=>Z),[R,Z]);function ft(){function Fe(Tt){return!!Tt?.pdf}if(!Fe(bt))throw new Error("pdf is undefined");const Ke=typeof e=="function"?e(bt):e;return T.jsx(UE.Provider,{value:bt,children:Ke})}function tn(){return l?Z==null?T.jsx(Eo,{type:"loading",children:typeof f=="function"?f():f}):Z===!1?T.jsx(Eo,{type:"error",children:typeof n=="function"?n():n}):ft():T.jsx(Eo,{type:"no-data",children:typeof p=="function"?p():p})}return T.jsx("div",{className:ai("react-pdf__Document",t),ref:u,..._e,children:tn()})});function VE(){return N.useContext(UE)}function GE(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,u=t;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const qE=N.createContext(null);function Yh(){return N.useContext(qE)}function i3(){const i=VE(),e=Yh();yt(e);const t={...i,...e},{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:y,scale:S=1}=t;yt(p),yt(f),yt(s);const[v,w]=Do(),{value:A,error:x}=v,L=N.useRef(null);En(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){A&&l&&l(A)}function O(){x&&(En(!1,x.toString()),o&&o(x))}N.useEffect(function(){w({type:"RESET"})},[w,f]),N.useEffect(function(){if(!f)return;const U=Zc(f.getAnnotations()),C=U;return U.promise.then(V=>{w({type:"RESOLVE",value:V})}).catch(V=>{w({type:"REJECT",error:V})}),()=>{ma(C)}},[w,f]),N.useEffect(()=>{if(A!==void 0){if(A===!1){O();return}_()}},[A]);function M(){d&&d()}function R(B){En(!1,`${B}`),u&&u(B)}const P=N.useMemo(()=>f.getViewport({scale:S,rotation:y}),[f,y,S]);return N.useEffect(function(){if(!p||!f||!s||!A)return;const{current:U}=L;if(!U)return;const C=P.clone({dontFlip:!0}),V={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:U,l10n:null,page:f,structTreeLayer:null,viewport:C},ae={annotations:A,annotationStorage:p.annotationStorage,div:U,imageResourcesPath:n,linkService:s,page:f,renderForms:g,viewport:C};U.innerHTML="";try{new Dy(V).render(ae),M()}catch(ie){R(ie)}return()=>{}},[A,n,s,f,p,g,P]),T.jsx("div",{className:ai("react-pdf__Page__annotations","annotationLayer"),ref:L})}const YE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r3=/^H(\d+)$/;function s3(i){return i in YE}function Xh(i){return"children"in i}function XE(i){return Xh(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function a3(i){const e={};if(Xh(i)){const{role:t}=i,n=t.match(r3);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(s3(t)){const s=YE[t];s&&(e.role=s)}}return e}function KE(i){const e={};if(Xh(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),XE(i)){const[t]=i.children;if(t){const n=KE(t);return{...e,...n}}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function o3(i){return i?{...a3(i),...KE(i)}:null}function WE({className:i,node:e}){const t=N.useMemo(()=>o3(e),[e]),n=N.useMemo(()=>!Xh(e)||XE(e)?null:e.children.map((s,o)=>T.jsx(WE,{node:s},o)),[e]);return T.jsx("span",{className:i,...t,children:n})}function l3(){const i=Yh();yt(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,s]=Do(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=i;function f(){o&&t&&t(o)}function p(){l&&(En(!1,l.toString()),e&&e(l))}return N.useEffect(function(){s({type:"RESET"})},[s,d]),N.useEffect(function(){if(u||!d)return;const y=Zc(d.getStructTree()),S=y;return y.promise.then(v=>{s({type:"RESOLVE",value:v})}).catch(v=>{s({type:"REJECT",error:v})}),()=>ma(S)},[u,d,s]),N.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?T.jsx(WE,{className:"react-pdf__Page__structTree structTree",node:o}):null}const Px=ir;function c3(i){const e=Yh();yt(e);const t={...e,...i},{_className:n,canvasBackground:s,devicePixelRatio:o=WI(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:g,scale:y}=t,{canvasRef:S}=i;yt(d);const v=N.useRef(null);function w(){d&&u&&u(Om(d,y))}function A(O){ZI(O)||(En(!1,O.toString()),l&&l(O))}const x=N.useMemo(()=>d.getViewport({scale:y*o,rotation:g}),[o,d,g,y]),L=N.useMemo(()=>d.getViewport({scale:y,rotation:g}),[d,g,y]);N.useEffect(function(){if(!d)return;d.cleanup();const{current:M}=v;if(!M)return;M.width=x.width,M.height=x.height,M.style.width=`${Math.floor(L.width)}px`,M.style.height=`${Math.floor(L.height)}px`,M.style.visibility="hidden";const R={annotationMode:f?Px.ENABLE_FORMS:Px.ENABLE,canvasContext:M.getContext("2d",{alpha:!1}),viewport:x};s&&(R.background=s);const P=d.render(R),B=P;return P.promise.then(()=>{M.style.visibility="",w()}).catch(A),()=>ma(B)},[s,d,f,x,L]);const _=N.useCallback(()=>{const{current:O}=v;O&&(O.width=0,O.height=0)},[]);return N.useEffect(()=>_,[_]),T.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:GE(S,v),style:{display:"block",userSelect:"none"},children:p?T.jsx(l3,{}):null})}function u3(i){return"str"in i}function d3(){const i=Yh();yt(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=i;yt(l);const[g,y]=Do(),{value:S,error:v}=g,w=N.useRef(null);En(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){S&&n&&n(S)}function x(){v&&(En(!1,v.toString()),t&&t(v))}N.useEffect(function(){y({type:"RESET"})},[l,y]),N.useEffect(function(){if(!l)return;const B=Zc(l.getTextContent()),U=B;return B.promise.then(C=>{y({type:"RESOLVE",value:C})}).catch(C=>{y({type:"REJECT",error:C})}),()=>ma(U)},[l,y]),N.useEffect(()=>{if(S!==void 0){if(S===!1){x();return}A()}},[S]);const L=N.useCallback(()=>{o&&o()},[o]),_=N.useCallback(P=>{En(!1,P.toString()),s&&s(P)},[s]);function O(){const P=w.current;P&&P.classList.add("selecting")}function M(){const P=w.current;P&&P.classList.remove("selecting")}const R=N.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return N.useLayoutEffect(function(){if(!l||!S)return;const{current:B}=w;if(!B)return;B.innerHTML="";const U=l.streamTextContent({includeMarkedContent:!0}),C={container:B,textContentSource:U,viewport:R},V=new Ec(C),ae=V;return V.render().then(()=>{const ie=document.createElement("div");ie.className="endOfContent",B.append(ie);const Z=B.querySelectorAll('[role="presentation"]');if(e){let ue=0;S.items.forEach((k,H)=>{if(!u3(k))return;const le=Z[ue];if(!le)return;const pe=e({pageIndex:u,pageNumber:d,itemIndex:H,...k});le.innerHTML=pe,ue+=k.str&&k.hasEOL?2:1})}L()}).catch(_),()=>ma(ae)},[e,_,L,l,u,d,S,R]),T.jsx("div",{className:ai("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:O,ref:w})}const jx=1;function h3(i){const t={...VE(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:y="Failed to load the page.",height:S,inputRef:v,loading:w="Loading page",noData:A="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:L,onGetStructTreeError:_,onGetStructTreeSuccess:O,onGetTextError:M,onGetTextSuccess:R,onLoadError:P,onLoadSuccess:B,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:C,onRenderError:V,onRenderSuccess:ae,onRenderTextLayerError:ie,onRenderTextLayerSuccess:Z,pageIndex:ue,pageNumber:k,pdf:H,registerPage:le,renderAnnotationLayer:pe=!0,renderForms:j=!1,renderMode:X="canvas",renderTextLayer:ee=!0,rotate:te,scale:de=jx,unregisterPage:Se,width:fe,...Oe}=t,[ze,bt]=Do(),{value:_e,error:ft}=ze,tn=N.useRef(null);yt(H);const Fe=Ys(k)?k-1:ue??null,Ke=k??(Ys(ue)?ue+1:null),Tt=te??(_e?_e.rotate:null),Dt=N.useMemo(()=>{if(!_e)return null;let et=1;const nn=de??jx;if(fe||S){const vt=_e.getViewport({scale:1,rotation:Tt});fe?et=fe/vt.width:S&&(et=S/vt.height)}return nn*et},[S,_e,Tt,de,fe]);N.useEffect(function(){return()=>{Ys(Fe)&&s&&Se&&Se(Fe)}},[s,H,Fe,Se]);function Gt(){if(B){if(!_e||!Dt)return;B(Om(_e,Dt))}if(s&&le){if(!Ys(Fe)||!tn.current)return;le(Fe,tn.current)}}function cr(){ft&&(En(!1,ft.toString()),P&&P(ft))}N.useEffect(function(){bt({type:"RESET"})},[bt,H,Fe]),N.useEffect(function(){if(!H||!Ke)return;const nn=Zc(H.getPage(Ke)),vt=nn;return nn.promise.then(As=>{bt({type:"RESOLVE",value:As})}).catch(As=>{bt({type:"REJECT",error:As})}),()=>ma(vt)},[bt,H,Ke]),N.useEffect(()=>{if(_e!==void 0){if(_e===!1){cr();return}Gt()}},[_e,Dt]);const Br=N.useMemo(()=>Ys(Fe)&&Ke&&Ys(Tt)&&Ys(Dt)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:x,onGetAnnotationsSuccess:L,onGetStructTreeError:_,onGetStructTreeSuccess:O,onGetTextError:M,onGetTextSuccess:R,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:C,onRenderError:V,onRenderSuccess:ae,onRenderTextLayerError:ie,onRenderTextLayerSuccess:Z,page:_e,pageIndex:Fe,pageNumber:Ke,renderForms:j,renderTextLayer:ee,rotate:Tt,scale:Dt}:null,[n,o,p,g,x,L,_,O,M,R,U,C,V,ae,ie,Z,_e,Fe,Ke,j,ee,Tt,Dt]),Sa=N.useMemo(()=>zE(Oe,()=>_e&&(Dt?Om(_e,Dt):void 0)),[Oe,_e,Dt]),_i=`${Fe}@${Dt}/${Tt}`;function Ci(){switch(X){case"custom":return yt(f),T.jsx(f,{},`${_i}_custom`);case"none":return null;case"canvas":default:return T.jsx(c3,{canvasRef:l},`${_i}_canvas`)}}function Fi(){return ee?T.jsx(d3,{},`${_i}_text`):null}function wa(){return pe?T.jsx(i3,{},`${_i}_annotations`):null}function xs(){function et(vt){return!!vt?.page}if(!et(Br))throw new Error("page is undefined");const nn=typeof u=="function"?u(Br):u;return T.jsxs(qE.Provider,{value:Br,children:[Ci(),Fi(),wa(),nn]})}function mn(){return Ke?H===null||_e===void 0||_e===null?T.jsx(Eo,{type:"loading",children:typeof w=="function"?w():w}):H===!1||_e===!1?T.jsx(Eo,{type:"error",children:typeof y=="function"?y():y}):xs():T.jsx(Eo,{type:"no-data",children:typeof A=="function"?A():A})}return T.jsx("div",{className:ai(n,d),"data-page-number":Ke,ref:GE(v,tn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Dt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Sa,children:mn()})}QI();gs.workerSrc="pdf.worker.mjs";function f3(i=window){const e=i.document.documentElement.clientWidth;return i.innerWidth-e}function p3(i){const e=ha(i);return e.body===i?th(i).innerWidth>e.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function dc(i,e){e?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function Ix(i){return parseInt(th(i).getComputedStyle(i).paddingRight,10)||0}function g3(i){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),n=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return t||n}function Fx(i,e,t,n,s){const o=[e,t,...n];[].forEach.call(i.children,l=>{const u=!o.includes(l),d=!g3(l);u&&d&&dc(l,s)})}function Fg(i,e){let t=-1;return i.some((n,s)=>e(n)?(t=s,!0):!1),t}function m3(i,e){const t=[],n=i.container;if(!e.disableScrollLock){if(p3(n)){const l=f3(th(n));t.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${Ix(n)+l}px`;const u=ha(n).querySelectorAll(".mui-fixed");[].forEach.call(u,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Ix(d)+l}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=ha(n).body;else{const l=n.parentElement,u=th(n);o=l?.nodeName==="HTML"&&u.getComputedStyle(l).overflowY==="scroll"?l:n}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:l,property:u})=>{o?l.style.setProperty(u,o):l.style.removeProperty(u)})}}function y3(i){const e=[];return[].forEach.call(i.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class b3{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&dc(e.modalRef,!1);const s=y3(t);Fx(t,e.mount,e.modalRef,s,!0);const o=Fg(this.containers,l=>l.container===t);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:s}),n)}mount(e,t){const n=Fg(this.containers,o=>o.modals.includes(e)),s=this.containers[n];s.restore||(s.restore=m3(s,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const s=Fg(this.containers,l=>l.modals.includes(e)),o=this.containers[s];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&dc(e.modalRef,t),Fx(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(s,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&dc(l.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Py(i){return parseInt(N.version,10)>=19?i?.props?.ref||null:i?.ref||null}const v3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function S3(i){const e=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(e)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:e}function w3(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const e=n=>i.ownerDocument.querySelector(`input[type="radio"]${n}`);let t=e(`[name="${i.name}"]:checked`);return t||(t=e(`[name="${i.name}"]`)),t!==i}function x3(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||w3(i))}function A3(i){const e=[],t=[];return Array.from(i.querySelectorAll(v3)).forEach((n,s)=>{const o=S3(n);o===-1||!x3(n)||(o===0?e.push(n):t.push({documentOrder:s,tabIndex:o,node:n}))}),t.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(e)}function E3(){return!0}function _3(i){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:o=A3,isEnabled:l=E3,open:u}=i,d=N.useRef(!1),f=N.useRef(null),p=N.useRef(null),g=N.useRef(null),y=N.useRef(null),S=N.useRef(!1),v=N.useRef(null),w=Fc(Py(e),v),A=N.useRef(null);N.useEffect(()=>{!u||!v.current||(S.current=!t)},[t,u]),N.useEffect(()=>{if(!u||!v.current)return;const _=ha(v.current);return v.current.contains(_.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),S.current&&v.current.focus()),()=>{s||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[u]),N.useEffect(()=>{if(!u||!v.current)return;const _=ha(v.current),O=P=>{A.current=P,!(n||!l()||P.key!=="Tab")&&_.activeElement===v.current&&P.shiftKey&&(d.current=!0,p.current&&p.current.focus())},M=()=>{const P=v.current;if(P===null)return;if(!_.hasFocus()||!l()||d.current){d.current=!1;return}if(P.contains(_.activeElement)||n&&_.activeElement!==f.current&&_.activeElement!==p.current)return;if(_.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!S.current)return;let B=[];if((_.activeElement===f.current||_.activeElement===p.current)&&(B=o(v.current)),B.length>0){const U=!!(A.current?.shiftKey&&A.current?.key==="Tab"),C=B[0],V=B[B.length-1];typeof C!="string"&&typeof V!="string"&&(U?V.focus():C.focus())}else P.focus()};_.addEventListener("focusin",M),_.addEventListener("keydown",O,!0);const R=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(R),_.removeEventListener("focusin",M),_.removeEventListener("keydown",O,!0)}},[t,n,s,l,u,o]);const x=_=>{g.current===null&&(g.current=_.relatedTarget),S.current=!0,y.current=_.target;const O=e.props.onFocus;O&&O(_)},L=_=>{g.current===null&&(g.current=_.relatedTarget),S.current=!0};return T.jsxs(N.Fragment,{children:[T.jsx("div",{tabIndex:u?0:-1,onFocus:L,ref:f,"data-testid":"sentinelStart"}),N.cloneElement(e,{ref:w,onFocus:x}),T.jsx("div",{tabIndex:u?0:-1,onFocus:L,ref:p,"data-testid":"sentinelEnd"})]})}function C3(i){return typeof i=="function"?i():i}const T3=N.forwardRef(function(e,t){const{children:n,container:s,disablePortal:o=!1}=e,[l,u]=N.useState(null),d=Fc(N.isValidElement(n)?Py(n):null,t);if(sm(()=>{o||u(C3(s)||document.body)},[s,o]),sm(()=>{if(l&&!o)return Pw(t,l),()=>{Pw(t,null)}},[t,l,o]),o){if(N.isValidElement(n)){const f={ref:d};return N.cloneElement(n,f)}return n}return l&&Gm.createPortal(n,l)});function R3(i){return typeof i=="string"}function M3(i,e,t){return i===void 0||R3(i)?e:{...e,ownerState:{...e.ownerState,...t}}}function O3(i,e,t){return typeof i=="function"?i(e,t):i}function QE(i,e=[]){if(i===void 0)return{};const t={};return Object.keys(i).filter(n=>n.match(/^on[A-Z]/)&&typeof i[n]=="function"&&!e.includes(n)).forEach(n=>{t[n]=i[n]}),t}function Bx(i){if(i===void 0)return{};const e={};return Object.keys(i).filter(t=>!(t.match(/^on[A-Z]/)&&typeof i[t]=="function")).forEach(t=>{e[t]=i[t]}),e}function D3(i){const{getSlotProps:e,additionalProps:t,externalSlotProps:n,externalForwardedProps:s,className:o}=i;if(!e){const S=ai(t?.className,o,s?.className,n?.className),v={...t?.style,...s?.style,...n?.style},w={...t,...s,...n};return S.length>0&&(w.className=S),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const l=QE({...s,...n}),u=Bx(n),d=Bx(s),f=e(l),p=ai(f?.className,t?.className,o,s?.className,n?.className),g={...f?.style,...t?.style,...s?.style,...n?.style},y={...f,...t,...d,...u};return p.length>0&&(y.className=p),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:f.ref}}function Or(i,e){const{className:t,elementType:n,ownerState:s,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:u=!1,...d}=e,{component:f,slots:p={[i]:void 0},slotProps:g={[i]:void 0},...y}=o,S=p[i]||n,v=O3(g[i],s),{props:{component:w,...A},internalRef:x}=D3({className:t,...d,externalForwardedProps:i==="root"?y:void 0,externalSlotProps:v}),L=Fc(x,v?.ref,e.ref),_=i==="root"?w||f:w,O=M3(S,{...i==="root"&&!f&&!p[i]&&l,...i!=="root"&&!p[i]&&l,...A,..._&&!u&&{as:_},..._&&u&&{component:_},ref:L},s);return[S,O]}function L3(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}function Dm(i,e){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Dm(i,e)}function N3(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Dm(i,e)}const zx={disabled:!1},ZE=ea.createContext(null);var k3=function(e){return e.scrollTop},sc="unmounted",Ks="exited",Ws="entering",mo="entered",Lm="exiting",Fr=function(i){N3(e,i);function e(n,s){var o;o=i.call(this,n,s)||this;var l=s,u=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?u?(d=Ks,o.appearStatus=Ws):d=mo:n.unmountOnExit||n.mountOnEnter?d=sc:d=Ks,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var l=s.in;return l&&o.status===sc?{status:Ks}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var o=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Ws&&l!==mo&&(o=Ws):(l===Ws||l===mo)&&(o=Lm)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,o,l,u;return o=l=u=s,s!=null&&typeof s!="number"&&(o=s.exit,l=s.enter,u=s.appear!==void 0?s.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this);l&&k3(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ks&&this.setState({status:sc})},t.performEnter=function(s){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:s,d=this.props.nodeRef?[u]:[pd.findDOMNode(this),u],f=d[0],p=d[1],g=this.getTimeouts(),y=u?g.appear:g.enter;if(!s&&!l||zx.disabled){this.safeSetState({status:mo},function(){o.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:Ws},function(){o.props.onEntering(f,p),o.onTransitionEnd(y,function(){o.safeSetState({status:mo},function(){o.props.onEntered(f,p)})})})},t.performExit=function(){var s=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:pd.findDOMNode(this);if(!o||zx.disabled){this.safeSetState({status:Ks},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Lm},function(){s.props.onExiting(u),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Ks},function(){s.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},t.setNextCallback=function(s){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,s(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(s,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=d[0],p=d[1];this.props.addEndListener(f,p)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===sc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=L3(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ea.createElement(ZE.Provider,{value:null},typeof l=="function"?l(s,u):ea.cloneElement(ea.Children.only(l),u))},e}(ea.Component);Fr.contextType=ZE;Fr.propTypes={};function lo(){}Fr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lo,onEntering:lo,onEntered:lo,onExit:lo,onExiting:lo,onExited:lo};Fr.UNMOUNTED=sc;Fr.EXITED=Ks;Fr.ENTERING=Ws;Fr.ENTERED=mo;Fr.EXITING=Lm;const P3=i=>i.scrollTop;function Ux(i,e){const{timeout:t,easing:n,style:s={}}=i;return{duration:s.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:s.transitionDelay}}const j3={entering:{opacity:1},entered:{opacity:1}},Nm=N.forwardRef(function(e,t){const n=cy(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:u,easing:d,in:f,onEnter:p,onEntered:g,onEntering:y,onExit:S,onExited:v,onExiting:w,style:A,timeout:x=s,TransitionComponent:L=Fr,..._}=e,O=N.useRef(null),M=Fc(O,Py(u),t),R=Z=>ue=>{if(Z){const k=O.current;ue===void 0?Z(k):Z(k,ue)}},P=R(y),B=R((Z,ue)=>{P3(Z);const k=Ux({style:A,timeout:x,easing:d},{mode:"enter"});Z.style.webkitTransition=n.transitions.create("opacity",k),Z.style.transition=n.transitions.create("opacity",k),p&&p(Z,ue)}),U=R(g),C=R(w),V=R(Z=>{const ue=Ux({style:A,timeout:x,easing:d},{mode:"exit"});Z.style.webkitTransition=n.transitions.create("opacity",ue),Z.style.transition=n.transitions.create("opacity",ue),S&&S(Z)}),ae=R(v),ie=Z=>{o&&o(O.current,Z)};return T.jsx(L,{appear:l,in:f,nodeRef:O,onEnter:B,onEntered:U,onEntering:P,onExit:V,onExited:ae,onExiting:C,addEndListener:ie,timeout:x,..._,children:(Z,{ownerState:ue,...k})=>N.cloneElement(u,{style:{opacity:0,visibility:Z==="exited"&&!f?"hidden":void 0,...j3[Z],...A,...u.props.style},ref:M,...k})})});function I3(i){return Po("MuiBackdrop",i)}jc("MuiBackdrop",["root","invisible"]);const F3=i=>{const{classes:e,invisible:t}=i;return Lc({root:["root",t&&"invisible"]},I3,e)},B3=Ir("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),JE=N.forwardRef(function(e,t){const n=Ic({props:e,name:"MuiBackdrop"}),{children:s,className:o,component:l="div",invisible:u=!1,open:d,components:f={},componentsProps:p={},slotProps:g={},slots:y={},TransitionComponent:S,transitionDuration:v,...w}=n,A={...n,component:l,invisible:u},x=F3(A),L={transition:S,root:f.Root,...y},_={...p,...g},O={slots:L,slotProps:_},[M,R]=Or("root",{elementType:B3,externalForwardedProps:O,className:ai(x.root,o),ownerState:A}),[P,B]=Or("transition",{elementType:Nm,externalForwardedProps:O,ownerState:A});return T.jsx(P,{in:d,timeout:v,...w,...B,children:T.jsx(M,{"aria-hidden":!0,...R,classes:x,ref:t,children:s})})});function z3(i){return typeof i=="function"?i():i}function U3(i){return i?i.props.hasOwnProperty("in"):!1}const Hx=()=>{},Rd=new b3;function H3(i){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:l,children:u,onClose:d,open:f,rootRef:p}=i,g=N.useRef({}),y=N.useRef(null),S=N.useRef(null),v=Fc(S,p),[w,A]=N.useState(!f),x=U3(u);let L=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(L=!1);const _=()=>ha(y.current),O=()=>(g.current.modalRef=S.current,g.current.mount=y.current,g.current),M=()=>{Rd.mount(O(),{disableScrollLock:n}),S.current&&(S.current.scrollTop=0)},R=Fw(()=>{const ue=z3(e)||_().body;Rd.add(O(),ue),S.current&&M()}),P=()=>Rd.isTopModal(O()),B=Fw(ue=>{y.current=ue,ue&&(f&&P()?M():S.current&&dc(S.current,L))}),U=N.useCallback(()=>{Rd.remove(O(),L)},[L]);N.useEffect(()=>()=>{U()},[U]),N.useEffect(()=>{f?R():(!x||!s)&&U()},[f,U,x,s,R]);const C=ue=>k=>{ue.onKeyDown?.(k),!(k.key!=="Escape"||k.which===229||!P())&&(t||(k.stopPropagation(),d&&d(k,"escapeKeyDown")))},V=ue=>k=>{ue.onClick?.(k),k.target===k.currentTarget&&d&&d(k,"backdropClick")};return{getRootProps:(ue={})=>{const k=QE(i);delete k.onTransitionEnter,delete k.onTransitionExited;const H={...k,...ue};return{role:"presentation",...H,onKeyDown:C(H),ref:v}},getBackdropProps:(ue={})=>{const k=ue;return{"aria-hidden":!0,...k,onClick:V(k),open:f}},getTransitionProps:()=>{const ue=()=>{A(!1),o&&o()},k=()=>{A(!0),l&&l(),s&&U()};return{onEnter:hw(ue,u?.props.onEnter??Hx),onExited:hw(k,u?.props.onExited??Hx)}},rootRef:v,portalRef:B,isTopModal:P,exited:w,hasTransition:x}}function $3(i){return Po("MuiModal",i)}jc("MuiModal",["root","hidden","backdrop"]);const V3=i=>{const{open:e,exited:t,classes:n}=i;return Lc({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},$3,n)},G3=Ir("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,!t.open&&t.exited&&e.hidden]}})(Lh(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),q3=Ir(JE,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Y3=N.forwardRef(function(e,t){const n=Ic({name:"MuiModal",props:e}),{BackdropComponent:s=q3,BackdropProps:o,classes:l,className:u,closeAfterTransition:d=!1,children:f,container:p,component:g,components:y={},componentsProps:S={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:A=!1,disablePortal:x=!1,disableRestoreFocus:L=!1,disableScrollLock:_=!1,hideBackdrop:O=!1,keepMounted:M=!1,onClose:R,onTransitionEnter:P,onTransitionExited:B,open:U,slotProps:C={},slots:V={},theme:ae,...ie}=n,Z={...n,closeAfterTransition:d,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:A,disablePortal:x,disableRestoreFocus:L,disableScrollLock:_,hideBackdrop:O,keepMounted:M},{getRootProps:ue,getBackdropProps:k,getTransitionProps:H,portalRef:le,isTopModal:pe,exited:j,hasTransition:X}=H3({...Z,rootRef:t}),ee={...Z,exited:j},te=V3(ee),de={};if(f.props.tabIndex===void 0&&(de.tabIndex="-1"),X){const{onEnter:_e,onExited:ft}=H();de.onEnter=_e,de.onExited=ft}const Se={slots:{root:y.Root,backdrop:y.Backdrop,...V},slotProps:{...S,...C}},[fe,Oe]=Or("root",{ref:t,elementType:G3,externalForwardedProps:{...Se,...ie,component:g},getSlotProps:ue,ownerState:ee,className:ai(u,te?.root,!ee.open&&ee.exited&&te?.hidden)}),[ze,bt]=Or("backdrop",{ref:o?.ref,elementType:s,externalForwardedProps:Se,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:_e=>k({..._e,onClick:ft=>{_e?.onClick&&_e.onClick(ft)}}),className:ai(o?.className,te?.backdrop),ownerState:ee});return!M&&!U&&(!X||j)?null:T.jsx(T3,{ref:le,container:p,disablePortal:x,children:T.jsxs(fe,{...Oe,children:[!O&&s?T.jsx(ze,{...bt}):null,T.jsx(_3,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:L,isEnabled:pe,open:U,children:N.cloneElement(f,de)})]})})});function X3(i){return Po("MuiPaper",i)}jc("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const K3=i=>{const{square:e,elevation:t,variant:n,classes:s}=i,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${t}`]};return Lc(o,X3,s)},W3=Ir("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Lh(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),e_=N.forwardRef(function(e,t){const n=Ic({props:e,name:"MuiPaper"}),s=cy(),{className:o,component:l="div",elevation:u=1,square:d=!1,variant:f="elevation",...p}=n,g={...n,component:l,elevation:u,square:d,variant:f},y=K3(g);return T.jsx(W3,{as:l,ownerState:g,className:ai(y.root,o),ref:t,...p,style:{...f==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[u],...s.vars&&{"--Paper-overlay":s.vars.overlays?.[u]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${om("#fff",cm(u))}, ${om("#fff",cm(u))})`}},...p.style}})});function Q3(i){return Po("MuiDialog",i)}const Bg=jc("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Z3=N.createContext({}),J3=Ir(JE,{name:"MuiDialog",slot:"Backdrop",overrides:(i,e)=>e.backdrop})({zIndex:-1}),eF=i=>{const{classes:e,scroll:t,maxWidth:n,fullWidth:s,fullScreen:o}=i,l={root:["root"],container:["container",`scroll${wi(t)}`],paper:["paper",`paperScroll${wi(t)}`,`paperWidth${wi(String(n))}`,s&&"paperFullWidth",o&&"paperFullScreen"]};return Lc(l,Q3,e)},tF=Ir(Y3,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),nF=Ir("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.container,e[`scroll${wi(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),iF=Ir(e_,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.paper,e[`scrollPaper${wi(t.scroll)}`],e[`paperWidth${wi(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Lh(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${Bg.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${i.breakpoints.values[e]}${i.breakpoints.unit}`,[`&.${Bg.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Bg.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Jc=N.forwardRef(function(e,t){const n=Ic({props:e,name:"MuiDialog"}),s=cy(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":u,"aria-modal":d=!0,BackdropComponent:f,BackdropProps:p,children:g,className:y,disableEscapeKeyDown:S=!1,fullScreen:v=!1,fullWidth:w=!1,maxWidth:A="sm",onClick:x,onClose:L,open:_,PaperComponent:O=e_,PaperProps:M={},scroll:R="paper",slots:P={},slotProps:B={},TransitionComponent:U=Nm,transitionDuration:C=o,TransitionProps:V,...ae}=n,ie={...n,disableEscapeKeyDown:S,fullScreen:v,fullWidth:w,maxWidth:A,scroll:R},Z=eF(ie),ue=N.useRef(),k=Fe=>{ue.current=Fe.target===Fe.currentTarget},H=Fe=>{x&&x(Fe),ue.current&&(ue.current=null,L&&L(Fe,"backdropClick"))},le=xN(u),pe=N.useMemo(()=>({titleId:le}),[le]),j={transition:U,...P},X={transition:V,paper:M,backdrop:p,...B},ee={slots:j,slotProps:X},[te,de]=Or("root",{elementType:tF,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:ie,className:ai(Z.root,y),ref:t}),[Se,fe]=Or("backdrop",{elementType:J3,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:ie}),[Oe,ze]=Or("paper",{elementType:iF,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:ie,className:ai(Z.paper,M.className)}),[bt,_e]=Or("container",{elementType:nF,externalForwardedProps:ee,ownerState:ie,className:Z.container}),[ft,tn]=Or("transition",{elementType:Nm,externalForwardedProps:ee,ownerState:ie,additionalProps:{appear:!0,in:_,timeout:C,role:"presentation"}});return T.jsx(te,{closeAfterTransition:!0,slots:{backdrop:Se},slotProps:{backdrop:{transitionDuration:C,as:f,...fe}},disableEscapeKeyDown:S,onClose:L,open:_,onClick:H,...de,...ae,children:T.jsx(ft,{...tn,children:T.jsx(bt,{onMouseDown:k,..._e,children:T.jsx(Oe,{as:O,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":le,"aria-modal":d,...ze,children:T.jsx(Z3.Provider,{value:pe,children:g})})})})})}),rF=(i={})=>{const[e,t]=N.useState(i.country),[n,s]=N.useState(!1),[o,l]=N.useState(!0),u=i.api||"https://api.country.is";return N.useEffect(()=>{let d=!1;if(e||e===!1)return;async function f(){l(!0),await fetch(u).then(p=>{if(!p.ok)throw Error(p.statusText);return p.json()}).then(p=>{p&&p.country&&!d&&t(p.country)}).catch(p=>s(p)).finally(()=>l(!1))}return f(),()=>{d=!0}},[]),{country:e,error:n,isLoading:o}},sF=It.create({baseURL:qM}),aF=async()=>{try{return(await sF.get("/latest")).data}catch(i){console.log(i)}return null},oF=[{code:"CL",vat:19,at:0,currency:"CLP"},{code:"US",vat:6.3,at:0,currency:"USD"}],lF=async i=>(await new Promise(e=>setTimeout(e,500)),oF.find(e=>e.code==i)),cF=[{code:"VES",name:"Sondeo Electrico Vertical",description:"Informe de sondeo electrico vertical segn la norma chilena.",country:"CL",price:25},{code:"GRD",name:"Puesta a tierra",description:"Informe de puesta a tierra segn la norma electrica chilena.",country:"CL",price:100}],uF=async i=>cF.find(e=>e.code==i),dF={cart_items:[],preferences:[],selectedItem:null},t_=vh({name:"shoppingCart",initialState:dF,reducers:{setCart(i,e){i.cart_items=e.payload},createNewPreference(i,e){i.preferences.push(e.payload),i.cart_items=[]},addNewItemToCart(i,e){i.cart_items.push(e.payload)},selectItem(i,e){i.selectedItem=e.payload},discardCart(i){i.cart_items=[]},discardPreference(i,e){i.preferences=i.preferences.filter(t=>t.id!=e.payload)}}}),{setCart:u4,selectItem:d4,addNewItemToCart:hF,discardCart:n_,createNewPreference:fF,discardPreference:jy}=t_.actions,pF=t_.reducer,gF=()=>{const i=lr(),[e,t]=N.useState(!1),{cart_items:n}=Mn(l=>l.shoppingCart),s=rF();return{loading:e,addItemToCart:async(l,u)=>{if(t(!0),n.filter(w=>w.uuid==u).length>0){alert("Ese reporte ya esta en el carrito!"),t(!1);return}const f=await uF(l),p=await lF(s.country),y=(await aF()).rates[p.currency],S=f.price*y,v=p.vat/100;i(hF({uuid:u,code:l,name:f.name,description:f.description,price:S*(v+1),tax:v})),t(!1)}}};function Pi({name:i,onClick:e,disabled:t=!1,blur:n=!1,type:s="primary"}){let o="bg-[var(--primary)]  text-[var(--on-primary)] disabled:bg-[var(--secondary)] disabled:text-[var(--on-secondary)]";switch(s){case"primary":o="bg-[var(--primary)]  text-[var(--on-primary)] disabled:bg-[var(--secondary)] disabled:text-[var(--on-secondary)]";break;case"confirm":o="bg-[var(--confirm)] text-[var(--on-confirm)]  disabled:bg-[var(--secondary)] disabled:text-[var(--on-secondary)]";break;case"cancel":o="border-2 border-[var(--primary)] text-[var(--primary)] disabled:border-[var(--secondary)] disabled:text-[var(--secondary)]";break}return T.jsx("button",{onClick:e,disabled:t,className:`
                px-4 py-2 rounded  mb-4 transition  cursor-pointer  
                hover:opacity-75
                ${o}
                ${n?"blur-sm":""}
                `,children:i})}const mF=({onClick:i})=>{const{loading:e,addItemToCart:t}=gF(),{selectedReport:n}=Mn(s=>s.reports);return T.jsxs("div",{className:"flex flex-col h-[300px] w-[600px] justify-around ",children:[T.jsxs("div",{className:"flex  justify-center h-2/4 items-center flex-col",children:[T.jsx("h4",{className:"font-bold text-2xl py-2 px-2",children:"Confirmar"}),e?T.jsx(yc,{size:120,color:"var(--primary)"}):T.jsx("span",{className:"text-lg",children:" Quieres agregar el reporte al carrito?"})]}),T.jsxs("div",{className:"flex  flex-row justify-around items-center h-2/4",children:[T.jsx(Pi,{name:"Cancelar",type:"cancel",onClick:i}),T.jsx(Pi,{name:"Confirmar",disabled:e,onClick:async()=>{await t("VES",n?.code),i()}})]})]})},yF=i=>{const[e,t]=N.useState(null),[n,s]=N.useState(!0);return N.useEffect(()=>{if(!i)return;(async()=>{s(!0);const l=await TP(i);if(!l){t(null),s(!1);return}const u=URL.createObjectURL(l);return t(u),s(!1),()=>URL.revokeObjectURL(u)})()},[i]),{fileUrl:e,loading:n}};gs.workerSrc=new URL("/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();function bF(){const{selectedReport:i}=Mn(p=>p.reports),[e]=N.useState(1),[t]=N.useState(1),[n,s]=N.useState(!1),[,o]=N.useState(0),{fileUrl:l,loading:u}=yF(i?.code||"");N.useEffect(()=>()=>{l&&l.startsWith("blob:")&&URL.revokeObjectURL(l)},[l]);const d=({numPages:p})=>{o(p)},f=()=>{if(!l)return;const p=document.createElement("a");p.href=l,p.download=`${i?.name||"reporte"}.pdf`,document.body.appendChild(p),p.click(),p.remove()};return i?u?T.jsx("div",{className:"w-3/4 h-full flex items-center justify-center",children:T.jsx(yc,{size:120,color:"var(--primary)"})}):l?T.jsxs("div",{className:"relative w-3/4 h-full flex items-center justify-center",children:[T.jsx(Jc,{maxWidth:"xl",className:"w-full",open:n,onClose:()=>s(!1),children:T.jsx(mF,{onClick:()=>s(!1)})}),i.locked&&T.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center flex-col space-y-2 ",children:T.jsx(Pi,{name:"Desbloquear PDF",onClick:()=>s(!0)})}),T.jsx("div",{className:"w-full h-full flex flex-col overflow-y-auto items-center ",children:T.jsxs("div",{className:"w-1/2 h-7/8 flex flex-col mt-2 mb-4 justify-start items-center ",children:[T.jsx(Pi,{name:"Descargar",blur:i.locked,onClick:f}),T.jsx(n3,{file:l,onLoadSuccess:d,loading:T.jsx(yc,{size:120,color:"var(--primary)"}),error:T.jsx("div",{className:"text-[var(--cancel)] ",children:"Error al renderizar el PDF"}),className:i.locked?"blur-sm":"",children:T.jsx(h3,{pageNumber:e,scale:t,renderTextLayer:!0,renderAnnotationLayer:!0})})]})})]}):T.jsx("div",{className:"w-3/4 h-full flex items-center justify-center",children:T.jsx("h1",{className:"text-[var(--cancel)] font-fira font-mediumtext-red-300",children:"No se pudo cargar el PDF"})}):T.jsx("div",{className:"w-3/4 h-full flex items-center justify-center",children:T.jsx("h1",{className:"text-[var(--on-background)] font-fira font-medium",children:"No hay reporte seleccionado"})})}const i_=({onClick:i})=>{const{generateSevReport:e}=fy(),[t,n]=N.useState([]);N.useEffect(()=>{const f=p=>{const g=p.clipboardData?.getData("text");if(g){const y=g.trim().split(`
`).map(S=>S.split("	"));n(y)}};return window.addEventListener("paste",f),()=>window.removeEventListener("paste",f)},[]);const[s,o]=N.useState({client:"",location:"",author:"",measured_at:""}),l=f=>{o({...s,[f.target.name]:f.target.value})},u=()=>{o({client:"",location:"",author:"",measured_at:""})},d=async()=>{if(t.length!==0)try{await e({data:t,author:s.author,client:s.client,measured_at:s.measured_at,location:s.location}),i()}catch(f){console.error("Error al generar reporte:",f)}};return T.jsxs("div",{className:"font-fira w-[600px] h-full t-8 p-8 bg-white rounded-lg shadow",children:[T.jsx("div",{className:"h-1/10 w-full ",children:T.jsx("h2",{className:"text-2xl font-bold text-center ",children:"Nuevo Reporte"})}),T.jsxs("div",{className:"flex-row flex ",children:[T.jsx("div",{className:"flex  w-1/2  justify-start items-start",children:t.length>0?T.jsxs("table",{className:"table-auto border-collapse border border-black",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:"bg-black text-gray-200 font-semibold px-2 py-1 border border-black",children:"#"}),Array.from({length:t[0]?.length||0},(f,p)=>T.jsxs("th",{className:"bg-black text-gray-200 font-semibold px-2 py-1 border border-black",children:[String.fromCharCode(65+p)," "]},`col-${p}`))]})}),T.jsx("tbody",{children:t.map((f,p)=>T.jsxs("tr",{children:[T.jsx("td",{className:"bg-black text-gray-200 font-medium text-center border border-black px-2 py-1",children:p+1}),f.map((g,y)=>T.jsx("td",{className:"bg-white border border-black px-2 py-1",children:g},y))]},p))})]}):T.jsx("div",{className:"m-auto",children:T.jsx("span",{className:"text-gray-500",children:"Pegar datos desde Excel (Ctrl + V)"})})}),T.jsxs("div",{className:"flex flex-col  w-1/2  p-2 mt-2",children:[T.jsxs("div",{className:"mb-4 flex-col flex w-full  px-2",children:[T.jsxs("div",{className:"mb-2 ",children:[T.jsx("label",{className:"font-semibold",children:"Author: "}),T.jsx("input",{name:"author",type:"text",className:"border-b w-[140px] border-gray-300 bg-transparent focus:outline-none",value:s.author,maxLength:50,onChange:l,placeholder:"Escriba aqu..."})]}),T.jsxs("div",{className:"mb-2 ",children:[T.jsx("label",{className:"font-semibold",children:"Cliente: "}),T.jsx("input",{name:"client",type:"text",className:"border-b w-[140px] border-gray-300 bg-transparent focus:outline-none",value:s.client,maxLength:50,onChange:l,placeholder:"Escriba aqu..."})]}),T.jsxs("div",{className:"mb-2 ",children:[T.jsx("label",{className:"font-semibold",children:"Ubicacin:"}),T.jsx("input",{name:"location",type:"text",className:"border-b w-[140px] border-gray-300 bg-transparent focus:outline-none",value:s.location,maxLength:50,onChange:l,placeholder:"Escriba aqu..."})]}),T.jsxs("div",{className:"flex-row ",children:[T.jsx("label",{className:"font-semibold",children:"Fecha intervencin:"}),T.jsx("input",{type:"date",name:"measured_at",value:s.measured_at,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded"})]})]}),T.jsx("div",{className:"mb-4 flex-col flex h-1/2 w-1/2",children:T.jsx("div",{className:"h-1/2 w-full justify-center items-center"})})]})]}),T.jsxs("div",{className:"flex justify-around h-1/4  items-center flex-row ",children:[T.jsx(Pi,{name:"Cancelar",type:"cancel",onClick:()=>{u(),i()}}),T.jsx(Pi,{name:"Crear Reporte",disabled:t.length<=0,onClick:()=>d()})]})]})},vF=ws(T.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9zM18 20H6V10h12z"})),SF=ws(T.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}));function wF({report:i}){const e=lr();return T.jsxs("div",{className:`border  border-gray-200 rounded w-full justify-between flex flex-row cursor-pointer overflow-hidden
            hover:opacity-75
            
            `,onClick:()=>{e(LP(i))},children:[T.jsxs("div",{className:`w-3/4 px-2 py-5 flex flex-col border-l-10 ${i?.locked?"border-[var(--primary)]":"border-[var(--secondary)]"}`,children:[T.jsx("div",{className:`font-fira text-md font-semibold  ${i.locked?"text-black":"text-gray-600"} `,children:i.name}),T.jsx("div",{className:"font-fira text-sm   text-gray-600 ",children:i.code})]}),T.jsx("div",{className:"w-1/4  justify-center items-center flex",children:i.locked?T.jsx(vF,{style:{fontSize:35},className:"text-[var(--primary)]"}):T.jsx(SF,{style:{fontSize:35},className:"text-[var(--secondary)]"})})]})}function xF(){const i=lr(),{reports:e}=Mn(o=>o.reports),{generateSevReport:t}=fy(),[n,s]=N.useState(!1);return T.jsx("div",{className:"h-full w-1/4  justify-center p-2",children:T.jsxs("div",{className:"h-14/15 w-full justify-start  bg-white rounded-lg",children:[T.jsxs("div",{className:"h-1/7 items-center w-full justify-around flex flex-row ",children:[T.jsx(Jc,{maxWidth:"xl",className:"w-full",open:n,onClose:()=>s(!1),children:T.jsx(i_,{onClick:()=>s(!1),generate:t})}),T.jsx(Pi,{name:"Nuevo Reporte",onClick:()=>s(!0)}),T.jsx(Pi,{name:"Descartar Reportes",onClick:()=>i(DP())})]}),T.jsx("div",{className:"space-y-3 h-9/10 overflow-y-auto w-full px-3",children:e.length!==0&&e.map(o=>T.jsx(wF,{report:o}))})]})})}function AF(){return T.jsxs("div",{className:" w-full h-3/4  flex items-center justify-center ",children:[T.jsx(xF,{}),T.jsx(bF,{})]})}const EF=ws(T.jsx("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15M14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"}));function _F({onGenerate:i}){const[e,t]=N.useState(!1);return T.jsxs("div",{className:"h-3/4 w-full  flex justify-center",children:[T.jsx(Jc,{maxWidth:"xl",className:"w-full",open:e,onClose:()=>t(!1),children:T.jsx(i_,{onClick:()=>t(!1),generate:i})}),T.jsxs("div",{className:"h-1/3 w-2/3 flex flex-row justify-center ",children:[T.jsx("div",{className:" flex flex-col  w-1/2 h-2/3 justify-center items-center ",children:T.jsx("button",{onClick:()=>{t(!0)},className:"bg-[var(--primary)] w-full h-2/3 hover:opacity-95 hover:text-[var(--tertiary)] text-[var(--on-primary)] font-semibold text-2xl  rounded-2xl shadow-lg ",children:"Cargar planilla"})}),T.jsxs("div",{className:"w-1/6 h-full flex flex-col items-start justify-center px-2",children:[T.jsx("button",{className:"bg-[var(--primary)] rounded-4xl hover:opacity-75 p-2 shadow-lg",children:T.jsx(EF,{className:"text-[var(--on-primary)]"})}),T.jsx("div",{className:"p-2"})]})]})]})}function CF(){const i=["Analizando datos...","Preguntando a nuestra IA...","Generando PDF..."],[e,t]=N.useState(0),[n,s]=N.useState(!0);return N.useEffect(()=>{const o=setInterval(()=>{s(!1),setTimeout(()=>{t(l=>(l+1)%i.length),s(!0)},500)},3e3);return()=>clearInterval(o)},[i.length]),T.jsx("div",{className:"h-3/4 w-full flex",children:T.jsx("div",{className:"m-auto",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("h1",{className:`font-semibold text-2xl transition-opacity duration-500 ${n?"opacity-100 text-blue-600":"opacity-0"}`,children:i[e]}),T.jsx(yc,{size:120,color:"var(--primary)",className:"mt-6"})]})})})}function TF(){const i=ph(),{generateSevReport:e,reports:t,isGenerating:n}=fy();return N.useEffect(()=>{i(Ud())},[i]),n?T.jsx(CF,{}):t.length===0?T.jsx(_F,{onGenerate:e}):T.jsx(AF,{})}function RF(){return T.jsx(Nh,{children:T.jsxs("div",{className:"font-fira bg-[var(--background)] h-full w-full flex flex-col justify-start",children:[T.jsxs("div",{className:"h-1/4 w-full flex flex-col justify-center items-center",children:[T.jsx("h1",{className:"font-bold text-4xl",children:" Sondeo Elctrico Vertical"}),T.jsx("p",{className:"font-normal text-2xl",children:"Reporte de sondeo electrico vertical segn la norma chilena de electricidad a un clic."})]}),T.jsx(TF,{})]})})}const MF="/assets/mercadopago-CFD57qNs.png",OF=async i=>{try{const e=i.map(n=>({code:n.code,name:n.name,description:n.description,price:Math.round(n.price)}));return console.log(`${Wm}/mercadopago/create-preference`),(await WA.post("/mercadopago/create-preference",e)).data}catch(e){console.log(e)}return null},DF=()=>({createPreference:async e=>{try{const t=await OF(e);return console.log(t),t}catch(t){console.log(t)}}}),LF=({onClick:i})=>{const e=lr(),t=Mn(l=>l.shoppingCart.cart_items),[n,s]=N.useState(1),{createPreference:o}=DF();return T.jsxs("div",{className:"flex flex-col h-[500px] w-[600px] justify-around ",children:[T.jsx("div",{className:"h-1/4 w-full flex flex-row space-x-2 items-center justify-center"}),T.jsx("div",{className:"h-2/4 w-full flex flex-row space-x-2 items-center justify-center ",children:T.jsxs("button",{onClick:()=>{s(2)},className:` bg-yellow-300 w-[250px] h-[140px] ${n==2?"border-[var(--tertiary)] border-2":"border-gray-200 border-1"}   rounded-xl flex flex-col justify-around items-center p-2`,children:[T.jsx("h1",{className:"font-bold",children:" Mercado Pago"}),T.jsx("img",{src:MF,className:"w-[200px] h-[100px]",alt:"Mercado Pago"})]})}),T.jsxs("div",{className:"flex  flex-row justify-around items-center h-1/4",children:[T.jsx("button",{className:"px-6 py-2 border-2 border-red-400 text-red-400 rounded hover:bg-red-100",onClick:i,children:"Cancelar"}),T.jsx("button",{onClick:async()=>{if(n==2){const l=await o(t);if(console.log(l),l==null){i();return}e(fF({id:l.id,items:t})),window.location.href=l.redirect_url,e(n_()),i()}},className:"px-6 py-2 bg-green-400 text-white rounded hover:bg-green-300",children:"Confirmar"})]})]})},NF=0;function kF(){const i=Mn(x=>x.shoppingCart.cart_items),e=Mn(x=>x.shoppingCart.preferences),t=ph(),[n,s]=N.useState(i.map(x=>x.uuid)),[o,l]=N.useState(!1),[u,d]=N.useState(!1),f=x=>s(L=>L.includes(x)?L.filter(_=>_!==x):[...L,x]),p=N.useMemo(()=>i.filter(x=>n.includes(x.uuid)),[i,n]),g=N.useMemo(()=>p.reduce((x,L)=>x+L.price*L.tax,0),[p]),y=N.useMemo(()=>p.reduce((x,L)=>x+L.price,0),[p]),S=NF,v=y*S,w=y-v;return{items:i,preferences:e,selectedIds:n,selectedReports:p,acceptedTerms:o,open:u,subtotal:y,totalTax:g,total:w,discount:S,discountAmount:v,toggleSelect:f,setAcceptedTerms:l,cancelCart:()=>t(n_()),setOpen:d}}const $x=ws(T.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),PF=i=>{switch(i){case"VES":return T.jsx($x,{style:{fontSize:50},className:"text-[var(--primary)]"});case"GRD":return T.jsx(T.Fragment,{})}return T.jsx($x,{style:{fontSize:50},className:"text-gray-400"})},jF=({items:i,selectedIds:e,toggleSelect:t})=>T.jsxs("div",{className:"flex h-3/4 flex-col gap-4",children:[T.jsx("h1",{className:"font-bold text-4xl",children:" Carrito"}),i.length===0?T.jsx("div",{className:"m-auto",children:T.jsx("h1",{className:"font-semi-bold text-2xl text-gray-500",children:"No has agregado nada al carrito!"})}):i.map(n=>T.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition",children:[T.jsx("input",{type:"checkbox",checked:e.includes(n.uuid),onChange:()=>t(n.uuid),className:"mt-2 accent-[var(--primary)]"}),T.jsx("div",{children:PF(n.code)}),T.jsxs("div",{className:"flex-1 flex-col",children:[T.jsx("h3",{className:"font-semibold text-[var(--on-background)]",children:n.name}),T.jsx("span",{className:"text-sm text-gray-400",children:n.uuid}),T.jsx("p",{className:"text-sm text-gray-500",children:n.description})]}),T.jsxs("p",{className:"font-semibold text-2xlss text-gray-700",children:["$",n.price.toLocaleString(void 0,{maximumFractionDigits:0})]})]},n.id))]}),IF=({selectedItems:i,totalTax:e,discount:t,discountAmount:n,total:s,children:o})=>{const l=i.reduce((u,d)=>u+d.price,0);return T.jsxs("div",{className:"w-1/6 h-1/2 bg-white rounded-lg p-6 shadow-sm border border-gray-100 flex flex-col mt-5",children:[T.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Productos (",i.length,")"]}),T.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-700 h-1/2 justify-end py-4 w-full",children:[T.jsx("div",{className:"flex flex-col overflow-y-auto mb-2",children:i.map(u=>T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"truncate pr-2",children:u.name}),T.jsxs("span",{className:"whitespace-nowrap",children:["$",u.price.toLocaleString(void 0,{maximumFractionDigits:0})]})]},u.uuid))}),T.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[T.jsx("span",{children:"Subtotal"}),T.jsxs("span",{children:["$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),T.jsxs("div",{className:"flex justify-between text-gray-500 text-xs",children:[T.jsx("span",{children:"(IVA incluido)"}),T.jsxs("span",{children:["$",e.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),t>0&&T.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[T.jsxs("span",{children:["Descuento (",(t*100).toFixed(0),"%)"]}),T.jsxs("span",{children:["- $",n.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),T.jsxs("div",{className:"flex justify-between font-semibold text-[var(--on-background)] border-t border-gray-300 pt-2",children:[T.jsx("span",{children:"Total"}),T.jsxs("span",{children:["$",s.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),T.jsx("div",{className:"flex flex-col w-full h-3/8 justify-center",children:o})]})},FF=({onClick:i,onAccept:e})=>T.jsxs("div",{className:"flex flex-col h-[600px] w-[600px] justify-around ",children:[T.jsx("div",{className:"flex  justify-center h-1/4 items-center flex-col",children:T.jsx("h4",{className:"font-bold text-2xl py-2 px-2",children:"Terminos y Condiciones"})}),T.jsx("div",{className:"flex  justify-start h-2/4 items-start flex-col overflow-auto",children:T.jsx("p",{className:"text-md py-1",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi arcu ligula, fermentum non odio sed, ultrices auctor elit. Donec efficitur, ligula ac mollis semper, eros risus sollicitudin lacus, non vestibulum quam dui eget arcu. Pellentesque finibus, diam eu imperdiet vulputate, augue lacus finibus justo, vel euismod tortor enim in quam. Aliquam vitae justo id nulla aliquam laoreet at quis nibh. Aliquam aliquam quis mauris et consectetur. Donec aliquam neque sapien, ac viverra ex imperdiet sed. Maecenas lorem sem, tincidunt eu eros at, suscipit pretium dui. Suspendisse tristique orci pellentesque purus dignissim, eu euismod ipsum varius. Phasellus aliquet turpis nec purus laoreet, id feugiat sem gravida. Quisque vitae ultrices nunc, non mattis eros. Ut posuere, lectus quis tincidunt mollis, felis ligula consequat dui, vitae condimentum neque eros quis urna. Mauris eget enim et nunc ullamcorper condimentum eget eu leo. Sed mi ex, posuere id mauris sit amet, porttitor porttitor erat. Duis volutpat lectus tortor, quis aliquam neque vehicula id. Donec mattis velit sem, malesuada venenatis dui sagittis ut. Suspendisse rutrum mattis elit. Nulla commodo est neque, nec auctor massa luctus nec. Nam placerat et velit porta lacinia. Sed vitae metus est. Praesent tincidunt felis consequat orci lacinia porta. Quisque in ligula ipsum. Fusce accumsan malesuada placerat. Phasellus malesuada condimentum facilisis. Vestibulum ante tellus, eleifend quis porttitor in, pulvinar et mi. Quisque interdum tristique arcu, a lobortis velit porttitor quis. Curabitur fermentum luctus rhoncus. Cras vestibulum nisl metus, non scelerisque purus interdum eu. Phasellus mollis vulputate mauris sit amet egestas. Cras rhoncus, risus et vehicula volutpat, felis mauris efficitur tortor, eu gravida tellus lacus a felis. Morbi lacinia nunc eget purus iaculis placerat. Fusce eros turpis, sodales a elit id, semper mattis ex. Suspendisse in sem pulvinar, rhoncus ligula ac, pulvinar metus. Maecenas dolor libero, fermentum ut tellus sit amet, tincidunt malesuada massa. Proin maximus, elit ut rutrum ornare, turpis turpis feugiat elit, quis ornare velit mauris at mauris. Nullam vitae tortor ultricies, varius nibh eget, venenatis justo. Maecenas et rutrum leo. Fusce sit amet ligula vel augue placerat luctus. Curabitur quis neque accumsan, interdum sapien at, mattis felis. Suspendisse potenti. Proin sed quam est. Vivamus eu porta ante. Vivamus ex massa, convallis at ex nec, sollicitudin commodo lacus. Nulla massa orci, fringilla et congue nec, bibendum non sapien. Nam a placerat nunc. Mauris accumsan sollicitudin risus sit amet pellentesque. Nullam eu purus accumsan, imperdiet neque sed, ultrices libero. Aenean fermentum lobortis velit non sagittis. Suspendisse eget dapibus eros, eget ornare quam. Etiam in dui id nisi vestibulum scelerisque at sed ipsum. Donec eleifend massa magna, non mollis erat ultricies ut. Aenean ut nisi blandit, aliquam quam quis, aliquam nulla. Nulla rhoncus est diam, sit amet iaculis nisi cursus in. Fusce sed turpis ullamcorper magna facilisis faucibus. Aenean fermentum convallis tellus sit amet bibendum. Sed vulputate purus eget enim mattis egestas."})}),T.jsxs("div",{className:"flex  flex-row justify-around items-center h-1/4",children:[T.jsx(Pi,{name:"Cancelar",type:"cancel",onClick:i}),T.jsx(Pi,{name:"Confirmar",onClick:()=>{e(),i()}})]})]}),BF=({acceptedTerms:i,onAccept:e,onCancel:t,disabled:n})=>{const[s,o]=N.useState(!1);return T.jsxs("div",{className:"flex w-full h-1/8 px-2 items-center flex-row justify-between mt-4",children:[T.jsx(Jc,{maxWidth:"xl",className:"w-full",open:s,onClose:()=>o(!1),children:T.jsx(FF,{onClick:()=>o(!1),onAccept:()=>e(!0)})}),T.jsxs("div",{className:"flex flex-row items-center w-1/2 space-x-2",children:[T.jsx("input",{id:"terms",type:"checkbox",checked:i,onChange:l=>e(l.target.checked),className:"w-4 h-4 text-[var(--primary)] border-gray-300 rounded"}),T.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:["Acepto los"," ",T.jsx("a",{onClick:()=>{o(!0)},href:"#",className:"text-[var(--primary)] underline",children:"Trminos y Condiciones"})," ","de uso de la plataforma."]})]}),T.jsx(Pi,{name:"Cancelar",type:"cancel",disabled:n,onClick:t})]})},zF=({preferences:i})=>{const e=lr(),t=n=>{window.confirm("Deseas cancelar este pedido?")&&e(jy(n))};return i.length===0?T.jsx("div",{className:"w-full h-full flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-500 mb-2",children:"No tienes pedidos pendientes"}),T.jsx("p",{className:"text-gray-400",children:"Los pedidos en espera de pago aparecern aqu"})]})}):T.jsxs("div",{className:"w-full h-full px-8 py-4 overflow-y-auto",children:[T.jsx("h1",{className:"font-bold text-4xl mb-6",children:"Pedidos en espera"}),T.jsx("div",{className:"flex flex-col gap-6",children:i.map(n=>{const s=n.items.length,o=n.items.reduce((l,u)=>l+u.price,0);return T.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"font-semibold text-lg",children:["Pedido (",s," ",s===1?"producto":"productos",")"]}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"En espera de pago"})]}),T.jsx("div",{className:"text-right",children:T.jsxs("p",{className:"font-bold text-xl text-gray-700",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})})]}),T.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[T.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Productos:"}),T.jsx("div",{className:"flex flex-col gap-2",children:n.items.map(l=>T.jsxs("div",{className:"flex justify-between items-center text-sm",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"font-medium text-gray-700",children:l.name}),T.jsx("p",{className:"text-xs text-gray-400",children:l.uuid})]}),T.jsxs("p",{className:"text-gray-600 ml-4",children:["$",l.price.toLocaleString(void 0,{maximumFractionDigits:0})]})]},l.uuid))})]}),T.jsx("div",{className:"border-t border-gray-100 pt-4 mt-4",children:T.jsx("button",{onClick:()=>t(n.id),className:"px-4 py-2 text-sm border-2 border-red-400 text-red-400 rounded hover:bg-red-50 transition",children:"Cancelar pedido"})})]},n.id)})})]})};function UF(){const i=kF(),[e,t]=N.useState("cart");return T.jsx(Nh,{children:T.jsxs("div",{className:"font-fira bg-[var(--background)] h-full w-full flex flex-col justify-start items-center",children:[T.jsx(Jc,{maxWidth:"xl",open:i.open,onClose:()=>i.setOpen(!1),children:T.jsx(LF,{onClick:()=>i.setOpen(!1)})}),T.jsxs("div",{className:"w-full flex justify-center border-b border-gray-200 mb-4",children:[T.jsxs("button",{onClick:()=>t("cart"),className:`px-6 py-3 font-semibold transition ${e==="cart"?"border-b-2 border-[var(--primary)] text-[var(--primary)]":"text-gray-500 hover:text-gray-700"}`,children:["Carrito (",i.items.length,")"]}),T.jsxs("button",{onClick:()=>t("orders"),className:`px-6 py-3 font-semibold transition ${e==="orders"?"border-b-2 border-[var(--primary)] text-[var(--primary)]":"text-gray-500 hover:text-gray-700"}`,children:["Pedidos (",i.preferences.length,")"]})]}),e==="cart"&&T.jsxs("div",{className:"flex flex-row w-full h-full px-2 justify-around",children:[T.jsxs("div",{className:"flex flex-col w-1/2 h-full px-2 justify-around",children:[T.jsx(jF,{items:i.items,selectedIds:i.selectedIds,toggleSelect:i.toggleSelect}),T.jsx(BF,{acceptedTerms:i.acceptedTerms,onAccept:i.setAcceptedTerms,onCancel:i.cancelCart,disabled:i.items.length===0})]}),T.jsx(IF,{selectedItems:i.selectedReports,totalTax:i.totalTax,discount:i.discount,discountAmount:i.discountAmount,total:i.total,children:T.jsx("button",{disabled:!i.acceptedTerms||i.selectedReports.length===0,onClick:()=>i.setOpen(!0),className:`mt-4 w-full py-2 rounded-lg text-[var(--on-primary)] font-semibold transition ${i.acceptedTerms&&i.selectedReports.length>0?"bg-[var(--primary)] hover:opacity-75":"bg-gray-400 cursor-not-allowed"}`,children:"Ir a pagar"})})]}),e==="orders"&&T.jsx(zF,{preferences:i.preferences})]})})}function HF(){const i=lr();N.useEffect(()=>{e()},[]);const e=async()=>{const o=await eE();i(NP(o))};return{addReportDocument:async o=>{await JA(o),await e()},removeReportDocument:async o=>{await RP(o),await e()},unLockReportDocument:async o=>{await MP(o),await e()}}}function $F(){const i=lr(),[e]=k1(),t=e.get("preference_id"),n=Mn(l=>l.shoppingCart.preferences),{unLockReportDocument:s}=HF(),o=async()=>{if(!t){alert("DEBUG NOT PREFERENCE RETURNED!");return}const l=n.find(u=>u.id==t);if(!l){alert("DEBUG THE PREFERENCE DOES NOT EXIST!");return}for(let u=0;u<l.items.length;u++)await s(l.items[u].uuid);i(jy(t))};return N.useEffect(()=>{alert("!PAGO EXITOSO!"),o()},[]),T.jsx(Hm,{to:"/ves"})}function VF(){const i=lr(),[e]=k1(),t=e.get("preference_id"),n=Mn(o=>o.shoppingCart.preferences),s=async()=>{if(alert("Payment Failure"),!t){alert("DEBUG NOT PREFERENCE RETURNED!");return}if(!n.find(l=>l.id==t)){alert("DEBUG THE PREFERENCE DOES NOT EXIST!");return}i(jy(t))};return N.useEffect(()=>{s()},[]),T.jsx(Hm,{to:"/ves"})}function GF(){const i=async()=>{alert("Pending of payment wait a moment please")};return N.useEffect(()=>{i()},[]),T.jsx(Hm,{to:"/cart"})}const qF=S2([{path:"/",element:T.jsx(kN,{})},{path:"/settings",element:T.jsx(DN,{})},{path:"/ves",element:T.jsx(RF,{})},{path:"/cart",element:T.jsx(UF,{})},{path:"/success",element:T.jsx($F,{})},{path:"/failure",element:T.jsx(VF,{})},{path:"/pendings",element:T.jsx(GF,{})},{path:"/*",element:T.jsx(JM,{})}]),YF=()=>T.jsx(T.Fragment,{children:T.jsx(QM,{children:T.jsx(L2,{router:qF})})});function XF(){return T.jsxs("div",{className:"bg-[var(--background)]",children:[T.jsx(YF,{}),T.jsx(CT,{})]})}const KF=CM({reducer:{auth:WM,person:oO,reports:PP,shoppingCart:pF}}),ke=i=>typeof i=="string",Wl=()=>{let i,e;const t=new Promise((n,s)=>{i=n,e=s});return t.resolve=i,t.reject=e,t},Vx=i=>i==null?"":""+i,WF=(i,e,t)=>{i.forEach(n=>{e[n]&&(t[n]=e[n])})},QF=/###/g,Gx=i=>i&&i.indexOf("###")>-1?i.replace(QF,"."):i,qx=i=>!i||ke(i),hc=(i,e,t)=>{const n=ke(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(qx(i))return{};const o=Gx(n[s]);!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={},++s}return qx(i)?{}:{obj:i,k:Gx(n[s])}},Yx=(i,e,t)=>{const{obj:n,k:s}=hc(i,e,Object);if(n!==void 0||e.length===1){n[s]=t;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=hc(i,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=hc(i,l,Object),u?.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=t},ZF=(i,e,t,n)=>{const{obj:s,k:o}=hc(i,e,Object);s[o]=s[o]||[],s[o].push(t)},sh=(i,e)=>{const{obj:t,k:n}=hc(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},JF=(i,e,t)=>{const n=sh(i,t);return n!==void 0?n:sh(e,t)},r_=(i,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?ke(i[n])||i[n]instanceof String||ke(e[n])||e[n]instanceof String?t&&(i[n]=e[n]):r_(i[n],e[n],t):i[n]=e[n]);return i},co=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var eB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const tB=i=>ke(i)?i.replace(/[&<>"'\/]/g,e=>eB[e]):i;class nB{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const iB=[" ",",","?","!",";"],rB=new nB(20),sB=(i,e,t)=>{e=e||"",t=t||"";const n=iB.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(n.length===0)return!0;const s=rB.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(i);if(!o){const l=i.indexOf(t);l>0&&!s.test(i.substring(0,l))&&(o=!0)}return o},km=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const n=e.split(t);let s=i;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let l,u="";for(let d=o;d<n.length;++d)if(d!==o&&(u+=t),u+=n[d],l=s[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<n.length-1)continue;o+=d-o+1;break}s=l}return s},Tc=i=>i?.replace("_","-"),aB={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};class ah{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||aB,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,s){return s&&!this.debug?null:(ke(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ah(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ah(this.logger,e)}}var rr=new ah;class Kh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(t)||0;this.observers[n].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[e,...t])})}}class Xx extends Kh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],n&&(Array.isArray(n)?u.push(...n):ke(n)&&o?u.push(...n.split(o)):u.push(n)));const d=sh(this.data,u);return!d&&!t&&!n&&e.indexOf(".")>-1&&(e=u[0],t=u[1],n=u.slice(2).join(".")),d||!l||!ke(n)?d:km(this.data?.[e]?.[t],n,o)}addResource(e,t,n,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let u=[e,t];n&&(u=u.concat(l?n.split(l):n)),e.indexOf(".")>-1&&(u=e.split("."),s=t,t=u[1]),this.addNamespaces(t),Yx(this.data,u,s),o.silent||this.emit("added",e,t,n,s)}addResources(e,t,n,s={silent:!1}){for(const o in n)(ke(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});s.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,s,o,l={silent:!1,skipCopy:!1}){let u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),s=n,n=t,t=u[1]),this.addNamespaces(t);let d=sh(this.data,u)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?r_(d,n,o):d={...d,...n},Yx(this.data,u,d),l.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var s_={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,n,s){return i.forEach(o=>{e=this.processors[o]?.process(e,t,n,s)??e}),e}};const Kx={},Wx=i=>!ke(i)&&typeof i!="boolean"&&typeof i!="number";class oh extends Kh{constructor(e,t={}){super(),WF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=rr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const l=n&&e.indexOf(n)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!sB(e,n,s);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:ke(o)?[o]:o};const f=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(s)}return{key:e,namespaces:ke(o)?[o]:o}}translate(e,t,n){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],s),f=d[d.length-1];let p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?o?{res:`${f}${p}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:`${f}${p}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:u;const S=this.resolve(e,s);let v=S?.res;const w=S?.usedKey||u,A=S?.exactUsedKey||u,x=["[object Number]","[object Function]","[object RegExp]"],L=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!ke(s.count),M=oh.hasDefaultValue(s),R=O?this.pluralResolver.getSuffix(g,s.count,s):"",P=s.ordinal&&O?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",B=O&&!s.ordinal&&s.count===0,U=B&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${P}`]||s.defaultValue;let C=v;_&&!v&&M&&(C=U);const V=Wx(C),ae=Object.prototype.toString.apply(C);if(_&&C&&V&&x.indexOf(ae)<0&&!(ke(L)&&Array.isArray(C))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,C,{...s,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(S.res=ie,S.usedParams=this.getUsedParamsDetails(s),S):ie}if(l){const ie=Array.isArray(C),Z=ie?[]:{},ue=ie?A:w;for(const k in C)if(Object.prototype.hasOwnProperty.call(C,k)){const H=`${ue}${l}${k}`;M&&!v?Z[k]=this.translate(H,{...s,defaultValue:Wx(U)?U[k]:void 0,joinArrays:!1,ns:d}):Z[k]=this.translate(H,{...s,joinArrays:!1,ns:d}),Z[k]===H&&(Z[k]=C[k])}v=Z}}else if(_&&ke(L)&&Array.isArray(v))v=v.join(L),v&&(v=this.extendTranslation(v,e,s,n));else{let ie=!1,Z=!1;!this.isValidLookup(v)&&M&&(ie=!0,v=U),this.isValidLookup(v)||(Z=!0,v=u);const k=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:v,H=M&&U!==v&&this.options.updateMissing;if(Z||ie||H){if(this.logger.log(H?"updateKey":"missingKey",g,f,u,H?U:v),l){const X=this.resolve(u,{...s,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let le=[];const pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(let X=0;X<pe.length;X++)le.push(pe[X]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(s.lng||this.language):le.push(s.lng||this.language);const j=(X,ee,te)=>{const de=M&&te!==v?te:k;this.options.missingKeyHandler?this.options.missingKeyHandler(X,f,ee,de,H,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(X,f,ee,de,H,s),this.emit("missingKey",X,f,ee,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?le.forEach(X=>{const ee=this.pluralResolver.getSuffixes(X,s);B&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(te=>{j([X],u+te,s[`defaultValue${te}`]||U)})}):j(le,u,U))}v=this.extendTranslation(v,e,s,S,n),Z&&v===u&&this.options.appendNamespaceToMissingKey&&(v=`${f}${p}${u}`),(Z||ie)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${u}`:u,ie?v:void 0,s))}return o?(S.res=v,S.usedParams=this.getUsedParamsDetails(s),S):v}extendTranslation(e,t,n,s,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=ke(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let p=n.replace&&!ke(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||s.usedLng,n),d){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;f<y&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>o?.[0]===g[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):this.translate(...g,t),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=ke(l)?[l]:l;return e!=null&&u?.length&&n.applyPostProcessor!==!1&&(e=s_.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,s,o,l,u;return ke(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(d,t),p=f.key;s=p;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=t.count!==void 0&&!ke(t.count),S=y&&!t.ordinal&&t.count===0,v=t.context!==void 0&&(ke(t.context)||typeof t.context=="number")&&t.context!=="",w=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(A=>{this.isValidLookup(n)||(u=A,!Kx[`${w[0]}-${A}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(Kx[`${w[0]}-${A}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{if(this.isValidLookup(n))return;l=x;const L=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(L,p,x,A,t);else{let O;y&&(O=this.pluralResolver.getSuffix(x,t.count,t));const M=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(L.push(p+O),t.ordinal&&O.indexOf(R)===0&&L.push(p+O.replace(R,this.options.pluralSeparator)),S&&L.push(p+M)),v){const P=`${p}${this.options.contextSeparator}${t.context}`;L.push(P),y&&(L.push(P+O),t.ordinal&&O.indexOf(R)===0&&L.push(P+O.replace(R,this.options.pluralSeparator)),S&&L.push(P+M))}}let _;for(;_=L.pop();)this.isValidLookup(n)||(o=_,n=this.getResource(x,A,_,t))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ke(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class Qx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=rr.create("languageUtils")}getScriptPartFromCode(e){if(e=Tc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Tc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ke(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ke(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ke(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):ke(e)&&o(this.formatLanguageCode(e)),n.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const Zx={zero:0,one:1,two:2,few:3,many:4,other:5},Jx={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class oB{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=rr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Tc(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Jx;if(!e.match(/-|_/))return Jx;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[o]=l,l}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((s,o)=>Zx[s]-Zx[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const e1=(i,e,t,n=".",s=!0)=>{let o=JF(i,e,t);return!o&&s&&ke(t)&&(o=km(i,t,n),o===void 0&&(o=km(e,t,n))),o},zg=i=>i.replace(/\$/g,"$$$$");class lB{constructor(e={}){this.logger=rr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:f,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:S,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:A,maxReplaces:x,alwaysFormat:L}=e.interpolation;this.escape=t!==void 0?t:tB,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?co(o):l||"{{",this.suffix=u?co(u):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?co(y):S||co("$t("),this.nestingSuffix=v?co(v):w||co(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=x||1e3,this.alwaysFormat=L!==void 0?L:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t?.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,s){let o,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=S=>{if(S.indexOf(this.formatSeparator)<0){const x=e1(t,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...s,...t,interpolationkey:S}):x}const v=S.split(this.formatSeparator),w=v.shift().trim(),A=v.join(this.formatSeparator).trim();return this.format(e1(t,d,w,this.options.keySeparator,this.options.ignoreJSONStructure),A,n,{...s,...t,interpolationkey:w})};this.resetRegExp();const p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>zg(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?zg(this.escape(S)):zg(S)}].forEach(S=>{for(u=0;o=S.regex.exec(e);){const v=o[1].trim();if(l=f(v),l===void 0)if(typeof p=="function"){const A=p(e,o,s);l=ke(A)?A:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(g){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),l="";else!ke(l)&&!this.useRawValueToEscape&&(l=Vx(l));const w=S.safeValue(l);if(e=e.replace(o[0],w),g?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=o[0].length):S.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t,n={}){let s,o,l;const u=(d,f)=>{const p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;const g=d.split(new RegExp(`${p}[ ]*{`));let y=`{${g[1]}`;d=g[0],y=this.interpolate(y,l);const S=y.match(/'/g),v=y.match(/"/g);((S?.length??0)%2===0&&!v||v.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),f&&(l={...f,...l})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,w),`${d}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];l={...n},l=l.replace&&!ke(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const p=s[1].split(this.formatSeparator).map(g=>g.trim());s[1]=p.shift(),d=p,f=!0}if(o=t(u.call(this,s[1].trim(),l),l),o&&s[0]===e&&!ke(o))return o;ke(o)||(o=Vx(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),f&&(o=d.reduce((p,g)=>this.format(p,g,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const cB=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const n=i.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();t[p]||(t[p]=f),f==="false"&&(t[p]=!1),f==="true"&&(t[p]=!0),isNaN(f)||(t[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},t1=i=>{const e={};return(t,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=n+JSON.stringify(o);let u=e[l];return u||(u=i(Tc(n),s),e[l]=u),u(t)}},uB=i=>(e,t,n)=>i(Tc(t),n)(e);class dB{constructor(e={}){this.logger=rr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?t1:uB;this.formats={number:n((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return u=>l.format(u)}),currency:n((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return u=>l.format(u)}),datetime:n((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return u=>l.format(u)}),relativetime:n((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return u=>l.format(u,o.range||"day")}),list:n((s,o)=>{const l=new Intl.ListFormat(s,{...o});return u=>l.format(u)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=t1(t)}format(e,t,n,s={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){const u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{const{formatName:f,formatOptions:p}=cB(d);if(this.formats[f]){let g=u;try{const y=s?.formatParams?.[s.interpolationkey]||{},S=y.locale||y.lng||s.locale||s.lng||n;g=this.formats[f](u,S,{...p,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${f}`);return u},e)}}const hB=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class fB extends Kh{constructor(e,t,n,s={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=rr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,s.backend,s)}queueLoad(e,t,n,s){const o={},l={},u={},d={};return e.forEach(f=>{let p=!0;t.forEach(g=>{const y=`${f}|${g}`;!n.reload&&this.store.hasResourceBundle(f,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),o[y]===void 0&&(o[y]=!0),d[g]===void 0&&(d[g]=!0)))}),p||(u[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,t,n){const s=e.split("|"),o=s[0],l=s[1];t&&this.emit("failedLoading",o,l,t),!t&&n&&this.store.addResourceBundle(o,l,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const u={};this.queue.forEach(d=>{ZF(d.loaded,[o],l),hB(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{u[f]||(u[f]={});const p=d.loaded[f];p.length&&p.forEach(g=>{u[f][g]===void 0&&(u[f][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,t,n,s=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:s,wait:o,callback:l});return}this.readingCalls++;const u=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,s+1,o*2,l)},o);return}l(f,p)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}return}return d(e,t,u)}prepareLoading(e,t,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ke(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ke(t)&&(t=[t]);const o=this.queueLoad(e,t,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,l),!l&&u&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,u),this.loaded(e,l,u)})}saveMissing(e,t,n,s,o,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const d={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,t,n,s,d):p=f(e,t,n,s),p&&typeof p.then=="function"?p.then(g=>u(null,g)).catch(u):u(null,p)}catch(p){u(p)}else f(e,t,n,s,u,d)}!e||!e[0]||this.store.addResource(e[0],t,n,s)}}}const n1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),ke(i[1])&&(e.defaultValue=i[1]),ke(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),i1=i=>(ke(i.ns)&&(i.ns=[i.ns]),ke(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),ke(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),Md=()=>{},pB=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class Rc extends Kh{constructor(e={},t){if(super(),this.options=i1(e),this.services={},this.logger=rr,this.modules={external:[]},pB(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(ke(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=n1();this.options={...n,...this.options,...i1(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?rr.init(s(this.modules.logger),this.options):rr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=dB;const p=new Qx(this.options);this.store=new Xx(this.options.resources,this.options);const g=this.services;g.logger=rr,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new oB(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(g.formatter=s(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new lB(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new fB(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(y,...S)=>{this.emit(y,...S)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new oh(this.services,this.options),this.translator.on("*",(y,...S)=>{this.emit(y,...S)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Md),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const u=Wl(),d=()=>{const f=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(g),t(p,g)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,t=Md){let n=t;const s=ke(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,t,n){const s=Wl();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Md),this.services.backendConnector.reload(e,t,o=>{s.resolve(),n(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&s_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=Wl();this.emit("languageChanging",e);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),t&&t(u,(...f)=>this.t(...f))},l=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const d=ke(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ke(u)?[u]:u);f&&(this.language||s(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{o(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,t,n){const s=(o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||s.keyPrefix);const f=this.options.keySeparator||".";let p;return d.keyPrefix&&Array.isArray(o)?p=o.map(g=>`${d.keyPrefix}${f}${g}`):p=d.keyPrefix?`${d.keyPrefix}${f}${o}`:o,this.t(p,d)};return ke(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const f=this.services.backendConnector.state[`${u}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const u=t.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,e)&&(!s||l(o,e)))}loadNamespaces(e,t){const n=Wl();return this.options.ns?(ke(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Wl();ke(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{n.resolve(),t&&t(l)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Qx(n1());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Rc(e,t)}cloneInstance(e={},t=Md){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new Rc(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const u=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((p,g)=>(p[g]={...d[f][g]},p),d[f]),d),{});o.store=new Xx(u,s),o.services.resourceStore=o.store}return o.translator=new oh(o.services,s),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const en=Rc.createInstance();en.createInstance=Rc.createInstance;en.createInstance;en.dir;en.init;en.loadResources;en.reloadResources;en.use;en.changeLanguage;en.getFixedT;en.t;en.exists;en.setDefaultNamespace;en.hasLoadedNamespace;en.loadNamespaces;en.loadLanguages;const{slice:gB,forEach:mB}=[];function yB(i){return mB.call(gB.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function bB(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const r1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vB=function(i,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${i}=${s}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!r1.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!r1.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o},s1={create(i,e,t,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+t*60*1e3)),n&&(s.domain=n),document.cookie=vB(i,e,s)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let s=t[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var SB={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return s1.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:s,cookieOptions:o}=e;t&&typeof document<"u"&&s1.create(t,i,n,s,o)}},wB={name:"querystring",lookup(i){let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const o=n.substring(1).split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===e&&(t=o[l].substring(u+1))}}return t}},xB={name:"hash",lookup(i){let{lookupHash:e,lookupFromHashIndex:t}=i,n;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(e){const l=o.split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(n=l[u].substring(d+1))}}if(n)return n;if(!n&&t>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let uo=null;const a1=()=>{if(uo!==null)return uo;try{if(uo=typeof window<"u"&&window.localStorage!==null,!uo)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{uo=!1}return uo};var AB={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&a1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&a1()&&window.localStorage.setItem(t,i)}};let ho=null;const o1=()=>{if(ho!==null)return ho;try{if(ho=typeof window<"u"&&window.sessionStorage!==null,!ho)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{ho=!1}return ho};var EB={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&o1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&o1()&&window.sessionStorage.setItem(t,i)}},_B={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:s}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);n&&e.push(n),s&&e.push(s)}return e.length>0?e:void 0}},CB={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},TB={name:"path",lookup(i){let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},RB={name:"subdomain",lookup(i){let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let a_=!1;try{document.cookie,a_=!0}catch{}const o_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];a_||o_.splice(1,1);const MB=()=>({order:o_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class l_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=yB(t,this.options||{},MB()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(SB),this.addDetector(wB),this.addDetector(AB),this.addDetector(EB),this.addDetector(_B),this.addDetector(CB),this.addDetector(TB),this.addDetector(RB),this.addDetector(xB)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(n=>n!=null&&!bB(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}l_.type="languageDetector";/*! js-cookie v3.0.5 | MIT */function Od(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)i[n]=t[n]}return i}var OB={read:function(i){return i[0]==='"'&&(i=i.slice(1,-1)),i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(i){return encodeURIComponent(i).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Pm(i,e){function t(s,o,l){if(!(typeof document>"u")){l=Od({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var d in l)l[d]&&(u+="; "+d,l[d]!==!0&&(u+="="+l[d].split(";")[0]));return document.cookie=s+"="+i.write(o,s)+u}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var o=document.cookie?document.cookie.split("; "):[],l={},u=0;u<o.length;u++){var d=o[u].split("="),f=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(l[p]=i.read(f,p),s===p)break}catch{}}return s?l[s]:l}}return Object.create({set:t,get:n,remove:function(s,o){t(s,"",Od({},o,{expires:-1}))},withAttributes:function(s){return Pm(this.converter,Od({},this.attributes,s))},withConverter:function(s){return Pm(Od({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(i)}})}var DB=Pm(OB,{path:"/"});const LB={banner:{welcome:"Bienvenido",log_credentials:"Ingresa tus credenciales para iniciar sesin en la aplicacin."},login:{enter_email:"Ingresa tu correo electrnico",enter_name:"Ingresa un nombre",mail:"Correo",password:"Contrasea",name:"Nombre",remember:"Recordar correo",email_placeholder:"correo@empresa.cl",name_surname:"Nombre Apellido",confirm_password:"Confirmar Contrasea",login:"Iniciar sesin",forgot_password:"Olvidaste tu contrasea?"},dialog:{awaiting_response:"esperando respuesta...",email_instructions:"Las instrucciones han sido enviadas a tu correo electrnico",creating_account:"Creando una cuenta...",success:"xito",verification_email:"Hemos enviado un enlace de verificacin a tu correo electrnico."},error:{error:"Error",credentials_error:"Hay un problema con tus credenciales, por favor contacta soporte",many_attempts:"Demasiados intentos fallidos en un corto tiempo, intntalo ms tarde",error_no_mail:"Por favor ingresa un correo electrnico",error_invalid_mail:"El correo electrnico es invlido o no existe",error_please_email:"Por favor ingresa una direccin de correo electrnico",error_please_valid_email:"Por favor ingresa un correo vlido con la estructura micorreo@dominio.com",error_support_contact:"Contacta soporte para obtener una cuenta TCMS.",error_name_format:"Debe usar el formato 'nombre apellido' separados por un espacio",error_password_Confirm:"Por favor confirma tu contrasea",error_same_password:"Las contraseas deben coincidir",error_min_letters:"Mnimo 8 letras",error_min_capital:"Mnimo 1 letra mayscula",error_min_lower:"Mnimo 1 letra minscula",error_min_number:"Mnimo 1 nmero",error_min_special_char:"Mnimo 1 carcter especial",error_no_valid_password:"Por favor ingresa una contrasea vlida"},forgot:{forgot_title:"Recuperacin de Contrasea",email_instruction:"Se enviar un mensaje a tu correo electrnico con instrucciones para restablecer tu contrasea",send_email:"Enviar correo",mail_sended:"Las instrucciones han sido enviadas a tu correo electrnico.",back:"Volver"}},NB={dropdown:{settings:"Configuraciones",profile:"Perfil",logout:"Cerrar Sesin"},navbar:{guest:"Invitado",not_email:"Sin correo registrado"},tcms_drawer:{help:"Ayuda",you_are:"Ests en",more_tcms:"Ms de TCMS",your_tcms:"Tu Cuenta Tcms"}},kB={login:LB,dashboard:NB},PB={banner:{welcome:"Welcome",log_credentials:"Enter your credentials to log in to the application."},login:{enter_email:"Enter your email",enter_name:"Enter a name",mail:"Mail",password:"Password",name:"Name",remember:"Remember email",email_placeholder:"myaddress@mycompany.com",name_surname:"Name Surname",confirm_password:"Confirm Password",login:"Log in",forgot_password:"Forgot your password?"},dialog:{awaiting_response:"awaiting response...",email_instructions:"The instructions have been sent to your email address",creating_account:"Creating an account..",success:"Success",verification_email:"We have sent a verification link to your email address."},error:{error:"Error",credentials_error:"There is a problem with your credentials, please contact support",many_attempts:"Too many wrong logins in a short time, try again later",error_no_mail:"Please  enter an mail",error_invalid_mail:"The email is invalid or does not exist",error_please_email:"Please enter an e_mail address",error_please_valid_email:"Please enter a valid email following the structure myaddress@host.com",error_support_contact:"Contact support for a TCMS account.",error_name_format:"Must use the format first name surname separated by a space",error_password_Confirm:"Please confirm your password",error_same_password:"Passwords must be the same",error_min_letters:"Minimum 8 letters",error_min_capital:"Minimum 1 capital letter",error_min_lower:"Minimum 1 lower case letter",error_min_number:"Minimum 1 number",error_min_special_char:"Minimum 1 special character",error_no_valid_password:"Please enter a valid password"},forgot:{forgot_title:"Password recovery",email_instruction:"A message will be sent to your email address with instructions on how to reset your password.",send_email:"Send email",mail_sended:"The instructions have been sent to your email address.",back:"Go back"}},jB={navbar:{guest:"Guest",not_email:"Not email registred"},dropdown:{settings:"Settings",profile:"Profile",logout:"Logout"},tcms_drawer:{help:"Help",you_are:"You are in",more_tcms:"More than TCMS",your_tcms:"Your Tcms account"}},IB={login:PB,dashboard:jB},FB=N.createContext();function BB({i18n:i,defaultNS:e,children:t}){const n=N.useMemo(()=>({i18n:i,defaultNS:e}),[i,e]);return N.createElement(FB.Provider,{value:n},t)}//!FORZAR BORRAR EL LOCALSTORAGE
const c_=["es","en"];en.use(l_).init({interpolation:{escapeValue:!1},fallbackLng:"en",supportedLngs:c_,detection:{order:["navigator"],caches:[]},resources:{es:{global:kB},en:{global:IB}},ns:["global"],defaultNS:"global"});const Ug=DB.get("language");Ug&&c_.includes(Ug)?en.changeLanguage(Ug):en.changeLanguage(navigator.language.split("-")[0]);ET.createRoot(document.getElementById("root")).render(T.jsx(ea.StrictMode,{children:T.jsx(K2,{store:KF,children:T.jsx(BB,{i18n:en,children:T.jsx(XF,{})})})}));
